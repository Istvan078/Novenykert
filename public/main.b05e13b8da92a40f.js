"use strict";(self.webpackChunkNovenyek1007=self.webpackChunkNovenyek1007||[]).push([[179],{6304:(st,De,O)=>{O.d(De,{Dh:()=>Re,GT:()=>de,cc:()=>Ae,hO:()=>Le,on:()=>V,pX:()=>se,xv:()=>ue});var l=O(5879),Q=O(120),x=O(2793);st=O.hmd(st);const te=["ngOnDestroy"],se=(Oe,at,lt,oe={})=>new Proxy(Oe,{get:(me,re)=>lt.runOutsideAngular(()=>{var we;if(Oe[re])return!(null===(we=oe?.spy)||void 0===we)&&we.get&&oe.spy.get(re,Oe[re]),Oe[re];if(te.indexOf(re)>-1)return()=>{};const xe=at.toPromise().then(ae=>{const Y=ae&&ae[re];return"function"==typeof Y?Y.bind(ae):Y&&Y.then?Y.then(je=>lt.run(()=>je)):lt.run(()=>Y)});return new Proxy(()=>{},{get:(ae,Y)=>xe[Y],apply:(ae,Y,je)=>xe.then(dt=>{var zt;const ln=dt&&dt(...je);return!(null===(zt=oe?.spy)||void 0===zt)&&zt.apply&&oe.spy.apply(re,je,ln),ln})})})}),de=(Oe,at)=>{at.forEach(lt=>{Object.getOwnPropertyNames(lt.prototype||lt).forEach(oe=>{Object.defineProperty(Oe.prototype,oe,Object.getOwnPropertyDescriptor(lt.prototype||lt,oe))})})};class _e{constructor(at){return at}}const Re=new l.OlP("angularfire2.app.options"),ue=new l.OlP("angularfire2.app.name");function V(Oe,at,lt){const me="object"==typeof lt&&lt||{};me.name=me.name||"string"==typeof lt&&lt||"[DEFAULT]";const we=Q.Z.apps.filter(xe=>xe&&xe.name===me.name)[0]||at.runOutsideAngular(()=>Q.Z.initializeApp(Oe,me));try{JSON.stringify(Oe)!==JSON.stringify(we.options)&&$("error",`${we.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new _e(we)}const $=(Oe,...at)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Oe](...at)},ne={provide:_e,useFactory:V,deps:[Re,l.R0b,[new l.FiY,ue]]};let Le=(()=>{class Oe{constructor(lt){Q.Z.registerVersion("angularfire",x.q4.full,"core"),Q.Z.registerVersion("angularfire",x.q4.full,"app-compat"),Q.Z.registerVersion("angular",l.q4F.full,lt.toString())}static initializeApp(lt,oe){return{ngModule:Oe,providers:[{provide:Re,useValue:lt},{provide:ue,useValue:oe}]}}}return Oe.\u0275fac=function(lt){return new(lt||Oe)(l.LFG(l.Lbi))},Oe.\u0275mod=l.oAB({type:Oe}),Oe.\u0275inj=l.cJS({providers:[ne]}),Oe})();function Ae(Oe,at,lt,oe,me){const[,re,we]=globalThis.\u0275AngularfireInstanceCache.find(xe=>xe[0]===Oe)||[];if(re)return function We(Oe,at){try{return Oe.toString()===at.toString()}catch{return Oe===at}}(me,we)||(Ye("error",`${at} was already initialized on the ${lt} Firebase App with different settings.${Pe?" You may need to reload as Firebase is not HMR aware.":""}`),Ye("warn",{is:me,was:we})),re;{const xe=oe();return globalThis.\u0275AngularfireInstanceCache.push([Oe,xe,me]),xe}}const Pe=!!st.hot,Ye=(Oe,...at)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Oe](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2793:(st,De,O)=>{O.d(De,{q4:()=>Ka,iC:()=>fo,HU:()=>iu,vb:()=>Kh,JM:()=>ho});var l=O(5879),Q=O(4097),x=O(5861),te=O(4303),se=O(9058),de=O(4537),_e=O(7879);const Re=(E,C)=>C.some(A=>E instanceof A);let ue,V;const Le=new WeakMap,Ae=new WeakMap,We=new WeakMap,Pe=new WeakMap,Ye=new WeakMap;let lt={get(E,C,A){if(E instanceof IDBTransaction){if("done"===C)return Ae.get(E);if("objectStoreNames"===C)return E.objectStoreNames||We.get(E);if("store"===C)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return we(E[C])},set:(E,C,A)=>(E[C]=A,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function re(E){return"function"==typeof E?function me(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return V||(V=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(xe(this),C),we(Le.get(this))}:function(...C){return we(E.apply(xe(this),C))}:function(C,...A){const k=E.call(xe(this),C,...A);return We.set(k,C.sort?C.sort():[C]),we(k)}}(E):(E instanceof IDBTransaction&&function at(E){if(Ae.has(E))return;const C=new Promise((A,k)=>{const z=()=>{E.removeEventListener("complete",X),E.removeEventListener("error",ge),E.removeEventListener("abort",ge)},X=()=>{A(),z()},ge=()=>{k(E.error||new DOMException("AbortError","AbortError")),z()};E.addEventListener("complete",X),E.addEventListener("error",ge),E.addEventListener("abort",ge)});Ae.set(E,C)}(E),Re(E,function $(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,lt):E)}function we(E){if(E instanceof IDBRequest)return function Oe(E){const C=new Promise((A,k)=>{const z=()=>{E.removeEventListener("success",X),E.removeEventListener("error",ge)},X=()=>{A(we(E.result)),z()},ge=()=>{k(E.error),z()};E.addEventListener("success",X),E.addEventListener("error",ge)});return C.then(A=>{A instanceof IDBCursor&&Le.set(A,E)}).catch(()=>{}),Ye.set(C,E),C}(E);if(Pe.has(E))return Pe.get(E);const C=re(E);return C!==E&&(Pe.set(E,C),Ye.set(C,E)),C}const xe=E=>Ye.get(E),je=["get","getKey","getAll","getAllKeys","count"],dt=["put","add","delete","clear"],zt=new Map;function ln(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(zt.get(C))return zt.get(C);const A=C.replace(/FromIndex$/,""),k=C!==A,z=dt.includes(A);if(!(A in(k?IDBIndex:IDBObjectStore).prototype)||!z&&!je.includes(A))return;const X=function(){var ge=(0,x.Z)(function*(Qe,...Ke){const ht=this.transaction(Qe,z?"readwrite":"readonly");let It=ht.store;return k&&(It=It.index(Ke.shift())),(yield Promise.all([It[A](...Ke),z&&ht.done]))[0]});return function(Ke){return ge.apply(this,arguments)}}();return zt.set(C,X),X}!function oe(E){lt=E(lt)}(E=>({...E,get:(C,A,k)=>ln(C,A)||E.get(C,A,k),has:(C,A)=>!!ln(C,A)||E.has(C,A)}));const sn="@firebase/installations",fn="0.6.4",pn=1e4,Gn=`w:${fn}`,le="FIS_v2",he="https://firebaseinstallations.googleapis.com/v1",pe=36e5,Je=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ge(E){return E instanceof se.ZR&&E.code.includes("request-failed")}function gn({projectId:E}){return`${he}/projects/${E}/installations`}function gt(E){return{token:E.token,requestStatus:2,expiresIn:q(E.expiresIn),creationTime:Date.now()}}function jt(E,C){return ct.apply(this,arguments)}function ct(){return(ct=(0,x.Z)(function*(E,C){const k=(yield C.json()).error;return Je.create("request-failed",{requestName:E,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})})).apply(this,arguments)}function nn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Tn(E){return K.apply(this,arguments)}function K(){return(K=(0,x.Z)(function*(E){const C=yield E();return C.status>=500&&C.status<600?E():C})).apply(this,arguments)}function q(E){return Number(E.replace("s","000"))}function Be(){return(Be=(0,x.Z)(function*({appConfig:E,heartbeatServiceProvider:C},{fid:A}){const k=gn(E),z=nn(E),X=C.getImmediate({optional:!0});if(X){const ht=yield X.getHeartbeatsHeader();ht&&z.append("x-firebase-client",ht)}const Qe={method:"POST",headers:z,body:JSON.stringify({fid:A,authVersion:le,appId:E.appId,sdkVersion:Gn})},Ke=yield Tn(()=>fetch(k,Qe));if(Ke.ok){const ht=yield Ke.json();return{fid:ht.fid||A,registrationStatus:2,refreshToken:ht.refreshToken,authToken:gt(ht.authToken)}}throw yield jt("Create Installation",Ke)})).apply(this,arguments)}function Xe(E){return new Promise(C=>{setTimeout(C,E)})}const Zt=/^[cdef][\w-]{21}$/,qe="";function ot(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const A=function yt(E){return function un(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Zt.test(A)?A:qe}catch{return qe}}function Yt(E){return`${E.appName}!${E.appId}`}const on=new Map;function In(E,C){const A=Yt(E);an(A,C),function xt(E,C){const A=function Ht(){return!ei&&"BroadcastChannel"in self&&(ei=new BroadcastChannel("[Firebase] FID Change"),ei.onmessage=E=>{an(E.data.key,E.data.fid)}),ei}();A&&A.postMessage({key:E,fid:C}),function yi(){0===on.size&&ei&&(ei.close(),ei=null)}()}(A,C)}function an(E,C){const A=on.get(E);if(A)for(const k of A)k(C)}let ei=null;const Mr="firebase-installations-database",Kr=1,bi="firebase-installations-store";let Or=null;function be(){return Or||(Or=function ae(E,C,{blocked:A,upgrade:k,blocking:z,terminated:X}={}){const ge=indexedDB.open(E,C),Qe=we(ge);return k&&ge.addEventListener("upgradeneeded",Ke=>{k(we(ge.result),Ke.oldVersion,Ke.newVersion,we(ge.transaction))}),A&&ge.addEventListener("blocked",()=>A()),Qe.then(Ke=>{X&&Ke.addEventListener("close",()=>X()),z&&Ke.addEventListener("versionchange",()=>z())}).catch(()=>{}),Qe}(Mr,Kr,{upgrade:(E,C)=>{0===C&&E.createObjectStore(bi)}})),Or}function G(E,C){return ve.apply(this,arguments)}function ve(){return(ve=(0,x.Z)(function*(E,C){const A=Yt(E),z=(yield be()).transaction(bi,"readwrite"),X=z.objectStore(bi),ge=yield X.get(A);return yield X.put(C,A),yield z.done,(!ge||ge.fid!==C.fid)&&In(E,C.fid),C})).apply(this,arguments)}function ze(E){return et.apply(this,arguments)}function et(){return(et=(0,x.Z)(function*(E){const C=Yt(E),k=(yield be()).transaction(bi,"readwrite");yield k.objectStore(bi).delete(C),yield k.done})).apply(this,arguments)}function mt(E,C){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,x.Z)(function*(E,C){const A=Yt(E),z=(yield be()).transaction(bi,"readwrite"),X=z.objectStore(bi),ge=yield X.get(A),Qe=C(ge);return void 0===Qe?yield X.delete(A):yield X.put(Qe,A),yield z.done,Qe&&(!ge||ge.fid!==Qe.fid)&&In(E,Qe.fid),Qe})).apply(this,arguments)}function j(E){return U.apply(this,arguments)}function U(){return U=(0,x.Z)(function*(E){let C;const A=yield mt(E.appConfig,k=>{const z=function J(E){return Mt(E||{fid:ot(),registrationStatus:0})}(k),X=function Te(E,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(Je.create("app-offline"))};const A={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},k=function ce(E,C){return it.apply(this,arguments)}(E,A);return{installationEntry:A,registrationPromise:k}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:St(E)}:{installationEntry:C}}(E,z);return C=X.registrationPromise,X.installationEntry});return A.fid===qe?{installationEntry:yield C}:{installationEntry:A,registrationPromise:C}}),U.apply(this,arguments)}function it(){return it=(0,x.Z)(function*(E,C){try{const A=yield function Ie(E,C){return Be.apply(this,arguments)}(E,C);return G(E.appConfig,A)}catch(A){throw Ge(A)&&409===A.customData.serverCode?yield ze(E.appConfig):yield G(E.appConfig,{fid:C.fid,registrationStatus:0}),A}}),it.apply(this,arguments)}function St(E){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,x.Z)(function*(E){let C=yield Ei(E.appConfig);for(;1===C.registrationStatus;)yield Xe(100),C=yield Ei(E.appConfig);if(0===C.registrationStatus){const{installationEntry:A,registrationPromise:k}=yield j(E);return k||A}return C})).apply(this,arguments)}function Ei(E){return mt(E,C=>{if(!C)throw Je.create("installation-not-found");return Mt(C)})}function Mt(E){return function Wn(E){return 1===E.registrationStatus&&E.registrationTime+pn<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function ui(){return(ui=(0,x.Z)(function*({appConfig:E,heartbeatServiceProvider:C},A){const k=function Es(E,{fid:C}){return`${gn(E)}/${C}/authTokens:generate`}(E,A),z=function cn(E,{refreshToken:C}){const A=nn(E);return A.append("Authorization",function fe(E){return`${le} ${E}`}(C)),A}(E,A),X=C.getImmediate({optional:!0});if(X){const ht=yield X.getHeartbeatsHeader();ht&&z.append("x-firebase-client",ht)}const Qe={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:Gn,appId:E.appId}})},Ke=yield Tn(()=>fetch(k,Qe));if(Ke.ok)return gt(yield Ke.json());throw yield jt("Generate Auth Token",Ke)})).apply(this,arguments)}function Ao(E){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,x.Z)(function*(E,C=!1){let A;const k=yield mt(E.appConfig,X=>{if(!ws(X))throw Je.create("not-registered");const ge=X.authToken;if(!C&&function No(E){return 2===E.requestStatus&&!function Aa(E){const C=Date.now();return C<E.creationTime||E.creationTime+E.expiresIn<C+pe}(E)}(ge))return X;if(1===ge.requestStatus)return A=function xr(E,C){return Ds.apply(this,arguments)}(E,C),X;{if(!navigator.onLine)throw Je.create("app-offline");const Qe=function Wu(E){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:C})}(X);return A=function Er(E,C){return $t.apply(this,arguments)}(E,Qe),Qe}});return A?yield A:k.authToken}),Ec.apply(this,arguments)}function Ds(){return(Ds=(0,x.Z)(function*(E,C){let A=yield br(E.appConfig);for(;1===A.authToken.requestStatus;)yield Xe(100),A=yield br(E.appConfig);const k=A.authToken;return 0===k.requestStatus?Ao(E,C):k})).apply(this,arguments)}function br(E){return mt(E,C=>{if(!ws(C))throw Je.create("not-registered");return function Pr(E){return 1===E.requestStatus&&E.requestTime+pn<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function $t(){return $t=(0,x.Z)(function*(E,C){try{const A=yield function Kt(E,C){return ui.apply(this,arguments)}(E,C),k=Object.assign(Object.assign({},C),{authToken:A});return yield G(E.appConfig,k),A}catch(A){if(!Ge(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const k=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield G(E.appConfig,k)}else yield ze(E.appConfig);throw A}}),$t.apply(this,arguments)}function ws(E){return void 0!==E&&2===E.registrationStatus}function Mo(){return(Mo=(0,x.Z)(function*(E){const C=E,{installationEntry:A,registrationPromise:k}=yield j(C);return k?k.catch(console.error):Ao(C).catch(console.error),A.fid})).apply(this,arguments)}function Oo(){return Oo=(0,x.Z)(function*(E,C=!1){const A=E;return yield function wc(E){return nr.apply(this,arguments)}(A),(yield Ao(A,C)).token}),Oo.apply(this,arguments)}function nr(){return(nr=(0,x.Z)(function*(E){const{registrationPromise:C}=yield j(E);C&&(yield C)})).apply(this,arguments)}function xo(E){return Je.create("missing-app-config-values",{valueName:E})}const Tc="installations",Up=E=>{const C=E.getProvider("app").getImmediate(),A=function Li(E){if(!E||!E.options)throw xo("App Configuration");if(!E.name)throw xo("App Name");const C=["projectId","apiKey","appId"];for(const A of C)if(!E.options[A])throw xo(A);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(C);return{app:C,appConfig:A,heartbeatServiceProvider:(0,te.qX)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Zs=E=>{const C=E.getProvider("app").getImmediate(),A=(0,te.qX)(C,Tc).getImmediate();return{getId:()=>function Ro(E){return Mo.apply(this,arguments)}(A),getToken:z=>function Dc(E){return Oo.apply(this,arguments)}(A,z)}};(function Zu(){(0,te.Xd)(new de.wA(Tc,Up,"PUBLIC")),(0,te.Xd)(new de.wA("installations-internal",Zs,"PRIVATE"))})(),(0,te.KN)(sn,fn),(0,te.KN)(sn,fn,"esm2017");const Po="@firebase/remote-config",Di=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class bt{constructor(C,A,k,z){this.client=C,this.storage=A,this.storageCache=k,this.logger=z}isCachedDataFresh(C,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const k=Date.now()-A,z=k<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${k}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${z}.`),z}fetch(C){var A=this;return(0,x.Z)(function*(){const[k,z]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(z&&A.isCachedDataFresh(C.cacheMaxAgeMillis,k))return z;C.eTag=z&&z.eTag;const X=yield A.client.fetch(C),ge=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&ge.push(A.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(ge),X})()}}function An(E=navigator){return E.languages&&E.languages[0]||E.language}class Ni{constructor(C,A,k,z,X,ge){this.firebaseInstallations=C,this.sdkVersion=A,this.namespace=k,this.projectId=z,this.apiKey=X,this.appId=ge}fetch(C){var A=this;return(0,x.Z)(function*(){const[k,z]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),ge=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,Qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Ke={sdk_version:A.sdkVersion,app_instance_id:k,app_instance_id_token:z,app_id:A.appId,language_code:An()},ht={method:"POST",headers:Qe,body:JSON.stringify(Ke)},It=fetch(ge,ht),At=new Promise((Ti,os)=>{C.signal.addEventListener(()=>{const Yi=new Error("The operation was aborted.");Yi.name="AbortError",os(Yi)})});let Qn;try{yield Promise.race([It,At]),Qn=yield It}catch(Ti){let os="fetch-client-network";throw"AbortError"===Ti?.name&&(os="fetch-timeout"),Di.create(os,{originalErrorMessage:Ti?.message})}let Vn=Qn.status;const Ps=Qn.headers.get("ETag")||void 0;let Un,go;if(200===Qn.status){let Ti;try{Ti=yield Qn.json()}catch(os){throw Di.create("fetch-client-parse",{originalErrorMessage:os?.message})}Un=Ti.entries,go=Ti.state}if("INSTANCE_STATE_UNSPECIFIED"===go?Vn=500:"NO_CHANGE"===go?Vn=304:("NO_TEMPLATE"===go||"EMPTY_CONFIG"===go)&&(Un={}),304!==Vn&&200!==Vn)throw Di.create("fetch-status",{httpStatus:Vn});return{status:Vn,eTag:Ps,config:Un}})()}}class Ra{constructor(C,A){this.client=C,this.storage=A}fetch(C){var A=this;return(0,x.Z)(function*(){const k=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(C,k)})()}attemptFetch(C,{throttleEndTimeMillis:A,backoffCount:k}){var z=this;return(0,x.Z)(function*(){yield function Ys(E,C){return new Promise((A,k)=>{const z=Math.max(C-Date.now(),0),X=setTimeout(A,z);E.addEventListener(()=>{clearTimeout(X),k(Di.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,A);try{const X=yield z.client.fetch(C);return yield z.storage.deleteThrottleMetadata(),X}catch(X){if(!function di(E){if(!(E instanceof se.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(X))throw X;const ge={throttleEndTimeMillis:Date.now()+(0,se.$s)(k),backoffCount:k+1};return yield z.storage.setThrottleMetadata(ge),z.attemptFetch(C,ge)}})()}}class Lo{constructor(C,A,k,z,X){this.app=C,this._client=A,this._storageCache=k,this._storage=z,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Dt(E,C){const A=E.target.error||void 0;return Di.create(C,{originalErrorMessage:A&&A?.message})}const hi="app_namespace_store";class Nc{constructor(C,A,k,z=function Nn(){return new Promise((E,C)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=k=>{C(Dt(k,"storage-open"))},A.onsuccess=k=>{E(k.target.result)},A.onupgradeneeded=k=>{0===k.oldVersion&&k.target.result.createObjectStore(hi,{keyPath:"compositeKey"})}}catch(A){C(Di.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=C,this.appName=A,this.namespace=k,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var A=this;return(0,x.Z)(function*(){const k=yield A.openDbPromise;return new Promise((z,X)=>{const Qe=k.transaction([hi],"readonly").objectStore(hi),Ke=A.createCompositeKey(C);try{const ht=Qe.get(Ke);ht.onerror=It=>{X(Dt(It,"storage-get"))},ht.onsuccess=It=>{const At=It.target.result;z(At?At.value:void 0)}}catch(ht){X(Di.create("storage-get",{originalErrorMessage:ht?.message}))}})})()}set(C,A){var k=this;return(0,x.Z)(function*(){const z=yield k.openDbPromise;return new Promise((X,ge)=>{const Ke=z.transaction([hi],"readwrite").objectStore(hi),ht=k.createCompositeKey(C);try{const It=Ke.put({compositeKey:ht,value:A});It.onerror=At=>{ge(Dt(At,"storage-set"))},It.onsuccess=()=>{X()}}catch(It){ge(Di.create("storage-set",{originalErrorMessage:It?.message}))}})})()}delete(C){var A=this;return(0,x.Z)(function*(){const k=yield A.openDbPromise;return new Promise((z,X)=>{const Qe=k.transaction([hi],"readwrite").objectStore(hi),Ke=A.createCompositeKey(C);try{const ht=Qe.delete(Ke);ht.onerror=It=>{X(Dt(It,"storage-delete"))},ht.onsuccess=()=>{z()}}catch(ht){X(Di.create("storage-delete",{originalErrorMessage:ht?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Ks{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,x.Z)(function*(){const A=C.storage.getLastFetchStatus(),k=C.storage.getLastSuccessfulFetchTimestampMillis(),z=C.storage.getActiveConfig(),X=yield A;X&&(C.lastFetchStatus=X);const ge=yield k;ge&&(C.lastSuccessfulFetchTimestampMillis=ge);const Qe=yield z;Qe&&(C.activeConfig=Qe)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Ss(){return or.apply(this,arguments)}function or(){return(or=(0,x.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}!function ti(){(0,te.Xd)(new de.wA("remote-config",function E(C,{instanceIdentifier:A}){const k=C.getProvider("app").getImmediate(),z=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Di.create("registration-window");if(!(0,se.hl)())throw Di.create("indexed-db-unavailable");const{projectId:X,apiKey:ge,appId:Qe}=k.options;if(!X)throw Di.create("registration-project-id");if(!ge)throw Di.create("registration-api-key");if(!Qe)throw Di.create("registration-app-id");const Ke=new Nc(Qe,k.name,A=A||"firebase"),ht=new Ks(Ke),It=new _e.Yd(Po);It.logLevel=_e.in.ERROR;const At=new Ni(z,te.Jn,A,X,ge,Qe),Qn=new Ra(At,Ke),Vn=new bt(Qn,Ke,ht,It),Ps=new Lo(k,Vn,ht,Ke,It);return function Si(E){const C=(0,se.m9)(E);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Ps),Ps},"PUBLIC").setMultipleInstances(!0)),(0,te.KN)(Po,"0.4.4"),(0,te.KN)(Po,"0.4.4","esm2017")}();const Ma=(E,C)=>C.some(A=>E instanceof A);let As,Ot;const Il=new WeakMap,ni=new WeakMap,qs=new WeakMap,ii=new WeakMap,Ns=new WeakMap;let ri={get(E,C,A){if(E instanceof IDBTransaction){if("done"===C)return ni.get(E);if("objectStoreNames"===C)return E.objectStoreNames||qs.get(E);if("store"===C)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return Wi(E[C])},set:(E,C,A)=>(E[C]=A,!0),has:(E,C)=>E instanceof IDBTransaction&&("done"===C||"store"===C)||C in E};function Js(E){return"function"==typeof E?function Sl(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Bo(){return Ot||(Ot=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...C){return E.apply(Bi(this),C),Wi(Il.get(this))}:function(...C){return Wi(E.apply(Bi(this),C))}:function(C,...A){const k=E.call(Bi(this),C,...A);return qs.set(k,C.sort?C.sort():[C]),Wi(k)}}(E):(E instanceof IDBTransaction&&function xh(E){if(ni.has(E))return;const C=new Promise((A,k)=>{const z=()=>{E.removeEventListener("complete",X),E.removeEventListener("error",ge),E.removeEventListener("abort",ge)},X=()=>{A(),z()},ge=()=>{k(E.error||new DOMException("AbortError","AbortError")),z()};E.addEventListener("complete",X),E.addEventListener("error",ge),E.addEventListener("abort",ge)});ni.set(E,C)}(E),Ma(E,function jp(){return As||(As=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,ri):E)}function Wi(E){if(E instanceof IDBRequest)return function fi(E){const C=new Promise((A,k)=>{const z=()=>{E.removeEventListener("success",X),E.removeEventListener("error",ge)},X=()=>{A(Wi(E.result)),z()},ge=()=>{k(E.error),z()};E.addEventListener("success",X),E.addEventListener("error",ge)});return C.then(A=>{A instanceof IDBCursor&&Il.set(A,E)}).catch(()=>{}),Ns.set(C,E),C}(E);if(ii.has(E))return ii.get(E);const C=Js(E);return C!==E&&(ii.set(E,C),Ns.set(C,E)),C}const Bi=E=>Ns.get(E);function Vo(E,C,{blocked:A,upgrade:k,blocking:z,terminated:X}={}){const ge=indexedDB.open(E,C),Qe=Wi(ge);return k&&ge.addEventListener("upgradeneeded",Ke=>{k(Wi(ge.result),Ke.oldVersion,Ke.newVersion,Wi(ge.transaction))}),A&&ge.addEventListener("blocked",()=>A()),Qe.then(Ke=>{X&&Ke.addEventListener("close",()=>X()),z&&Ke.addEventListener("versionchange",()=>z())}).catch(()=>{}),Qe}function Uo(E,{blocked:C}={}){const A=indexedDB.deleteDatabase(E);return C&&A.addEventListener("blocked",()=>C()),Wi(A).then(()=>{})}const Rc=["get","getKey","getAll","getAllKeys","count"],Hp=["put","add","delete","clear"],Al=new Map;function Mc(E,C){if(!(E instanceof IDBDatabase)||C in E||"string"!=typeof C)return;if(Al.get(C))return Al.get(C);const A=C.replace(/FromIndex$/,""),k=C!==A,z=Hp.includes(A);if(!(A in(k?IDBIndex:IDBObjectStore).prototype)||!z&&!Rc.includes(A))return;const X=function(){var ge=(0,x.Z)(function*(Qe,...Ke){const ht=this.transaction(Qe,z?"readwrite":"readonly");let It=ht.store;return k&&(It=It.index(Ke.shift())),(yield Promise.all([It[A](...Ke),z&&ht.done]))[0]});return function(Ke){return ge.apply(this,arguments)}}();return Al.set(C,X),X}!function wi(E){ri=E(ri)}(E=>({...E,get:(C,A,k)=>Mc(C,A)||E.get(C,A,k),has:(C,A)=>!!Mc(C,A)||E.has(C,A)}));const qu="/firebase-messaging-sw.js",Oc="/firebase-cloud-messaging-push-scope",Ju="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$p="https://fcmregistrations.googleapis.com/v1",Rn="google.c.a.c_id",Gp="google.c.a.c_l",Ph="google.c.a.ts";var Qu=function(E){return E.PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",E}(Qu||{});function Xr(E){const C=new Uint8Array(E);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xc(E){const A=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),k=atob(A),z=new Uint8Array(k.length);for(let X=0;X<k.length;++X)z[X]=k.charCodeAt(X);return z}const jo="fcm_token_details_db",Pc=5,Oa="fcm_token_object_Store";function xa(){return xa=(0,x.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(jo))return null;let C=null;return(yield Vo(jo,Pc,{upgrade:(k=(0,x.Z)(function*(z,X,ge,Qe){var Ke;if(X<2||!z.objectStoreNames.contains(Oa))return;const ht=Qe.objectStore(Oa),It=yield ht.index("fcmSenderId").get(E);if(yield ht.clear(),It)if(2===X){const At=It;if(!At.auth||!At.p256dh||!At.endpoint)return;C={token:At.fcmToken,createTime:null!==(Ke=At.createTime)&&void 0!==Ke?Ke:Date.now(),subscriptionOptions:{auth:At.auth,p256dh:At.p256dh,endpoint:At.endpoint,swScope:At.swScope,vapidKey:"string"==typeof At.vapidKey?At.vapidKey:Xr(At.vapidKey)}}}else if(3===X){const At=It;C={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:Xr(At.auth),p256dh:Xr(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:Xr(At.vapidKey)}}}else if(4===X){const At=It;C={token:At.fcmToken,createTime:At.createTime,subscriptionOptions:{auth:Xr(At.auth),p256dh:Xr(At.p256dh),endpoint:At.endpoint,swScope:At.swScope,vapidKey:Xr(At.vapidKey)}}}}),function(X,ge,Qe,Ke){return k.apply(this,arguments)})})).close(),yield Uo(jo),yield Uo("fcm_vapid_details_db"),yield Uo("undefined"),function Qs(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:C}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var k}),xa.apply(this,arguments)}const kr="firebase-messaging-database",Xu=1,ar="firebase-messaging-store";let Yn=null;function Xs(){return Yn||(Yn=Vo(kr,Xu,{upgrade:(E,C)=>{0===C&&E.createObjectStore(ar)}})),Yn}function Vi(E){return eo.apply(this,arguments)}function eo(){return eo=(0,x.Z)(function*(E){const C=ka(E),k=yield(yield Xs()).transaction(ar).objectStore(ar).get(C);if(k)return k;{const z=yield function m_(E){return xa.apply(this,arguments)}(E.appConfig.senderId);if(z)return yield kc(E,z),z}}),eo.apply(this,arguments)}function kc(E,C){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,x.Z)(function*(E,C){const A=ka(E),z=(yield Xs()).transaction(ar,"readwrite");return yield z.objectStore(ar).put(C,A),yield z.done,C})).apply(this,arguments)}function Ho(){return(Ho=(0,x.Z)(function*(E){const C=ka(E),k=(yield Xs()).transaction(ar,"readwrite");yield k.objectStore(ar).delete(C),yield k.done})).apply(this,arguments)}function ka({appConfig:E}){return E.appId}const si=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fc(E,C){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,x.Z)(function*(E,C){const A=yield nd(E),k=Wp(C),z={method:"POST",headers:A,body:JSON.stringify(k)};let X;try{X=yield(yield fetch(La(E.appConfig),z)).json()}catch(ge){throw si.create("token-subscribe-failed",{errorInfo:ge?.toString()})}if(X.error)throw si.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw si.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function Fa(){return(Fa=(0,x.Z)(function*(E,C){const A=yield nd(E),k=Wp(C.subscriptionOptions),z={method:"PATCH",headers:A,body:JSON.stringify(k)};let X;try{X=yield(yield fetch(`${La(E.appConfig)}/${C.token}`,z)).json()}catch(ge){throw si.create("token-update-failed",{errorInfo:ge?.toString()})}if(X.error)throw si.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw si.create("token-update-no-token");return X.token})).apply(this,arguments)}function to(E,C){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,x.Z)(function*(E,C){const k={method:"DELETE",headers:yield nd(E)};try{const X=yield(yield fetch(`${La(E.appConfig)}/${C}`,k)).json();if(X.error)throw si.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(z){throw si.create("token-unsubscribe-failed",{errorInfo:z?.toString()})}})).apply(this,arguments)}function La({projectId:E}){return`${$p}/projects/${E}/registrations`}function nd(E){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,x.Z)(function*({appConfig:E,installations:C}){const A=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function Wp({p256dh:E,auth:C,endpoint:A,vapidKey:k}){const z={web:{endpoint:A,auth:C,p256dh:E}};return k!==Ju&&(z.web.applicationPubKey=k),z}const id=6048e5;function Vc(){return Vc=(0,x.Z)(function*(E){const C=yield function Ba(E,C){return Uc.apply(this,arguments)}(E.swRegistration,E.vapidKey),A={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:C.endpoint,auth:Xr(C.getKey("auth")),p256dh:Xr(C.getKey("p256dh"))},k=yield Vi(E.firebaseDependencies);if(k){if(function sd(E,C){return C.vapidKey===E.vapidKey&&C.endpoint===E.endpoint&&C.auth===E.auth&&C.p256dh===E.p256dh}(k.subscriptionOptions,A))return Date.now()>=k.createTime+id?function Fh(E,C){return $o.apply(this,arguments)}(E,{token:k.token,createTime:Date.now(),subscriptionOptions:A}):k.token;try{yield to(E.firebaseDependencies,k.token)}catch(z){console.warn(z)}return Zp(E.firebaseDependencies,A)}return Zp(E.firebaseDependencies,A)}),Vc.apply(this,arguments)}function Rl(){return Rl=(0,x.Z)(function*(E){const C=yield Vi(E.firebaseDependencies);C&&(yield to(E.firebaseDependencies,C.token),yield function ed(E){return Ho.apply(this,arguments)}(E.firebaseDependencies));const A=yield E.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),Rl.apply(this,arguments)}function $o(){return $o=(0,x.Z)(function*(E,C){try{const A=yield function Bc(E,C){return Fa.apply(this,arguments)}(E.firebaseDependencies,C),k=Object.assign(Object.assign({},C),{token:A,createTime:Date.now()});return yield kc(E.firebaseDependencies,k),A}catch(A){throw yield function rd(E){return Rl.apply(this,arguments)}(E),A}}),$o.apply(this,arguments)}function Zp(E,C){return Go.apply(this,arguments)}function Go(){return(Go=(0,x.Z)(function*(E,C){const k={token:yield Fc(E,C),createTime:Date.now(),subscriptionOptions:C};return yield kc(E,k),k.token})).apply(this,arguments)}function Uc(){return(Uc=(0,x.Z)(function*(E,C){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xc(C)})})).apply(this,arguments)}function Ml(E){const C={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Va(E,C){if(!C.notification)return;E.notification={};const A=C.notification.title;A&&(E.notification.title=A);const k=C.notification.body;k&&(E.notification.body=k);const z=C.notification.image;z&&(E.notification.image=z);const X=C.notification.icon;X&&(E.notification.icon=X)}(C,E),function Lh(E,C){C.data&&(E.data=C.data)}(C,E),function jc(E,C){var A,k,z,X,ge;if(!(C.fcmOptions||null!==(A=C.notification)&&void 0!==A&&A.click_action))return;E.fcmOptions={};const Qe=null!==(z=null===(k=C.fcmOptions)||void 0===k?void 0:k.link)&&void 0!==z?z:null===(X=C.notification)||void 0===X?void 0:X.click_action;Qe&&(E.fcmOptions.link=Qe);const Ke=null===(ge=C.fcmOptions)||void 0===ge?void 0:ge.analytics_label;Ke&&(E.fcmOptions.analyticsLabel=Ke)}(C,E),C}function Hc(E,C){const A=[];for(let k=0;k<E.length;k++)A.push(E.charAt(k)),k<C.length&&A.push(C.charAt(k));return A.join("")}function $c(E){return si.create("missing-app-config-values",{valueName:E})}Hc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vh{constructor(C,A,k){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function Bh(E){if(!E||!E.options)throw $c("App Configuration Object");if(!E.name)throw $c("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:A}=E;for(const k of C)if(!A[k])throw $c(k);return{appName:E.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:z,installations:A,analyticsProvider:k}}_delete(){return Promise.resolve()}}function Ua(){return(Ua=(0,x.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(qu,{scope:Oc}),E.swRegistration.update().catch(()=>{})}catch(C){throw si.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function no(){return(no=(0,x.Z)(function*(E,C){if(!C&&!E.swRegistration&&(yield function Ol(E){return Ua.apply(this,arguments)}(E)),C||!E.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw si.create("invalid-sw-registration");E.swRegistration=C}})).apply(this,arguments)}function io(){return(io=(0,x.Z)(function*(E,C){C?E.vapidKey=C:E.vapidKey||(E.vapidKey=Ju)})).apply(this,arguments)}function ja(){return ja=(0,x.Z)(function*(E,C){if(!navigator)throw si.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw si.create("permission-blocked");return yield function Fr(E,C){return io.apply(this,arguments)}(E,C?.vapidKey),yield function Uh(E,C){return no.apply(this,arguments)}(E,C?.serviceWorkerRegistration),function zp(E){return Vc.apply(this,arguments)}(E)}),ja.apply(this,arguments)}function Dr(){return(Dr=(0,x.Z)(function*(E,C,A){const k=function ad(E){switch(E){case Qu.NOTIFICATION_CLICKED:return"notification_open";case Qu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(k,{message_id:A[Rn],message_name:A[Gp],message_time:A[Ph],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xt(){return Xt=(0,x.Z)(function*(E,C){const A=C.data;if(!A.isFirebaseMessaging)return;E.onMessageHandler&&A.messageType===Qu.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Ml(A)):E.onMessageHandler.next(Ml(A)));const k=A.data;(function Yp(E){return"object"==typeof E&&!!E&&Rn in E})(k)&&"1"===k["google.c.a.e"]&&(yield function jh(E,C,A){return Dr.apply(this,arguments)}(E,A.messageType,k))}),Xt.apply(this,arguments)}const ro="@firebase/messaging",pi=E=>{const C=new Vh(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function ld(E,C){return Xt.apply(this,arguments)}(C,A)),C},Hh=E=>{const C=E.getProvider("messaging").getImmediate();return{getToken:k=>function od(E,C){return ja.apply(this,arguments)}(C,k)}};function oo(){return gi.apply(this,arguments)}function gi(){return(gi=(0,x.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Gc(){(0,te.Xd)(new de.wA("messaging",pi,"PUBLIC")),(0,te.Xd)(new de.wA("messaging-internal",Hh,"PRIVATE")),(0,te.KN)(ro,"0.12.4"),(0,te.KN)(ro,"0.12.4","esm2017")}();const bn="analytics",qp="firebase_id",wt="origin",cd=6e4,ud="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Pl="https://www.googletagmanager.com/gtag/js",oi=new _e.Yd("@firebase/analytics"),mi=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Lr(E){if(!E.startsWith(Pl)){const C=mi.create("invalid-gtag-resource",{gtagURL:E});return oi.warn(C.message),""}return E}function zc(E){return Promise.all(E.map(C=>C.catch(A=>A)))}function Me(){return(Me=(0,x.Z)(function*(E,C,A,k,z,X){const ge=k[z];try{if(ge)yield C[ge];else{const Ke=(yield zc(A)).find(ht=>ht.measurementId===z);Ke&&(yield C[Ke.appId])}}catch(Qe){oi.error(Qe)}E("config",z,X)})).apply(this,arguments)}function wr(){return(wr=(0,x.Z)(function*(E,C,A,k,z){try{let X=[];if(z&&z.send_to){let ge=z.send_to;Array.isArray(ge)||(ge=[ge]);const Qe=yield zc(A);for(const Ke of ge){const ht=Qe.find(At=>At.measurementId===Ke),It=ht&&C[ht.appId];if(!It){X=[];break}X.push(It)}}0===X.length&&(X=Object.values(C)),yield Promise.all(X),E("event",k,z||{})}catch(X){oi.error(X)}})).apply(this,arguments)}const zo=30,Yc=new class ao{constructor(C={},A=1e3){this.throttleMetadata=C,this.intervalMillis=A}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,A){this.throttleMetadata[C]=A}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function zh(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function Kc(){return(Kc=(0,x.Z)(function*(E){var C;const{appId:A,apiKey:k}=E,z={method:"GET",headers:zh(k)},X=ud.replace("{app-id}",A),ge=yield fetch(X,z);if(200!==ge.status&&304!==ge.status){let Qe="";try{const Ke=yield ge.json();null!==(C=Ke.error)&&void 0!==C&&C.message&&(Qe=Ke.error.message)}catch{}throw mi.create("config-fetch-failed",{httpStatus:ge.status,responseMessage:Qe})}return ge.json()})).apply(this,arguments)}function zi(){return(zi=(0,x.Z)(function*(E,C=Yc,A){const{appId:k,apiKey:z,measurementId:X}=E.options;if(!k)throw mi.create("no-app-id");if(!z){if(X)return{measurementId:X,appId:k};throw mi.create("no-api-key")}const ge=C.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Qe=new pd;return setTimeout((0,x.Z)(function*(){Qe.abort()}),void 0!==A?A:cd),hd({appId:k,apiKey:z,measurementId:X},ge,Qe,C)})).apply(this,arguments)}function hd(E,C,A){return lo.apply(this,arguments)}function lo(){return lo=(0,x.Z)(function*(E,{throttleEndTimeMillis:C,backoffCount:A},k,z=Yc){var X;const{appId:ge,measurementId:Qe}=E;try{yield function Os(E,C){return new Promise((A,k)=>{const z=Math.max(C-Date.now(),0),X=setTimeout(A,z);E.addEventListener(()=>{clearTimeout(X),k(mi.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(k,C)}catch(Ke){if(Qe)return oi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${Ke?.message}]`),{appId:ge,measurementId:Qe};throw Ke}try{const Ke=yield function __(E){return Kc.apply(this,arguments)}(E);return z.deleteThrottleMetadata(ge),Ke}catch(Ke){const ht=Ke;if(!function fd(E){if(!(E instanceof se.ZR&&E.customData))return!1;const C=Number(E.customData.httpStatus);return 429===C||500===C||503===C||504===C}(ht)){if(z.deleteThrottleMetadata(ge),Qe)return oi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${ht?.message}]`),{appId:ge,measurementId:Qe};throw Ke}const It=503===Number(null===(X=ht?.customData)||void 0===X?void 0:X.httpStatus)?(0,se.$s)(A,z.intervalMillis,zo):(0,se.$s)(A,z.intervalMillis),At={throttleEndTimeMillis:Date.now()+It,backoffCount:A+1};return z.setThrottleMetadata(ge,At),oi.debug(`Calling attemptFetch again in ${It} millis`),hd(E,At,k,z)}}),lo.apply(this,arguments)}class pd{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Vl,Tt;function Ul(){return(Ul=(0,x.Z)(function*(E,C,A,k,z){if(z&&z.global)E("event",A,k);else{const X=yield C;E("event",A,Object.assign(Object.assign({},k),{send_to:X}))}})).apply(this,arguments)}function mn(){return(mn=(0,x.Z)(function*(){if(!(0,se.hl)())return oi.warn(mi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(E){return oi.warn(mi.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function ts(){return ts=(0,x.Z)(function*(E,C,A,k,z,X,ge){var Qe;const Ke=function ji(E){return zi.apply(this,arguments)}(E);Ke.then(Vn=>{A[Vn.measurementId]=Vn.appId,E.options.measurementId&&Vn.measurementId!==E.options.measurementId&&oi.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Vn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Vn=>oi.error(Vn)),C.push(Ke);const ht=function en(){return mn.apply(this,arguments)}().then(Vn=>{if(Vn)return k.getId()}),[It,At]=yield Promise.all([Ke,ht]);(function Bl(E){const C=window.document.getElementsByTagName("script");for(const A of Object.values(C))if(A.src&&A.src.includes(Pl)&&A.src.includes(E))return A;return null})(X)||function Fl(E,C){const A=function kl(E,C){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(E,C)),A}("firebase-js-sdk-policy",{createScriptURL:Lr}),k=document.createElement("script"),z=`${Pl}?l=${E}&id=${C}`;k.src=A?A?.createScriptURL(z):z,k.async=!0,document.head.appendChild(k)}(X,It.measurementId),Tt&&(z("consent","default",Tt),function Ha(E){Tt=E}(void 0)),z("js",new Date);const Qn=null!==(Qe=ge?.config)&&void 0!==Qe?Qe:{};return Qn[wt]="firebase",Qn.update=!0,null!=At&&(Qn[qp]=At),z("config",It.measurementId,Qn),Vl&&(z("set",Vl),function xn(E){Vl=E}(void 0)),It.measurementId}),ts.apply(this,arguments)}class xs{constructor(C){this.app=C}_delete(){return delete Ln[this.app.options.appId],Promise.resolve()}}let Ln={},Zo=[];const $a={};let Vr,Bn,Cr="dataLayer",Ga=!1;function lr(E,C,A){!function Ur(){const E=[];if((0,se.ru)()&&E.push("This is a browser extension environment."),(0,se.zI)()||E.push("Cookies are not available."),E.length>0){const C=E.map((k,z)=>`(${z+1}) ${k}`).join(" "),A=mi.create("invalid-analytics-context",{errorInfo:C});oi.warn(A.message)}}();const k=E.options.appId;if(!k)throw mi.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw mi.create("no-api-key");oi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ln[k])throw mi.create("already-exists",{id:k});if(!Ga){!function Jp(E){let C=[];Array.isArray(window[E])?C=window[E]:window[E]=C}(Cr);const{wrappedGtag:X,gtagCore:ge}=function ai(E,C,A,k,z){let X=function(...ge){window[k].push(arguments)};return window[z]&&"function"==typeof window[z]&&(X=window[z]),window[z]=function Ll(E,C,A,k){function X(){return X=(0,x.Z)(function*(ge,...Qe){try{if("event"===ge){const[Ke,ht]=Qe;yield function Ut(E,C,A,k,z){return wr.apply(this,arguments)}(E,C,A,Ke,ht)}else if("config"===ge){const[Ke,ht]=Qe;yield function Zc(E,C,A,k,z,X){return Me.apply(this,arguments)}(E,C,A,k,Ke,ht)}else if("consent"===ge){const[Ke]=Qe;E("consent","update",Ke)}else if("get"===ge){const[Ke,ht,It]=Qe;E("get",Ke,ht,It)}else if("set"===ge){const[Ke]=Qe;E("set",Ke)}else E(ge,...Qe)}catch(Ke){oi.error(Ke)}}),X.apply(this,arguments)}return function z(ge){return X.apply(this,arguments)}}(X,E,C,A),{gtagCore:X,wrappedGtag:window[z]}}(Ln,Zo,$a,Cr,"gtag");Bn=X,Vr=ge,Ga=!0}return Ln[k]=function En(E,C,A,k,z,X,ge){return ts.apply(this,arguments)}(E,Zo,$a,C,Vr,Cr,A),new xs(E)}function Yo(){return ns.apply(this,arguments)}function ns(){return(ns=(0,x.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}const qo="@firebase/analytics";!function Za(){(0,te.Xd)(new de.wA(bn,(C,{options:A})=>lr(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,te.Xd)(new de.wA("analytics-internal",function E(C){try{const A=C.getProvider(bn).getImmediate();return{logEvent:(k,z,X)=>function Wl(E,C,A,k){E=(0,se.m9)(E),function Qp(E,C,A,k,z){return Ul.apply(this,arguments)}(Bn,Ln[E.app.options.appId],C,A,k).catch(z=>oi.error(z))}(A,k,z,X)}}catch(A){throw mi.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,te.KN)(qo,"0.10.0"),(0,te.KN)(qo,"0.10.0","esm2017")}();var Zi=O(1954),Ya=O(2631);const Jo=new class qn extends Ya.v{}(class zl extends Zi.o{constructor(C,A){super(C,A),this.scheduler=C,this.work=A}schedule(C,A=0){return A>0?super.schedule(C,A):(this.delay=A,this.state=C,this.scheduler.flush(this),this)}execute(C,A){return A>0||this.closed?super.execute(C,A):this._execute(C,A)}requestAsyncId(C,A,k=0){return null!=k&&k>0||null==k&&this.delay>0?super.requestAsyncId(C,A,k):(C.flush(this),0)}});var cr=O(6321),Dn=O(9397),Xc=O(5137),jr=O(3093);const Ka=new l.GfV("7.6.1"),ur="__angularfire_symbol__analyticsIsSupportedValue",Ci="__angularfire_symbol__analyticsIsSupported",Tr="__angularfire_symbol__remoteConfigIsSupportedValue",Zl="__angularfire_symbol__remoteConfigIsSupported",rs="__angularfire_symbol__messagingIsSupportedValue",uo="__angularfire_symbol__messagingIsSupported";function ho(E,C,A){if(C){if(1===C.length)return C[0];const X=C.filter(ge=>ge.app===A);if(1===X.length)return X[0]}return A.container.getProvider(E).getImmediate({optional:!0})}globalThis[Ci]||(globalThis[Ci]=Yo().then(E=>globalThis[ur]=E).catch(()=>globalThis[ur]=!1)),globalThis[uo]||(globalThis[uo]=oo().then(E=>globalThis[rs]=E).catch(()=>globalThis[rs]=!1)),globalThis[Zl]||(globalThis[Zl]=Ss().then(E=>globalThis[Tr]=E).catch(()=>globalThis[Tr]=!1));const Kh=(E,C)=>{const A=C?[C]:(0,Q.C6)(),k=[];return A.forEach(z=>{z.container.getProvider(E).instances.forEach(ge=>{k.includes(ge)||k.push(ge)})}),k};function ss(){}class nu{constructor(C,A=Jo){this.zone=C,this.delegate=A}now(){return this.delegate.now()}schedule(C,A,k){const z=this.zone;return this.delegate.schedule(function(ge){z.runGuarded(()=>{C.apply(this,[ge])})},A,k)}}class Ja{constructor(C){this.zone=C,this.task=null}call(C,A){const k=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ss,{},ss,ss)),A.pipe((0,Dn.b)({next:k,complete:k,error:k})).subscribe(C).add(k)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let iu=(()=>{class E{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new nu(Zone.current)),this.insideAngular=A.run(()=>new nu(Zone.current,cr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(A){return new(A||E)(l.LFG(l.R0b))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function _n(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function fo(E){return _n(),function Qo(E){return function(A){return(A=A.lift(new Ja(E.ngZone))).pipe((0,Xc.R)(E.outsideAngular),(0,jr.Q)(E.insideAngular))}}(_n())(E)}},9058:(st,De,O)=>{O.d(De,{$s:()=>ze,BH:()=>re,DV:()=>q,Dv:()=>an,GJ:()=>Tn,L:()=>ue,LL:()=>Ne,Pz:()=>me,Sg:()=>we,UG:()=>Y,UI:()=>Ie,US:()=>de,Wj:()=>Ht,Wl:()=>gt,Yr:()=>pn,ZB:()=>ne,ZR:()=>Ce,aH:()=>oe,b$:()=>zt,cI:()=>gn,dS:()=>Mr,eu:()=>he,g5:()=>x,gK:()=>xt,gQ:()=>yt,h$:()=>Re,hl:()=>le,hu:()=>Q,jU:()=>je,lb:()=>yi,m9:()=>Qt,ne:()=>Yt,p$:()=>$,pd:()=>ot,r3:()=>K,ru:()=>dt,tV:()=>V,uI:()=>ae,ug:()=>Kr,vZ:()=>Be,w1:()=>sn,w9:()=>cn,xO:()=>Zt,xb:()=>fe,z$:()=>xe,zI:()=>pe,zd:()=>qe});const l={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Q=function(j,U){if(!j)throw x(U)},x=function(j){return new Error("Firebase Database ("+l.SDK_VERSION+") INTERNAL ASSERT FAILED: "+j)},te=function(j){const U=[];let J=0;for(let Te=0;Te<j.length;Te++){let ce=j.charCodeAt(Te);ce<128?U[J++]=ce:ce<2048?(U[J++]=ce>>6|192,U[J++]=63&ce|128):55296==(64512&ce)&&Te+1<j.length&&56320==(64512&j.charCodeAt(Te+1))?(ce=65536+((1023&ce)<<10)+(1023&j.charCodeAt(++Te)),U[J++]=ce>>18|240,U[J++]=ce>>12&63|128,U[J++]=ce>>6&63|128,U[J++]=63&ce|128):(U[J++]=ce>>12|224,U[J++]=ce>>6&63|128,U[J++]=63&ce|128)}return U},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,U){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,Te=[];for(let ce=0;ce<j.length;ce+=3){const it=j[ce],St=ce+1<j.length,Ct=St?j[ce+1]:0,Ei=ce+2<j.length,Mt=Ei?j[ce+2]:0;let ui=(15&Ct)<<2|Mt>>6,Es=63&Mt;Ei||(Es=64,St||(ui=64)),Te.push(J[it>>2],J[(3&it)<<4|Ct>>4],J[ui],J[Es])}return Te.join("")},encodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(j):this.encodeByteArray(te(j),U)},decodeString(j,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(j):function(j){const U=[];let J=0,Te=0;for(;J<j.length;){const ce=j[J++];if(ce<128)U[Te++]=String.fromCharCode(ce);else if(ce>191&&ce<224){const it=j[J++];U[Te++]=String.fromCharCode((31&ce)<<6|63&it)}else if(ce>239&&ce<365){const Ei=((7&ce)<<18|(63&j[J++])<<12|(63&j[J++])<<6|63&j[J++])-65536;U[Te++]=String.fromCharCode(55296+(Ei>>10)),U[Te++]=String.fromCharCode(56320+(1023&Ei))}else{const it=j[J++],St=j[J++];U[Te++]=String.fromCharCode((15&ce)<<12|(63&it)<<6|63&St)}}return U.join("")}(this.decodeStringToByteArray(j,U))},decodeStringToByteArray(j,U){this.init_();const J=U?this.charToByteMapWebSafe_:this.charToByteMap_,Te=[];for(let ce=0;ce<j.length;){const it=J[j.charAt(ce++)],Ct=ce<j.length?J[j.charAt(ce)]:0;++ce;const Mt=ce<j.length?J[j.charAt(ce)]:64;++ce;const Kt=ce<j.length?J[j.charAt(ce)]:64;if(++ce,null==it||null==Ct||null==Mt||null==Kt)throw new _e;Te.push(it<<2|Ct>>4),64!==Mt&&(Te.push(Ct<<4&240|Mt>>2),64!==Kt&&Te.push(Mt<<6&192|Kt))}return Te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(j){const U=te(j);return de.encodeByteArray(U,!0)},ue=function(j){return Re(j).replace(/\./g,"")},V=function(j){try{return de.decodeString(j,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function $(j){return ne(void 0,j)}function ne(j,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return U}for(const J in U)!U.hasOwnProperty(J)||!Le(J)||(j[J]=ne(j[J],U[J]));return j}function Le(j){return"__proto__"!==j}const Oe=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const j=process.env.__FIREBASE_DEFAULTS__;return j?JSON.parse(j):void 0})()||(()=>{if(typeof document>"u")return;let j;try{j=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=j&&V(j[1]);return U&&JSON.parse(U)})()}catch(j){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${j}`)}},oe=()=>{var j;return null===(j=Oe())||void 0===j?void 0:j.config},me=j=>{var U;return null===(U=Oe())||void 0===U?void 0:U[`_${j}`]};class re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,J)=>{this.resolve=U,this.reject=J})}wrapCallback(U){return(J,Te)=>{J?this.reject(J):this.resolve(Te),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(J):U(J,Te))}}}function we(j,U){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Te=U||"demo-project",ce=j.iat||0,it=j.sub||j.user_id;if(!it)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const St=Object.assign({iss:`https://securetoken.google.com/${Te}`,aud:Te,iat:ce,exp:ce+3600,auth_time:ce,sub:it,user_id:it,firebase:{sign_in_provider:"custom",identities:{}}},j);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(St)),""].join(".")}function xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xe())}function Y(){var j;const U=null===(j=Oe())||void 0===j?void 0:j.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function je(){return"object"==typeof self&&self.self===self}function dt(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function sn(){const j=xe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function pn(){return!0===l.NODE_CLIENT||!0===l.NODE_ADMIN}function le(){try{return"object"==typeof indexedDB}catch{return!1}}function he(){return new Promise((j,U)=>{try{let J=!0;const Te="validate-browser-context-for-indexeddb-analytics-module",ce=self.indexedDB.open(Te);ce.onsuccess=()=>{ce.result.close(),J||self.indexedDB.deleteDatabase(Te),j(!0)},ce.onupgradeneeded=()=>{J=!1},ce.onerror=()=>{var it;U((null===(it=ce.error)||void 0===it?void 0:it.message)||"")}}catch(J){U(J)}})}function pe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ce extends Error{constructor(U,J,Te){super(J),this.code=U,this.customData=Te,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(U,J,Te){this.service=U,this.serviceName=J,this.errors=Te}create(U,...J){const Te=J[0]||{},ce=`${this.service}/${U}`,it=this.errors[U],St=it?function Je(j,U){return j.replace(Ge,(J,Te)=>{const ce=U[Te];return null!=ce?String(ce):`<${Te}?>`})}(it,Te):"Error";return new Ce(ce,`${this.serviceName}: ${St} (${ce}).`,Te)}}const Ge=/\{\$([^}]+)}/g;function gn(j){return JSON.parse(j)}function gt(j){return JSON.stringify(j)}const jt=function(j){let U={},J={},Te={},ce="";try{const it=j.split(".");U=gn(V(it[0])||""),J=gn(V(it[1])||""),ce=it[2],Te=J.d||{},delete J.d}catch{}return{header:U,claims:J,data:Te,signature:ce}},cn=function(j){const J=jt(j).claims;return!!J&&"object"==typeof J&&J.hasOwnProperty("iat")},Tn=function(j){const U=jt(j).claims;return"object"==typeof U&&!0===U.admin};function K(j,U){return Object.prototype.hasOwnProperty.call(j,U)}function q(j,U){if(Object.prototype.hasOwnProperty.call(j,U))return j[U]}function fe(j){for(const U in j)if(Object.prototype.hasOwnProperty.call(j,U))return!1;return!0}function Ie(j,U,J){const Te={};for(const ce in j)Object.prototype.hasOwnProperty.call(j,ce)&&(Te[ce]=U.call(J,j[ce],ce,j));return Te}function Be(j,U){if(j===U)return!0;const J=Object.keys(j),Te=Object.keys(U);for(const ce of J){if(!Te.includes(ce))return!1;const it=j[ce],St=U[ce];if(Xe(it)&&Xe(St)){if(!Be(it,St))return!1}else if(it!==St)return!1}for(const ce of Te)if(!J.includes(ce))return!1;return!0}function Xe(j){return null!==j&&"object"==typeof j}function Zt(j){const U=[];for(const[J,Te]of Object.entries(j))Array.isArray(Te)?Te.forEach(ce=>{U.push(encodeURIComponent(J)+"="+encodeURIComponent(ce))}):U.push(encodeURIComponent(J)+"="+encodeURIComponent(Te));return U.length?"&"+U.join("&"):""}function qe(j){const U={};return j.replace(/^\?/,"").split("&").forEach(Te=>{if(Te){const[ce,it]=Te.split("=");U[decodeURIComponent(ce)]=decodeURIComponent(it)}}),U}function ot(j){const U=j.indexOf("?");if(!U)return"";const J=j.indexOf("#",U);return j.substring(U,J>0?J:void 0)}class yt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let U=1;U<this.blockSize;++U)this.pad_[U]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(U,J){J||(J=0);const Te=this.W_;if("string"==typeof U)for(let Kt=0;Kt<16;Kt++)Te[Kt]=U.charCodeAt(J)<<24|U.charCodeAt(J+1)<<16|U.charCodeAt(J+2)<<8|U.charCodeAt(J+3),J+=4;else for(let Kt=0;Kt<16;Kt++)Te[Kt]=U[J]<<24|U[J+1]<<16|U[J+2]<<8|U[J+3],J+=4;for(let Kt=16;Kt<80;Kt++){const ui=Te[Kt-3]^Te[Kt-8]^Te[Kt-14]^Te[Kt-16];Te[Kt]=4294967295&(ui<<1|ui>>>31)}let Mt,Wn,ce=this.chain_[0],it=this.chain_[1],St=this.chain_[2],Ct=this.chain_[3],Ei=this.chain_[4];for(let Kt=0;Kt<80;Kt++){Kt<40?Kt<20?(Mt=Ct^it&(St^Ct),Wn=1518500249):(Mt=it^St^Ct,Wn=1859775393):Kt<60?(Mt=it&St|Ct&(it|St),Wn=2400959708):(Mt=it^St^Ct,Wn=3395469782);const ui=(ce<<5|ce>>>27)+Mt+Ei+Wn+Te[Kt]&4294967295;Ei=Ct,Ct=St,St=4294967295&(it<<30|it>>>2),it=ce,ce=ui}this.chain_[0]=this.chain_[0]+ce&4294967295,this.chain_[1]=this.chain_[1]+it&4294967295,this.chain_[2]=this.chain_[2]+St&4294967295,this.chain_[3]=this.chain_[3]+Ct&4294967295,this.chain_[4]=this.chain_[4]+Ei&4294967295}update(U,J){if(null==U)return;void 0===J&&(J=U.length);const Te=J-this.blockSize;let ce=0;const it=this.buf_;let St=this.inbuf_;for(;ce<J;){if(0===St)for(;ce<=Te;)this.compress_(U,ce),ce+=this.blockSize;if("string"==typeof U){for(;ce<J;)if(it[St]=U.charCodeAt(ce),++St,++ce,St===this.blockSize){this.compress_(it),St=0;break}}else for(;ce<J;)if(it[St]=U[ce],++St,++ce,St===this.blockSize){this.compress_(it),St=0;break}}this.inbuf_=St,this.total_+=J}digest(){const U=[];let J=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ce=this.blockSize-1;ce>=56;ce--)this.buf_[ce]=255&J,J/=256;this.compress_(this.buf_);let Te=0;for(let ce=0;ce<5;ce++)for(let it=24;it>=0;it-=8)U[Te]=this.chain_[ce]>>it&255,++Te;return U}}function Yt(j,U){const J=new on(j,U);return J.subscribe.bind(J)}class on{constructor(U,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{U(this)}).catch(Te=>{this.error(Te)})}next(U){this.forEachObserver(J=>{J.next(U)})}error(U){this.forEachObserver(J=>{J.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,J,Te){let ce;if(void 0===U&&void 0===J&&void 0===Te)throw new Error("Missing Observer.");ce=function Rt(j,U){if("object"!=typeof j||null===j)return!1;for(const J of U)if(J in j&&"function"==typeof j[J])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:J,complete:Te},void 0===ce.next&&(ce.next=dn),void 0===ce.error&&(ce.error=dn),void 0===ce.complete&&(ce.complete=dn);const it=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ce.error(this.finalError):ce.complete()}catch{}}),this.observers.push(ce),it}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,U)}sendOne(U,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{J(this.observers[U])}catch(Te){typeof console<"u"&&console.error&&console.error(Te)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dn(){}const an=function(j,U,J,Te){let ce;if(Te<U?ce="at least "+U:Te>J&&(ce=0===J?"none":"no more than "+J),ce)throw new Error(j+" failed: Was called with "+Te+(1===Te?" argument.":" arguments.")+" Expects "+ce+".")};function xt(j,U){return`${j} failed: ${U} argument `}function Ht(j,U,J,Te){if((!Te||J)&&"function"!=typeof J)throw new Error(xt(j,U)+"must be a valid function.")}function yi(j,U,J,Te){if((!Te||J)&&("object"!=typeof J||null===J))throw new Error(xt(j,U)+"must be a valid context object.")}const Mr=function(j){const U=[];let J=0;for(let Te=0;Te<j.length;Te++){let ce=j.charCodeAt(Te);if(ce>=55296&&ce<=56319){const it=ce-55296;Te++,Q(Te<j.length,"Surrogate pair missing trail surrogate."),ce=65536+(it<<10)+(j.charCodeAt(Te)-56320)}ce<128?U[J++]=ce:ce<2048?(U[J++]=ce>>6|192,U[J++]=63&ce|128):ce<65536?(U[J++]=ce>>12|224,U[J++]=ce>>6&63|128,U[J++]=63&ce|128):(U[J++]=ce>>18|240,U[J++]=ce>>12&63|128,U[J++]=ce>>6&63|128,U[J++]=63&ce|128)}return U},Kr=function(j){let U=0;for(let J=0;J<j.length;J++){const Te=j.charCodeAt(J);Te<128?U++:Te<2048?U+=2:Te>=55296&&Te<=56319?(U+=4,J++):U+=3}return U},Or=1e3,be=2,G=144e5,ve=.5;function ze(j,U=Or,J=be){const Te=U*Math.pow(J,j),ce=Math.round(ve*Te*(Math.random()-.5)*2);return Math.min(G,Te+ce)}function Qt(j){return j&&j._delegate?j._delegate:j}},4469:(st,De,O)=>{var l=O(5879);let Q=null;function x(){return Q}class se{}const de=new l.OlP("DocumentToken");let _e=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(ue)},providedIn:"platform"})}return t})();const Re=new l.OlP("Location Initialized");let ue=(()=>{class t extends _e{constructor(){super(),this._doc=(0,l.f3M)(de),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(e){const i=x().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=x().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,o){this._history.pushState(e,i,o)}replaceState(e,i,o){this._history.replaceState(e,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:function(){return new t},providedIn:"platform"})}return t})();function V(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function $(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function ne(t){return t&&"?"!==t[0]?"?"+t:t}let Le=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(We)},providedIn:"root"})}return t})();const Ae=new l.OlP("appBaseHref");let We=(()=>{class t extends Le{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return V(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ne(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${i}${o}`:i}pushState(e,i,o,u){const h=this.prepareExternalUrl(o+ne(u));this._platformLocation.pushState(e,i,h)}replaceState(e,i,o,u){const h=this.prepareExternalUrl(o+ne(u));this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(_e),l.LFG(Ae,8))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Pe=(()=>{class t extends Le{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=V(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,o,u){let h=this.prepareExternalUrl(o+ne(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,i,h)}replaceState(e,i,o,u){let h=this.prepareExternalUrl(o+ne(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(_e),l.LFG(Ae,8))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})(),Ye=(()=>{class t{constructor(e){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function oe(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}($(lt(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ne(i))}normalize(e){return t.stripTrailingSlash(function at(t,n){if(!t||!n.startsWith(t))return n;const e=n.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:n}(this._basePath,lt(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",o=null){this._locationStrategy.pushState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ne(i)),o)}replaceState(e,i="",o=null){this._locationStrategy.replaceState(o,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ne(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(o=>o(e,i))}subscribe(e,i,o){return this._subject.subscribe({next:e,error:i,complete:o})}static#e=this.normalizeQueryParams=ne;static#t=this.joinWithSlash=V;static#n=this.stripTrailingSlash=$;static#i=this.\u0275fac=function(i){return new(i||t)(l.LFG(Le))};static#r=this.\u0275prov=l.Yz7({token:t,factory:function(){return function Oe(){return new Ye((0,l.LFG)(Le))}()},providedIn:"root"})}return t})();function lt(t){return t.replace(/\/index.html$/,"")}const Mo=/\s+/,Dc=[];let Oo=(()=>{class t{constructor(e,i,o,u){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=o,this._renderer=u,this.initialClasses=Dc,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Mo):Dc}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Mo):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const o=this.stateMap.get(e);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],o=e[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Mo).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))};static#t=this.\u0275dir=l.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class zs{constructor(n,e,i,o){this.$implicit=n,this.ngForOf=e,this.index=i,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fi=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,o){this._viewContainer=e,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((o,u,h)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new zs(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)i.remove(null===u?void 0:u);else if(null!==u){const v=i.get(u);i.move(v,h),Cc(v,o)}});for(let o=0,u=i.length;o<u;o++){const v=i.get(o).context;v.index=o,v.count=u,v.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{Cc(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))};static#t=this.\u0275dir=l.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function Cc(t,n){t.context.$implicit=n.item}let ir=(()=>{class t{constructor(e,i){this._viewContainer=e,this._context=new Vp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Rh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Rh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(l.s_b),l.Y36(l.Rgc))};static#t=this.\u0275dir=l.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class Vp{constructor(){this.$implicit=null,this.ngIf=null}}function Rh(t,n){if(n&&!n.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,l.AaK)(n)}'.`)}let Fo=(()=>{class t{transform(e){return JSON.stringify(e,null,2)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=l.Yjl({name:"json",type:t,pure:!1,standalone:!0})}return t})(),On=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})();function Is(t){return"server"===t}let ti=(()=>{class t{static#e=this.\u0275prov=(0,l.Yz7)({token:t,providedIn:"root",factory:()=>new Jr((0,l.LFG)(de),window)})}return t})();class Jr{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function Qr(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let o=i.currentNode;for(;o;){const u=o.shadowRoot;if(u){const h=u.getElementById(n)||u.querySelector(`[name="${n}"]`);if(h)return h}o=i.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(n){this.supportsScrolling()&&(this.window.history.scrollRestoration=n)}scrollToElement(n){const e=n.getBoundingClientRect(),i=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(i-u[0],o-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class sd extends se{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ml extends sd{static makeCurrent(){!function te(t){Q||(Q=t)}(new Ml)}onAndCancel(n,e,i){return n.addEventListener(e,i),()=>{n.removeEventListener(e,i)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function Lh(){return Va=Va||document.querySelector("base"),Va?Va.getAttribute("href"):null}();return null==e?null:function Yp(t){jc=jc||document.createElement("a"),jc.setAttribute("href",t);const n=jc.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){Va=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function Ro(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const i=e.indexOf("="),[o,u]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(o.trim()===n)return decodeURIComponent(u)}return null}(document.cookie,n)}}let jc,Va=null,Bh=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();const $c=new l.OlP("EventManagerPlugins");let Vh=(()=>{class t{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,o){return this._findPluginFor(i).addEventListener(e,i,o)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(u=>u.supports(e)),!i)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG($c),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();class Ol{constructor(n){this._doc=n}}const Ua="ng-app-id";let Uh=(()=>{class t{constructor(e,i,o,u={}){this.doc=e,this.appId=i,this.nonce=o,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Is(u),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(o=>o.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Ua}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(e,i){const o=this.styleRef;if(o.has(e)){const u=o.get(e);return u.usage+=i,u.usage}return o.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const o=this.styleNodesInDOM,u=o?.get(i);if(u?.parentNode===e)return o.delete(i),u.removeAttribute(Ua),u;{const h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=i,this.platformIsServer&&h.setAttribute(Ua,this.appId),h}}addStyleToHost(e,i){const o=this.getStyleElement(e,i);e.appendChild(o);const u=this.styleRef,h=u.get(i)?.elements;h?h.push(o):u.set(i,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(de),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();const no={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fr=/%COMP%/g,Dr=new l.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Xt(t,n){return n.map(e=>e.replace(Fr,t))}let ro=(()=>{class t{constructor(e,i,o,u,h,v,D,T=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=u,this.doc=h,this.platformId=v,this.ngZone=D,this.nonce=T,this.rendererByCompId=new Map,this.platformIsServer=Is(v),this.defaultRenderer=new so(e,h,D,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===l.ifc.ShadowDom&&(i={...i,encapsulation:l.ifc.Emulated});const o=this.getOrCreateRenderer(e,i);return o instanceof $h?o.applyToHost(e):o instanceof gi&&o.applyStyles(),o}getOrCreateRenderer(e,i){const o=this.rendererByCompId;let u=o.get(i.id);if(!u){const h=this.doc,v=this.ngZone,D=this.eventManager,T=this.sharedStylesHost,R=this.removeStylesOnCompDestroy,P=this.platformIsServer;switch(i.encapsulation){case l.ifc.Emulated:u=new $h(D,T,i,this.appId,R,h,v,P);break;case l.ifc.ShadowDom:return new oo(D,T,e,i,h,v,this.nonce,P);default:u=new gi(D,T,i,R,h,v,P)}o.set(i.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(Vh),l.LFG(Uh),l.LFG(l.AFp),l.LFG(Dr),l.LFG(de),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();class so{constructor(n,e,i,o){this.eventManager=n,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?this.doc.createElementNS(no[e]||e,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,e){(Gc(n)?n.content:n).appendChild(e)}insertBefore(n,e,i){n&&(Gc(n)?n.content:n).insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?this.doc.querySelector(n):n;if(!i)throw new l.vHH(-5104,!1);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,o){if(o){e=o+":"+e;const u=no[o];u?n.setAttributeNS(u,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const o=no[i];o?n.removeAttributeNS(o,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,o){o&(l.JOm.DashCase|l.JOm.Important)?n.style.setProperty(e,i,o&l.JOm.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&l.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){if("string"==typeof n&&!(n=x().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${e}`);return this.eventManager.addEventListener(n,e,this.decoratePreventDefault(i))}decoratePreventDefault(n){return e=>{if("__ngUnwrap__"===e)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(e)):n(e))&&e.preventDefault()}}}function Gc(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class oo extends so{constructor(n,e,i,o,u,h,v,D){super(n,u,h,D),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const T=Xt(o.id,o.styles);for(const R of T){const P=document.createElement("style");v&&P.setAttribute("nonce",v),P.textContent=R,this.shadowRoot.appendChild(P)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class gi extends so{constructor(n,e,i,o,u,h,v,D){super(n,u,h,v),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=D?Xt(D,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class $h extends gi{constructor(n,e,i,o,u,h,v,D){const T=o+"-"+i.id;super(n,e,i,u,h,v,D,T),this.contentAttr=function ad(t){return"_ngcontent-%COMP%".replace(Fr,t)}(T),this.hostAttr=function ld(t){return"_nghost-%COMP%".replace(Fr,t)}(T)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}let Wo=(()=>{class t extends Ol{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o){return e.addEventListener(i,o,!1),()=>this.removeEventListener(e,i,o)}removeEventListener(e,i,o){return e.removeEventListener(i,o)}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(de))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();const Gh=["alt","control","meta","shift"],Ui={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wh={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Wc=(()=>{class t extends Ol{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,i,o){const u=t.parseEventName(i),h=t.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(e,u.domEventName,h))}static parseEventName(e){const i=e.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const u=t._normalizeKey(i.pop());let h="",v=i.indexOf("code");if(v>-1&&(i.splice(v,1),h="code."),Gh.forEach(T=>{const R=i.indexOf(T);R>-1&&(i.splice(R,1),h+=T+".")}),h+=u,0!=i.length||0===u.length)return null;const D={};return D.domEventName=o,D.fullKey=h,D}static matchEventFullKeyCode(e,i){let o=Ui[e.key]||e.key,u="";return i.indexOf("code.")>-1&&(o=e.code,u="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Gh.forEach(h=>{h!==o&&(0,Wh[h])(e)&&(u+=h+".")}),u+=o,u===i)}static eventCallback(e,i,o){return u=>{t.matchEventFullKeyCode(u,e)&&o.runGuarded(()=>i(u))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(de))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();const oi=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function wt(){Ml.makeCurrent()},multi:!0},{provide:de,useFactory:function ud(){return(0,l.RDi)(document),document},deps:[]}]),dd=new l.OlP(""),mi=[{provide:l.rWj,useClass:class Hc{addToWindow(n){l.dqk.getAngularTestability=(i,o=!0)=>{const u=n.findTestabilityInTree(i,o);if(null==u)throw new l.vHH(5103,!1);return u},l.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const o=l.dqk.getAllAngularTestabilities();let u=o.length,h=!1;const v=function(D){h=h||D,u--,0==u&&i(h)};o.forEach(D=>{D.whenStable(v)})})}findTestabilityInTree(n,e,i){return null==e?null:n.getTestability(e)??(i?x().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],Lr=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function cd(){return new l.qLn},deps:[]},{provide:$c,useClass:Wo,multi:!0,deps:[de,l.R0b,l.Lbi]},{provide:$c,useClass:Wc,multi:!0,deps:[de]},ro,Uh,Vh,{provide:l.FYo,useExisting:ro},{provide:class or{},useClass:Bh,deps:[]},[]];let zc=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:l.AFp,useValue:e.appId}]}}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(dd,12))};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({providers:[...Lr,...mi],imports:[On,l.hGG]})}return t})(),Me=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(de))};static#t=this.\u0275prov=l.Yz7({token:t,factory:function(i){let o=null;return o=i?new i:function Zc(){return new Me((0,l.LFG)(de))}(),o},providedIn:"root"})}return t})();typeof window<"u"&&window;var _i=O(6304),Hl=O(6321),Kn=O(5592),vt=O(2096),es=O(3019),Tt=O(7398),Ha=O(3020),xn=O(4664),en=O(9360),mn=O(8251);function ts(t,n){return(0,en.e)(function En(t,n,e,i,o){return(u,h)=>{let v=e,D=n,T=0;u.subscribe((0,mn.x)(h,R=>{const P=T++;D=v?t(D,R,P):(v=!0,R),i&&h.next(D)},o&&(()=>{v&&h.next(D),h.complete()})))}}(t,n,arguments.length>=2,!0))}var xs=O(3997),Ln=O(4829),Zo=O(2737),$a=O(2420),Cr=O(9940);function Br(...t){const n=(0,Cr.jO)(t);return(0,en.e)((e,i)=>{const o=t.length,u=new Array(o);let h=t.map(()=>!1),v=!1;for(let D=0;D<o;D++)(0,Ln.Xf)(t[D]).subscribe((0,mn.x)(i,T=>{u[D]=T,!v&&!h[D]&&(h[D]=!0,(v=h.every(Zo.y))&&(h=null))},$a.Z));e.subscribe((0,mn.x)(i,D=>{if(v){const T=[D,...u];i.next(n?n(...T):T)}}))})}var Bn=O(2793),Wa=(O(8977),O(3399)),Ur=O(4537),lr=O(5861),$l=O(7592),F=O(9058),Yo=O(7879);const ns="@firebase/database";let vd="";function qc(t){vd=t}class Gl{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,F.Wl)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,F.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class Yh{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,F.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const Jc=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Gl(n)}}catch{}return new Yh},Ko=Jc("localStorage"),Wl=Jc("sessionStorage"),za=new Yo.Yd("@firebase/database"),qo=function(){let t=1;return function(){return t++}}(),co=function(t){const n=(0,F.dS)(t),e=new F.gQ;e.update(n);const i=e.digest();return F.US.encodeByteArray(i)},Za=function(...t){let n="";for(let e=0;e<t.length;e++){const i=t[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=Za.apply(null,i):n+="object"==typeof i?(0,F.Wl)(i):i,n+=" "}return n};let Zi=null,zl=!0;const Ya=function(t,n){(0,F.hu)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(za.logLevel=Yo.in.VERBOSE,Zi=za.log.bind(za),n&&Wl.set("logging_enabled",!0)):"function"==typeof t?Zi=t:(Zi=null,Wl.remove("logging_enabled"))},qn=function(...t){if(!0===zl&&(zl=!1,null===Zi&&!0===Wl.get("logging_enabled")&&Ya(!0)),Zi){const n=Za.apply(null,t);Zi(n)}},Jo=function(t){return function(...n){qn(t,...n)}},Qc=function(...t){const n="FIREBASE INTERNAL ERROR: "+Za(...t);za.error(n)},cr=function(...t){const n=`FIREBASE FATAL ERROR: ${Za(...t)}`;throw za.error(n),new Error(n)},Dn=function(...t){const n="FIREBASE WARNING: "+Za(...t);za.warn(n)},jr=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},ur="[MIN_NAME]",Ci="[MAX_NAME]",Tr=function(t,n){if(t===n)return 0;if(t===ur||n===Ci)return-1;if(n===ur||t===Ci)return 1;{const e=iu(t),i=iu(n);return null!==e?null!==i?e-i==0?t.length-n.length:e-i:-1:null!==i?1:t<n?-1:1}},Zl=function(t,n){return t===n?0:t<n?-1:1},rs=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+(0,F.Wl)(n))},uo=function(t){if("object"!=typeof t||null===t)return(0,F.Wl)(t);const n=[];for(const i in t)n.push(i);n.sort();let e="{";for(let i=0;i<n.length;i++)0!==i&&(e+=","),e+=(0,F.Wl)(n[i]),e+=":",e+=uo(t[n[i]]);return e+="}",e},qa=function(t,n){const e=t.length;if(e<=n)return[t];const i=[];for(let o=0;o<e;o+=n)i.push(t.substring(o,o+n>e?e:o+n));return i};function Jn(t,n){for(const e in t)t.hasOwnProperty(e)&&n(e,t[e])}const eu=function(t){(0,F.hu)(!jr(t),"Invalid JSON number");const i=1023;let o,u,h,v,D;0===t?(u=0,h=0,o=1/t==-1/0?1:0):(o=t<0,(t=Math.abs(t))>=Math.pow(2,1-i)?(v=Math.min(Math.floor(Math.log(t)/Math.LN2),i),u=v+i,h=Math.round(t*Math.pow(2,52-v)-Math.pow(2,52))):(u=0,h=Math.round(t/Math.pow(2,-1074))));const T=[];for(D=52;D;D-=1)T.push(h%2?1:0),h=Math.floor(h/2);for(D=11;D;D-=1)T.push(u%2?1:0),u=Math.floor(u/2);T.push(o?1:0),T.reverse();const R=T.join("");let P="";for(D=0;D<64;D+=8){let B=parseInt(R.substr(D,8),2).toString(16);1===B.length&&(B="0"+B),P+=B}return P.toLowerCase()},ss=new RegExp("^-?(0*)\\d{1,10}$"),iu=function(t){if(ss.test(t)){const n=Number(t);if(n>=-2147483648&&n<=2147483647)return n}return null},_n=function(t){try{t()}catch(n){setTimeout(()=>{throw Dn("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},dr=function(t,n){const e=setTimeout(t,n);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class yd{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(n))}notifyForInvalidToken(){Dn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Xp{constructor(n,e,i){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(qn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,i):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dn(n)}}let fo=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const A=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,X="ac",ge="websocket",Qe="long_polling";class Ke{constructor(n,e,i,o,u=!1,h="",v=!1,D=!1){this.secure=e,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=h,this.includeNamespaceInQueryParams=v,this.isUsingEmulator=D,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ko.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ko.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function It(t,n,e){let i;if((0,F.hu)("string"==typeof n,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),n===ge)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(n!==Qe)throw new Error("Unknown connection type: "+n);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function ht(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(e.ns=t.namespace);const o=[];return Jn(e,(u,h)=>{o.push(u+"="+h)}),i+o.join("&")}class At{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,F.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,F.p$)(this.counters_)}}const Qn={},Vn={};function Ps(t){const n=t.toString();return Qn[n]||(Qn[n]=new At),Qn[n]}class go{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&_n(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class na{constructor(n,e,i,o,u,h,v){this.connId=n,this.repoInfo=e,this.applicationId=i,this.appCheckToken=o,this.authToken=u,this.transportSessionId=h,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Jo(n),this.stats_=Ps(e),this.urlFn=D=>(this.appCheckToken&&(D[X]=this.appCheckToken),It(e,Qe,D))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new go(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,F.Yr)()||"complete"===document.readyState)t();else{let n=!1;const e=function(){document.body?n||(n=!0,t()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new rg((...u)=>{const[h,v,D,T,R]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=v,this.password=D;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[h,v]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(h,v)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i[X]=this.appCheckToken),typeof location<"u"&&location.hostname&&A.test(location.hostname)&&(i.r="f");const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){na.forceAllow_=!0}static forceDisallow(){na.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!na.forceAllow_&&(na.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,F.Wl)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),o=qa(i,1840);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=n,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,F.Wl)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class rg{constructor(n,e,i,o){if(this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=qo(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=rg.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(v){qn("frame writing exception"),v.stack&&qn(v.stack),qn(v)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||qn("No IE domain setting required")}catch{const i=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const h=this.pendingSegs.shift();i=i+"&seg"+o+"="+h.seg+"&ts"+o+"="+h.ts+"&d"+o+"="+h.d,o++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,i){this.pendingSegs.push({seg:n,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(i,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(o),i()})}addTag(n,e){(0,F.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=n,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||"loaded"===o||"complete"===o)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{qn("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Dd=null;typeof MozWebSocket<"u"?Dd=MozWebSocket:typeof WebSocket<"u"&&(Dd=WebSocket);let ks=(()=>{class t{constructor(e,i,o,u,h,v,D){this.connId=e,this.applicationId=o,this.appCheckToken=u,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Jo(this.connId),this.stats_=Ps(i),this.connURL=t.connectionURL_(i,v,D,u,o),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,o,u,h){const v={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&A.test(location.hostname)&&(v.r="f"),i&&(v.s=i),o&&(v.ls=o),u&&(v[X]=u),h&&(v.p=h),It(e,ge,v)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ko.set("previous_websocket_failure",!0);try{let o;if((0,F.Yr)()){o={headers:{"User-Agent":`Firebase/5/${vd}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,v=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;v&&(o.proxy={origin:v})}this.mySock=new Dd(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const u=o.message||o.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==Dd&&!t.forceDisallow_}static previouslyFailed(){return Ko.isInMemoryStorage||!0===Ko.get("previous_websocket_failure")}markConnectionHealthy(){Ko.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const o=(0,F.cI)(i);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const o=this.extractFrameCount_(i);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const i=(0,F.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const o=qa(i,16384);o.length>1&&this.sendString_(String(o.length));for(let u=0;u<o.length;u++)this.sendString_(o[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),ru=(()=>{class t{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[na,ks]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=ks&&ks.isAvailable();let o=i&&!ks.previouslyFailed();if(e.webSocketOnly&&(i||Dn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ks];else{const u=this.transports_=[];for(const h of t.ALL_TRANSPORTS)h&&h.isAvailable()&&u.push(h);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class E_{constructor(n,e,i,o,u,h,v,D,T,R){this.id=n,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=h,this.onReady_=v,this.onDisconnect_=D,this.onKill_=T,this.lastSessionId=R,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Jo("c:"+this.id+":"),this.transportManager_=new ru(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=dr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=rs("t",n),i=rs("d",n);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=rs("t",n),i=rs("d",n);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=rs("t",n);if("d"in n){const i=n.d;if("h"===e){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Qc("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qc("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,i=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Dn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),dr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ko.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class nf{put(n,e,i,o){}merge(n,e,i,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,i){}onDisconnectMerge(n,e,i){}onDisconnectCancel(n,e){}reportStats(n){}}class Cd{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,F.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const i=[...this.listeners_[n]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,e)}}on(n,e,i){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:i});const o=this.getInitialEvent(n);o&&e.apply(i,o)}off(n,e,i){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let u=0;u<o.length;u++)if(o[u].callback===e&&(!i||i===o[u].context))return void o.splice(u,1)}validateEventType_(n){(0,F.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class au extends Cd{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new au}getInitialEvent(n){return(0,F.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class tn{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function qt(){return new tn("")}function Lt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ia(t){return t.pieces_.length-t.pieceNum_}function hn(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new tn(t.pieces_,n)}function ug(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Td(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function hg(t){if(t.pieceNum_>=t.pieces_.length)return null;const n=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)n.push(t.pieces_[e]);return new tn(n,0)}function vn(t,n){const e=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);if(n instanceof tn)for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);else{const i=n.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&e.push(i[o])}return new tn(e,0)}function kt(t){return t.pieceNum_>=t.pieces_.length}function Ki(t,n){const e=Lt(t),i=Lt(n);if(null===e)return n;if(e===i)return Ki(hn(t),hn(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function Q0(t,n){const e=Td(t,0),i=Td(n,0);for(let o=0;o<e.length&&o<i.length;o++){const u=Tr(e[o],i[o]);if(0!==u)return u}return e.length===i.length?0:e.length<i.length?-1:1}function lu(t,n){if(ia(t)!==ia(n))return!1;for(let e=t.pieceNum_,i=n.pieceNum_;e<=t.pieces_.length;e++,i++)if(t.pieces_[e]!==n.pieces_[i])return!1;return!0}function as(t,n){let e=t.pieceNum_,i=n.pieceNum_;if(ia(t)>ia(n))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==n.pieces_[i])return!1;++e,++i}return!0}class X0{constructor(n,e){this.errorPrefix_=e,this.parts_=Td(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);rf(this)}}function rf(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ra(t))}function ra(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class ql extends Cd{constructor(){let n,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[n];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new ql}getInitialEvent(n){return(0,F.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const Fs=1e3;let Id,Hr=(()=>{class t extends nf{constructor(e,i,o,u,h,v,D,T){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=o,this.onConnectStatus_=u,this.onServerInfoUpdate_=h,this.authTokenProvider_=v,this.appCheckTokenProvider_=D,this.authOverride_=T,this.id=t.nextPersistentConnectionId_++,this.log_=Jo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Fs,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,T&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ql.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&au.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,o){const u=++this.requestNumber_,h={r:u,a:e,b:i};this.log_((0,F.Wl)(h)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[u]=o)}get(e){this.initConnection_();const i=new F.BH,u={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:v=>{const D=v.d;"ok"===v.s?i.resolve(D):i.reject(D)}};return this.outstandingGets_.push(u),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,o,u){this.initConnection_();const h=e._queryIdentifier,v=e._path.toString();this.log_("Listen called for "+v+" "+h),this.listens.has(v)||this.listens.set(v,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(v).has(h),"listen() called twice for same path/queryId.");const D={onComplete:u,hashFn:i,query:e,tag:o};this.listens.get(v).set(h,D),this.connected_&&this.sendListen_(D)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(o)})}sendListen_(e){const i=e.query,o=i._path.toString(),u=i._queryIdentifier;this.log_("Listen on "+o+" for "+u);const h={p:o};e.tag&&(h.q=i._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,D=>{const T=D.d,R=D.s;t.warnOnListenWarnings_(T,i),(this.listens.get(o)&&this.listens.get(o).get(u))===e&&(this.log_("listen response",D),"ok"!==R&&this.removeListen_(o,u),e.onComplete&&e.onComplete(R,T))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const o=(0,F.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const u='".indexOn": "'+i._queryParams.getIndex().toString()+'"',h=i._path.toString();Dn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(i,o,u=>{const h=u.s,v=u.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,v))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,o=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,o)})}unlisten(e,i){const o=e._path.toString(),u=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+u),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,u)&&this.connected_&&this.sendUnlisten_(o,u,e._queryObject,i)}sendUnlisten_(e,i,o,u){this.log_("Unlisten on "+e+" for "+i);const h={p:e};u&&(h.q=o,h.t=u),this.sendRequest("n",h)}onDisconnectPut(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:o})}onDisconnectMerge(e,i,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:o})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,o,u){const h={p:i,d:o};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,v=>{u&&setTimeout(()=>{u(v.s,v.d)},Math.floor(0))})}put(e,i,o,u){this.putInternal("p",e,i,o,u)}merge(e,i,o,u){this.putInternal("m",e,i,o,u)}putInternal(e,i,o,u,h){this.initConnection_();const v={p:i,d:o};void 0!==h&&(v.h=h),this.outstandingPuts_.push({action:e,request:v,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,u=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,o,h=>{this.log_(i+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(h.s,h.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Wl)(e));const i=e.r,o=this.requestCBHash_[i];o&&(delete this.requestCBHash_[i],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Qc("Unrecognized action received from server: "+(0,F.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Fs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Fs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Fs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,lr.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),u=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+t.nextConnectionId_++,v=e.lastSessionId;let D=!1,T=null;const R=function(){T?T.close():(D=!0,u())};e.realtime_={close:R,sendRequest:function(ee){(0,F.hu)(T,"sendRequest call when we're not connected not allowed."),T.sendRequest(ee)}};const B=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[ee,Se]=yield Promise.all([e.authTokenProvider_.getToken(B),e.appCheckTokenProvider_.getToken(B)]);D?qn("getToken() completed but was canceled"):(qn("getToken() completed. Creating connection."),e.authToken_=ee&&ee.accessToken,e.appCheckToken_=Se&&Se.token,T=new E_(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,o,u,He=>{Dn(He+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},v))}catch(ee){e.log_("Failed to get token: "+ee),D||(e.repoInfo_.nodeAdmin&&Dn(ee),R())}}})()}interrupt(e){qn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Fs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let o;o=i?i.map(h=>uo(h)).join("$"):"default";const u=this.removeListen_(e,o);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(e,i){const o=new tn(e).toString();let u;if(this.listens.has(o)){const h=this.listens.get(o);u=h.get(i),h.delete(i),0===h.size&&this.listens.delete(o)}else u=void 0;return u}onAuthRevoked_(e,i){qn("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){qn("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+vd.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=au.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class Ft{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new Ft(n,e)}}class sa{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const i=new Ft(ur,n),o=new Ft(ur,e);return 0!==this.compare(i,o)}minPost(){return Ft.MIN}}class mo extends sa{static get __EMPTY_NODE(){return Id}static set __EMPTY_NODE(n){Id=n}compare(n,e){return Tr(n.name,e.name)}isDefinedOn(n){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return Ft.MIN}maxPost(){return new Ft(Ci,Id)}makePost(n,e){return(0,F.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new Ft(n,Id)}toString(){return".key"}}const ls=new mo;class uu{constructor(n,e,i,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(h=e?i(n.key,e):1,o&&(h*=-1),h<0)n=this.isReverse_?n.left:n.right;else{if(0===h){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let du,Sr=(()=>{class t{constructor(e,i,o,u,h){this.key=e,this.value=i,this.color=o??t.RED,this.left=u??Ji.EMPTY_NODE,this.right=h??Ji.EMPTY_NODE}copy(e,i,o,u,h){return new t(e??this.key,i??this.value,o??this.color,u??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,o){let u=this;const h=o(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,o),null):0===h?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,o)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ji.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let o,u;if(o=this,i(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===i(e,o.key)){if(o.right.isEmpty())return Ji.EMPTY_NODE;u=o.right.min_(),o=o.copy(u.key,u.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Ji{constructor(n,e=Ji.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new Ji(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,Sr.BLACK,null,null))}remove(n){return new Ji(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,Sr.BLACK,null,null))}get(n){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(n){let e,i=this.root_,o=null;for(;!i.isEmpty();){if(e=this.comparator_(n,i.key),0===e){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(o=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new uu(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new uu(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new uu(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new uu(this.root_,null,this.comparator_,!0,n)}}function hr(t,n){return Tr(t.name,n.name)}function Ql(t,n){return Tr(t,n)}Ji.EMPTY_NODE=new class w_{copy(n,e,i,o,u){return this}insert(n,e,i){return new Sr(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const jn=function(t){return"number"==typeof t?"number:"+eu(t):"string:"+t},oa=function(t){if(t.isLeafNode()){const n=t.val();(0,F.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,F.r3)(n,".sv"),"Priority must be a string or number.")}else(0,F.hu)(t===du||t.isEmpty(),"priority of unexpected type.");(0,F.hu)(t===du||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Sd,Ri,aa,_o=(()=>{class t{constructor(e,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),oa(this.priorityNode_)}static set __childrenNodeConstructor(e){Sd=e}static get __childrenNodeConstructor(){return Sd}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return kt(e)?this:".priority"===Lt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const o=Lt(e);return null===o?i:i.isEmpty()&&".priority"!==o?this:((0,F.hu)(".priority"!==o||1===ia(e),".priority must be the last token in a path"),this.updateImmediateChild(o,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(hn(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+jn(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?eu(this.value_):this.value_,this.lazyHash_=co(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,o=typeof this.value_,u=t.VALUE_TYPE_ORDER.indexOf(i),h=t.VALUE_TYPE_ORDER.indexOf(o);return(0,F.hu)(u>=0,"Unknown leaf type: "+i),(0,F.hu)(h>=0,"Unknown leaf type: "+o),u===h?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-u}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const wn=new class T_ extends sa{compare(n,e){const i=n.node.getPriority(),o=e.node.getPriority(),u=i.compareTo(o);return 0===u?Tr(n.name,e.name):u}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return Ft.MIN}maxPost(){return new Ft(Ci,new _o("[PRIORITY-POST]",aa))}makePost(n,e){const i=Ri(n);return new Ft(e,new _o("[PRIORITY-POST]",i))}toString(){return".priority"}},_=Math.log(2);class f{constructor(n){this.count=parseInt(Math.log(n+1)/_,10),this.current_=this.count-1;const o=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const g=function(t,n,e,i){t.sort(n);const o=function(D,T){const R=T-D;let P,B;if(0===R)return null;if(1===R)return P=t[D],B=e?e(P):P,new Sr(B,P.node,Sr.BLACK,null,null);{const ee=parseInt(R/2,10)+D,Se=o(D,ee),He=o(ee+1,T);return P=t[ee],B=e?e(P):P,new Sr(B,P.node,Sr.BLACK,Se,He)}},v=function(D){let T=null,R=null,P=t.length;const B=function(Se,He){const $e=P-Se,ft=P;P-=Se;const pt=o($e+1,ft),Vt=t[$e],ut=e?e(Vt):Vt;ee(new Sr(ut,Vt.node,He,null,pt))},ee=function(Se){T?(T.left=Se,T=Se):(R=Se,T=Se)};for(let Se=0;Se<D.count;++Se){const He=D.nextBitIsOne(),$e=Math.pow(2,D.count-(Se+1));He?B($e,Sr.BLACK):(B($e,Sr.BLACK),B($e,Sr.RED))}return R}(new f(t.length));return new Ji(i||n,v)};let y;const I={};class N{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,F.hu)(I&&wn,"ChildrenNode.ts has not been loaded"),y=y||new N({".priority":I},{".priority":wn}),y}get(n){const e=(0,F.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof Ji?e:null}hasIndex(n){return(0,F.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,F.hu)(n!==ls,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const u=e.getIterator(Ft.Wrap);let v,h=u.getNext();for(;h;)o=o||n.isDefinedOn(h.node),i.push(h),h=u.getNext();v=o?g(i,n.getCompare()):I;const D=n.toString(),T=Object.assign({},this.indexSet_);T[D]=n;const R=Object.assign({},this.indexes_);return R[D]=v,new N(R,T)}addToIndexes(n,e){const i=(0,F.UI)(this.indexes_,(o,u)=>{const h=(0,F.DV)(this.indexSet_,u);if((0,F.hu)(h,"Missing index implementation for "+u),o===I){if(h.isDefinedOn(n.node)){const v=[],D=e.getIterator(Ft.Wrap);let T=D.getNext();for(;T;)T.name!==n.name&&v.push(T),T=D.getNext();return v.push(n),g(v,h.getCompare())}return I}{const v=e.get(n.name);let D=o;return v&&(D=D.remove(new Ft(n.name,v))),D.insert(n,n.node)}});return new N(i,this.indexSet_)}removeFromIndexes(n,e){const i=(0,F.UI)(this.indexes_,o=>{if(o===I)return o;{const u=e.get(n.name);return u?o.remove(new Ft(n.name,u)):o}});return new N(i,this.indexSet_)}}let H,W=(()=>{class t{constructor(e,i,o){this.children_=e,this.priorityNode_=i,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&oa(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return H||(H=new t(new Ji(Ql),null,N.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||H}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?H:i}}getChild(e){const i=Lt(e);return null===i?this:this.getImmediateChild(i).getChild(hn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const o=new Ft(e,i);let u,h;i.isEmpty()?(u=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(o,this.children_)):(u=this.children_.insert(e,i),h=this.indexMap_.addToIndexes(o,this.children_));const v=u.isEmpty()?H:this.priorityNode_;return new t(u,v,h)}}updateChild(e,i){const o=Lt(e);if(null===o)return i;{(0,F.hu)(".priority"!==Lt(e)||1===ia(e),".priority must be the last token in a path");const u=this.getImmediateChild(o).updateChild(hn(e),i);return this.updateImmediateChild(o,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let o=0,u=0,h=!0;if(this.forEachChild(wn,(v,D)=>{i[v]=D.val(e),o++,h&&t.INTEGER_REGEXP_.test(v)?u=Math.max(u,Number(v)):h=!1}),!e&&h&&u<2*o){const v=[];for(const D in i)v[D]=i[D];return v}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+jn(this.getPriority().val())+":"),this.forEachChild(wn,(i,o)=>{const u=o.hash();""!==u&&(e+=":"+i+":"+u)}),this.lazyHash_=""===e?"":co(e)}return this.lazyHash_}getPredecessorChildName(e,i,o){const u=this.resolveIndex_(o);if(u){const h=u.getPredecessorKey(new Ft(e,i));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Ft(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const o=i.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Ft(i,this.children_.get(i)):null}forEachChild(e,i){const o=this.resolveIndex_(e);return o?o.inorderTraversal(u=>i(u.name,u.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getIteratorFrom(e,u=>u);{const u=this.children_.getIteratorFrom(e.name,Ft.Wrap);let h=u.peek();for(;null!=h&&i.compare(h,e)<0;)u.getNext(),h=u.peek();return u}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const o=this.resolveIndex_(i);if(o)return o.getReverseIteratorFrom(e,u=>u);{const u=this.children_.getReverseIteratorFrom(e.name,Ft.Wrap);let h=u.peek();for(;null!=h&&i.compare(h,e)>0;)u.getNext(),h=u.peek();return u}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ue?-1:0}withIndex(e){if(e===ls||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ls||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const o=this.getIterator(wn),u=i.getIterator(wn);let h=o.getNext(),v=u.getNext();for(;h&&v;){if(h.name!==v.name||!h.node.equals(v.node))return!1;h=o.getNext(),v=u.getNext()}return null===h&&null===v}return!1}return!1}}resolveIndex_(e){return e===ls?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Ue=new class Fe extends W{constructor(){super(new Ji(Ql),W.EMPTY_NODE,N.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return W.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ft,{MIN:{value:new Ft(ur,W.EMPTY_NODE)},MAX:{value:new Ft(Ci,Ue)}}),mo.__EMPTY_NODE=W.EMPTY_NODE,_o.__childrenNodeConstructor=W,function C_(t){du=t}(Ue),function _g(t){aa=t}(Ue);const rt=!0;function Ze(t,n=null){if(null===t)return W.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(n=t[".priority"]),(0,F.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new _o(t,Ze(n));if(t instanceof Array||!rt){let e=W.EMPTY_NODE;return Jn(t,(i,o)=>{if((0,F.r3)(t,i)&&"."!==i.substring(0,1)){const u=Ze(o);(u.isLeafNode()||!u.isEmpty())&&(e=e.updateImmediateChild(i,u))}}),e.updatePriority(Ze(n))}{const e=[];let i=!1;if(Jn(t,(h,v)=>{if("."!==h.substring(0,1)){const D=Ze(v);D.isEmpty()||(i=i||!D.getPriority().isEmpty(),e.push(new Ft(h,D)))}}),0===e.length)return W.EMPTY_NODE;const u=g(e,hr,h=>h.name,Ql);if(i){const h=g(e,wn.getCompare());return new W(u,Ze(n),new N({".priority":h},{".priority":wn}))}return new W(u,Ze(n),N.Default)}}!function mg(t){Ri=t}(Ze);class Mn extends sa{constructor(n){super(),this.indexPath_=n,(0,F.hu)(!kt(n)&&".priority"!==Lt(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const i=this.extractChild(n.node),o=this.extractChild(e.node),u=i.compareTo(o);return 0===u?Tr(n.name,e.name):u}makePost(n,e){const i=Ze(n),o=W.EMPTY_NODE.updateChild(this.indexPath_,i);return new Ft(e,o)}maxPost(){const n=W.EMPTY_NODE.updateChild(this.indexPath_,Ue);return new Ft(Ci,n)}toString(){return Td(this.indexPath_,0).join("/")}}const il=new class $r extends sa{compare(n,e){const i=n.node.compareTo(e.node);return 0===i?Tr(n.name,e.name):i}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return Ft.MIN}maxPost(){return Ft.MAX}makePost(n,e){const i=Ze(n);return new Ft(e,i)}toString(){return".value"}};function la(t){return{type:"value",snapshotNode:t}}function cs(t,n){return{type:"child_added",snapshotNode:n,childName:t}}function rl(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}function ca(t,n,e){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:e}}class Ad{constructor(n){this.index_=n}updateChild(n,e,i,o,u,h){(0,F.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=n.getImmediateChild(e);return v.getChild(o).equals(i.getChild(o))&&v.isEmpty()===i.isEmpty()||(null!=h&&(i.isEmpty()?n.hasChild(e)?h.trackChildChange(rl(e,v)):(0,F.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?h.trackChildChange(cs(e,i)):h.trackChildChange(ca(e,i,v))),n.isLeafNode()&&i.isEmpty())?n:n.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(n,e,i){return null!=i&&(n.isLeafNode()||n.forEachChild(wn,(o,u)=>{e.hasChild(o)||i.trackChildChange(rl(o,u))}),e.isLeafNode()||e.forEachChild(wn,(o,u)=>{if(n.hasChild(o)){const h=n.getImmediateChild(o);h.equals(u)||i.trackChildChange(ca(o,u,h))}else i.trackChildChange(cs(o,u))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?W.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ec{constructor(n){this.indexedFilter_=new Ad(n.getIndex()),this.index_=n.getIndex(),this.startPost_=ec.getStartPost_(n),this.endPost_=ec.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,i=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return e&&i}updateChild(n,e,i,o,u,h){return this.matches(new Ft(e,i))||(i=W.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,i,o,u,h)}updateFullNode(n,e,i){e.isLeafNode()&&(e=W.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(W.EMPTY_NODE);const u=this;return e.forEachChild(wn,(h,v)=>{u.matches(new Ft(h,v))||(o=o.updateImmediateChild(h,W.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class sf{constructor(n){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new ec(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,e,i,o,u,h){return this.rangedFilter_.matches(new Ft(e,i))||(i=W.EMPTY_NODE),n.getImmediateChild(e).equals(i)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,i,o,u,h):this.fullLimitUpdateChild_(n,e,i,u,h)}updateFullNode(n,e,i){let o;if(e.isLeafNode()||e.isEmpty())o=W.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let u;o=W.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;u.hasNext()&&h<this.limit_;){const v=u.getNext();if(this.withinDirectionalStart(v)){if(!this.withinDirectionalEnd(v))break;o=o.updateImmediateChild(v.name,v.node),h++}}}else{let u;o=e.withIndex(this.index_),o=o.updatePriority(W.EMPTY_NODE),u=this.reverse_?o.getReverseIterator(this.index_):o.getIterator(this.index_);let h=0;for(;u.hasNext();){const v=u.getNext();h<this.limit_&&this.withinDirectionalStart(v)&&this.withinDirectionalEnd(v)?h++:o=o.updateImmediateChild(v.name,W.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,i)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,i,o,u){let h;if(this.reverse_){const P=this.index_.getCompare();h=(B,ee)=>P(ee,B)}else h=this.index_.getCompare();const v=n;(0,F.hu)(v.numChildren()===this.limit_,"");const D=new Ft(e,i),T=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),R=this.rangedFilter_.matches(D);if(v.hasChild(e)){const P=v.getImmediateChild(e);let B=o.getChildAfterChild(this.index_,T,this.reverse_);for(;null!=B&&(B.name===e||v.hasChild(B.name));)B=o.getChildAfterChild(this.index_,B,this.reverse_);const ee=null==B?1:h(B,D);if(R&&!i.isEmpty()&&ee>=0)return u?.trackChildChange(ca(e,i,P)),v.updateImmediateChild(e,i);{u?.trackChildChange(rl(e,P));const He=v.updateImmediateChild(e,W.EMPTY_NODE);return null!=B&&this.rangedFilter_.matches(B)?(u?.trackChildChange(cs(B.name,B.node)),He.updateImmediateChild(B.name,B.node)):He}}return i.isEmpty()?n:R&&h(T,D)>=0?(null!=u&&(u.trackChildChange(rl(T.name,T.node)),u.trackChildChange(cs(e,i))),v.updateImmediateChild(e,i).updateImmediateChild(T.name,W.EMPTY_NODE)):n}}class hu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ur}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ci}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===wn}copy(){const n=new hu;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function Nd(t,n,e){const i=t.copy();return i.startSet_=!0,void 0===n&&(n=null),i.indexStartValue_=n,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function lf(t,n,e){const i=t.copy();return i.endSet_=!0,void 0===n&&(n=null),i.indexEndValue_=n,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function yg(t,n){const e=t.copy();return e.index_=n,e}function bg(t){const n={};if(t.isDefault())return n;let e;if(t.index_===wn?e="$priority":t.index_===il?e="$value":t.index_===ls?e="$key":((0,F.hu)(t.index_ instanceof Mn,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,F.Wl)(e),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";n[i]=(0,F.Wl)(t.indexStartValue_),t.startNameSet_&&(n[i]+=","+(0,F.Wl)(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";n[i]=(0,F.Wl)(t.indexEndValue_),t.endNameSet_&&(n[i]+=","+(0,F.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function A_(t){const n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_),n.sin=!t.startAfterSet_),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_),n.ein=!t.endBeforeSet_),t.limitSet_){n.l=t.limit_;let e=t.viewFrom_;""===e&&(e=t.isViewFromLeft()?"l":"r"),n.vf=e}return t.index_!==wn&&(n.i=t.index_.toString()),n}class ua extends nf{constructor(n,e,i,o){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=Jo("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,F.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,i,o){const u=n._path.toString();this.log_("Listen called for "+u+" "+n._queryIdentifier);const h=ua.getListenId_(n,i),v={};this.listens_[h]=v;const D=bg(n._queryParams);this.restRequest_(u+".json",D,(T,R)=>{let P=R;if(404===T&&(P=null,T=null),null===T&&this.onDataUpdate_(u,P,!1,i),(0,F.DV)(this.listens_,h)===v){let B;B=T?401===T?"permission_denied":"rest_error:"+T:"ok",o(B,null)}})}unlisten(n,e){const i=ua.getListenId_(n,e);delete this.listens_[i]}get(n){const e=bg(n._queryParams),i=n._path.toString(),o=new F.BH;return this.restRequest_(i+".json",e,(u,h)=>{let v=h;404===u&&(v=null,u=null),null===u?(this.onDataUpdate_(i,v,!1,null),o.resolve(v)):o.reject(new Error(v))}),o.promise}refreshAuthToken(n){}restRequest_(n,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(e.auth=o.accessToken),u&&u.token&&(e.ac=u.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+h);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(i&&4===v.readyState){this.log_("REST Response for "+h+" received. status:",v.status,"response:",v.responseText);let D=null;if(v.status>=200&&v.status<300){try{D=(0,F.cI)(v.responseText)}catch{Dn("Failed to parse JSON response for "+h+": "+v.responseText)}i(null,D)}else 401!==v.status&&404!==v.status&&Dn("Got unsuccessful REST response for "+h+" Status: "+v.status),i(v.status);i=null}},v.open("GET",h,!0),v.send()})}}class eb{constructor(){this.rootNode_=W.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function cf(){return{value:null,children:new Map}}function Rd(t,n,e){if(kt(n))t.value=e,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,e);else{const i=Lt(n);t.children.has(i)||t.children.set(i,cf()),Rd(t.children.get(i),n=hn(n),e)}}function tb(t,n){if(kt(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const e=t.value;return t.value=null,e.forEachChild(wn,(i,o)=>{Rd(t,new tn(i),o)}),tb(t,n)}}if(t.children.size>0){const e=Lt(n);return n=hn(n),t.children.has(e)&&tb(t.children.get(e),n)&&t.children.delete(e),0===t.children.size}return!0}function Md(t,n,e){null!==t.value?e(n,t.value):function dC(t,n){t.children.forEach((e,i)=>{n(i,e)})}(t,(i,o)=>{Md(o,new tn(n.toString()+"/"+i),e)})}class nb{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&Jn(this.last_,(i,o)=>{e[i]=e[i]-o}),this.last_=n,e}}class rb{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new nb(n);const i=1e4+2e4*Math.random();dr(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const n=this.statsListener_.get(),e={};let i=!1;Jn(n,(o,u)=>{u>0&&(0,F.r3)(this.statsToReport_,o)&&(e[o]=u,i=!0)}),i&&this.server_.reportStats(e),dr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var us=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(us||{});function uf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class pu{constructor(n,e,i){this.path=n,this.affectedTree=e,this.revert=i,this.type=us.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(kt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new tn(n));return new pu(qt(),e,this.revert)}}return(0,F.hu)(Lt(this.path)===n,"operationForChild called for unrelated child."),new pu(hn(this.path),this.affectedTree,this.revert)}}class Od{constructor(n,e){this.source=n,this.path=e,this.type=us.LISTEN_COMPLETE}operationForChild(n){return kt(this.path)?new Od(this.source,qt()):new Od(this.source,hn(this.path))}}class sl{constructor(n,e,i){this.source=n,this.path=e,this.snap=i,this.type=us.OVERWRITE}operationForChild(n){return kt(this.path)?new sl(this.source,qt(),this.snap.getImmediateChild(n)):new sl(this.source,hn(this.path),this.snap)}}class da{constructor(n,e,i){this.source=n,this.path=e,this.children=i,this.type=us.MERGE}operationForChild(n){if(kt(this.path)){const e=this.children.subtree(new tn(n));return e.isEmpty()?null:e.value?new sl(this.source,qt(),e.value):new da(this.source,qt(),e)}return(0,F.hu)(Lt(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new da(this.source,hn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class tc{constructor(n,e,i){this.node_=n,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(kt(n))return this.isFullyInitialized()&&!this.filtered_;const e=Lt(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class sb{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function df(t,n,e,i,o,u){const h=i.filter(v=>v.type===e);h.sort((v,D)=>function ob(t,n,e){if(null==n.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new Ft(n.childName,n.snapshotNode),o=new Ft(e.childName,e.snapshotNode);return t.index_.compare(i,o)}(t,v,D)),h.forEach(v=>{const D=function fC(t,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}(t,v,u);o.forEach(T=>{T.respondsTo(v.type)&&n.push(T.createEvent(D,t.query_))})})}function hf(t,n){return{eventCache:t,serverCache:n}}function nc(t,n,e,i){return hf(new tc(n,e,i),t.serverCache)}function Dg(t,n,e,i){return hf(t.eventCache,new tc(n,e,i))}function ol(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function gu(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let M_;class Pn{constructor(n,e=(()=>(M_||(M_=new Ji(Zl)),M_))()){this.value=n,this.children=e}static fromObject(n){let e=new Pn(null);return Jn(n,(i,o)=>{e=e.set(new tn(i),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:qt(),value:this.value};if(kt(n))return null;{const i=Lt(n),o=this.children.get(i);if(null!==o){const u=o.findRootMostMatchingPathAndValue(hn(n),e);return null!=u?{path:vn(new tn(i),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(kt(n))return this;{const e=Lt(n),i=this.children.get(e);return null!==i?i.subtree(hn(n)):new Pn(null)}}set(n,e){if(kt(n))return new Pn(e,this.children);{const i=Lt(n),u=(this.children.get(i)||new Pn(null)).set(hn(n),e),h=this.children.insert(i,u);return new Pn(this.value,h)}}remove(n){if(kt(n))return this.children.isEmpty()?new Pn(null):new Pn(null,this.children);{const e=Lt(n),i=this.children.get(e);if(i){const o=i.remove(hn(n));let u;return u=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&u.isEmpty()?new Pn(null):new Pn(this.value,u)}return this}}get(n){if(kt(n))return this.value;{const e=Lt(n),i=this.children.get(e);return i?i.get(hn(n)):null}}setTree(n,e){if(kt(n))return e;{const i=Lt(n),u=(this.children.get(i)||new Pn(null)).setTree(hn(n),e);let h;return h=u.isEmpty()?this.children.remove(i):this.children.insert(i,u),new Pn(this.value,h)}}fold(n){return this.fold_(qt(),n)}fold_(n,e){const i={};return this.children.inorderTraversal((o,u)=>{i[o]=u.fold_(vn(n,o),e)}),e(n,this.value,i)}findOnPath(n,e){return this.findOnPath_(n,qt(),e)}findOnPath_(n,e,i){const o=!!this.value&&i(e,this.value);if(o)return o;if(kt(n))return null;{const u=Lt(n),h=this.children.get(u);return h?h.findOnPath_(hn(n),vn(e,u),i):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,qt(),e)}foreachOnPath_(n,e,i){if(kt(n))return this;{this.value&&i(e,this.value);const o=Lt(n),u=this.children.get(o);return u?u.foreachOnPath_(hn(n),vn(e,o),i):new Pn(null)}}foreach(n){this.foreach_(qt(),n)}foreach_(n,e){this.children.inorderTraversal((i,o)=>{o.foreach_(vn(n,i),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,i)=>{i.value&&n(e,i.value)})}}class ds{constructor(n){this.writeTree_=n}static empty(){return new ds(new Pn(null))}}function ff(t,n,e){if(kt(n))return new ds(new Pn(e));{const i=t.writeTree_.findRootMostValueAndPath(n);if(null!=i){const o=i.path;let u=i.value;const h=Ki(o,n);return u=u.updateChild(h,e),new ds(t.writeTree_.set(o,u))}{const o=new Pn(e),u=t.writeTree_.setTree(n,o);return new ds(u)}}}function ic(t,n,e){let i=t;return Jn(e,(o,u)=>{i=ff(i,vn(n,o),u)}),i}function pf(t,n){if(kt(n))return ds.empty();{const e=t.writeTree_.setTree(n,new Pn(null));return new ds(e)}}function gf(t,n){return null!=rc(t,n)}function rc(t,n){const e=t.writeTree_.findRootMostValueAndPath(n);return null!=e?t.writeTree_.get(e.path).getChild(Ki(e.path,n)):null}function O_(t){const n=[],e=t.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(wn,(i,o)=>{n.push(new Ft(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{null!=o.value&&n.push(new Ft(i,o.value))}),n}function al(t,n){if(kt(n))return t;{const e=rc(t,n);return new ds(null!=e?new Pn(e):t.writeTree_.subtree(n))}}function wg(t){return t.writeTree_.isEmpty()}function xd(t,n){return ab(qt(),t.writeTree_,n)}function ab(t,n,e){if(null!=n.value)return e.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((o,u)=>{".priority"===o?((0,F.hu)(null!==u.value,"Priority writes must always be leaf nodes"),i=u.value):e=ab(vn(t,o),u,e)}),!e.getChild(t).isEmpty()&&null!==i&&(e=e.updateChild(vn(t,".priority"),i)),e}}function Cg(t,n){return CC(n,t)}function mC(t,n){if(t.snap)return as(t.path,n);for(const e in t.children)if(t.children.hasOwnProperty(e)&&as(vn(t.path,e),n))return!0;return!1}function ZS(t){return t.visible}function _C(t,n,e){let i=ds.empty();for(let o=0;o<t.length;++o){const u=t[o];if(n(u)){const h=u.path;let v;if(u.snap)as(e,h)?(v=Ki(e,h),i=ff(i,v,u.snap)):as(h,e)&&(v=Ki(h,e),i=ff(i,qt(),u.snap.getChild(v)));else{if(!u.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(as(e,h))v=Ki(e,h),i=ic(i,v,u.children);else if(as(h,e))if(v=Ki(h,e),kt(v))i=ic(i,qt(),u.children);else{const D=(0,F.DV)(u.children,Lt(v));if(D){const T=D.getChild(hn(v));i=ff(i,qt(),T)}}}}}return i}function vC(t,n,e,i,o){if(i||o){const u=al(t.visibleWrites,n);return!o&&wg(u)?e:o||null!=e||gf(u,qt())?xd(_C(t.allWrites,function(T){return(T.visible||o)&&(!i||!~i.indexOf(T.writeId))&&(as(T.path,n)||as(n,T.path))},n),e||W.EMPTY_NODE):null}{const u=rc(t.visibleWrites,n);if(null!=u)return u;{const h=al(t.visibleWrites,n);return wg(h)?e:null!=e||gf(h,qt())?xd(h,e||W.EMPTY_NODE):null}}}function Pd(t,n,e,i){return vC(t.writeTree,t.treePath,n,e,i)}function vo(t,n){return function YS(t,n,e){let i=W.EMPTY_NODE;const o=rc(t.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(wn,(u,h)=>{i=i.updateImmediateChild(u,h)}),i;if(e){const u=al(t.visibleWrites,n);return e.forEachChild(wn,(h,v)=>{const D=xd(al(u,new tn(h)),v);i=i.updateImmediateChild(h,D)}),O_(u).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}return O_(al(t.visibleWrites,n)).forEach(h=>{i=i.updateImmediateChild(h.name,h.node)}),i}(t.writeTree,t.treePath,n)}function kd(t,n,e,i){return function lb(t,n,e,i,o){(0,F.hu)(i||o,"Either existingEventSnap or existingServerSnap must exist");const u=vn(n,e);if(gf(t.visibleWrites,u))return null;{const h=al(t.visibleWrites,u);return wg(h)?o.getChild(e):xd(h,o.getChild(e))}}(t.writeTree,t.treePath,n,e,i)}function _f(t,n){return function bC(t,n){return rc(t.visibleWrites,n)}(t.writeTree,vn(t.treePath,n))}function Tg(t,n,e){return function yC(t,n,e,i){const o=vn(n,e),u=rc(t.visibleWrites,o);return null!=u?u:i.isCompleteForChild(e)?xd(al(t.visibleWrites,o),i.getNode().getImmediateChild(e)):null}(t.writeTree,t.treePath,n,e)}function wC(t,n){return CC(vn(t.treePath,n),t.writeTree)}function CC(t,n){return{treePath:t,writeTree:n}}class KS{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,i=n.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const u=o.type;if("child_added"===e&&"child_removed"===u)this.changeMap.set(i,ca(i,n.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===u)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===u)this.changeMap.set(i,rl(i,o.oldSnap));else if("child_changed"===e&&"child_added"===u)this.changeMap.set(i,cs(i,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==u)throw(0,F.g5)("Illegal combination of changes: "+n+" occurred after "+o);this.changeMap.set(i,ca(i,n.snapshotNode,o.oldSnap))}}else this.changeMap.set(i,n)}getChanges(){return Array.from(this.changeMap.values())}}const Ig=new class x_{getCompleteChild(n){return null}getChildAfterChild(n,e,i){return null}};class ub{constructor(n,e,i=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const i=null!=this.optCompleteServerCache_?new tc(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tg(this.writes_,n,i)}}getChildAfterChild(n,e,i){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:gu(this.viewCache_),u=function cb(t,n,e,i,o,u){return function EC(t,n,e,i,o,u,h){let v;const D=al(t.visibleWrites,n),T=rc(D,qt());if(null!=T)v=T;else{if(null==e)return[];v=xd(D,e)}if(v=v.withIndex(h),v.isEmpty()||v.isLeafNode())return[];{const R=[],P=h.getCompare(),B=u?v.getReverseIteratorFrom(i,h):v.getIteratorFrom(i,h);let ee=B.getNext();for(;ee&&R.length<o;)0!==P(ee,i)&&R.push(ee),ee=B.getNext();return R}}(t.writeTree,t.treePath,n,e,i,o,u)}(this.writes_,o,e,1,i,n);return 0===u.length?null:u[0]}}function hb(t,n,e,i,o,u){const h=n.eventCache;if(null!=_f(i,e))return n;{let v,D;if(kt(e))if((0,F.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const T=gu(n),P=vo(i,T instanceof W?T:W.EMPTY_NODE);v=t.filter.updateFullNode(n.eventCache.getNode(),P,u)}else{const T=Pd(i,gu(n));v=t.filter.updateFullNode(n.eventCache.getNode(),T,u)}else{const T=Lt(e);if(".priority"===T){(0,F.hu)(1===ia(e),"Can't have a priority with additional path components");const R=h.getNode();D=n.serverCache.getNode();const P=kd(i,e,R,D);v=null!=P?t.filter.updatePriority(R,P):h.getNode()}else{const R=hn(e);let P;if(h.isCompleteForChild(T)){D=n.serverCache.getNode();const B=kd(i,e,h.getNode(),D);P=null!=B?h.getNode().getImmediateChild(T).updateChild(R,B):h.getNode().getImmediateChild(T)}else P=Tg(i,T,n.serverCache);v=null!=P?t.filter.updateChild(h.getNode(),T,P,R,o,u):h.getNode()}}return nc(n,v,h.isFullyInitialized()||kt(e),t.filter.filtersNodes())}}function Sg(t,n,e,i,o,u,h,v){const D=n.serverCache;let T;const R=h?t.filter:t.filter.getIndexedFilter();if(kt(e))T=R.updateFullNode(D.getNode(),i,null);else if(R.filtersNodes()&&!D.isFiltered()){const ee=D.getNode().updateChild(e,i);T=R.updateFullNode(D.getNode(),ee,null)}else{const ee=Lt(e);if(!D.isCompleteForPath(e)&&ia(e)>1)return n;const Se=hn(e),$e=D.getNode().getImmediateChild(ee).updateChild(Se,i);T=".priority"===ee?R.updatePriority(D.getNode(),$e):R.updateChild(D.getNode(),ee,$e,Se,Ig,null)}const P=Dg(n,T,D.isFullyInitialized()||kt(e),R.filtersNodes());return hb(t,P,e,o,new ub(o,P,u),v)}function Ag(t,n,e,i,o,u,h){const v=n.eventCache;let D,T;const R=new ub(o,n,u);if(kt(e))T=t.filter.updateFullNode(n.eventCache.getNode(),i,h),D=nc(n,T,!0,t.filter.filtersNodes());else{const P=Lt(e);if(".priority"===P)T=t.filter.updatePriority(n.eventCache.getNode(),i),D=nc(n,T,v.isFullyInitialized(),v.isFiltered());else{const B=hn(e),ee=v.getNode().getImmediateChild(P);let Se;if(kt(B))Se=i;else{const He=R.getCompleteChild(P);Se=null!=He?".priority"===ug(B)&&He.getChild(hg(B)).isEmpty()?He:He.updateChild(B,i):W.EMPTY_NODE}D=ee.equals(Se)?n:nc(n,t.filter.updateChild(v.getNode(),P,Se,B,R,h),v.isFullyInitialized(),t.filter.filtersNodes())}}return D}function vf(t,n){return t.eventCache.isCompleteForChild(n)}function Ng(t,n,e){return e.foreach((i,o)=>{n=n.updateChild(i,o)}),n}function P_(t,n,e,i,o,u,h,v){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let T,D=n;T=kt(e)?i:new Pn(null).setTree(e,i);const R=n.serverCache.getNode();return T.children.inorderTraversal((P,B)=>{if(R.hasChild(P)){const Se=Ng(0,n.serverCache.getNode().getImmediateChild(P),B);D=Sg(t,D,new tn(P),Se,o,u,h,v)}}),T.children.inorderTraversal((P,B)=>{const ee=!n.serverCache.isCompleteForChild(P)&&null===B.value;if(!R.hasChild(P)&&!ee){const He=Ng(0,n.serverCache.getNode().getImmediateChild(P),B);D=Sg(t,D,new tn(P),He,o,u,h,v)}}),D}class k_{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new Ad(i.getIndex()),u=function I_(t){return t.loadsAllData()?new Ad(t.getIndex()):t.hasLimit()?new sf(t):new ec(t)}(i);this.processor_=function qS(t){return{filter:t}}(u);const h=e.serverCache,v=e.eventCache,D=o.updateFullNode(W.EMPTY_NODE,h.getNode(),null),T=u.updateFullNode(W.EMPTY_NODE,v.getNode(),null),R=new tc(D,h.isFullyInitialized(),o.filtersNodes()),P=new tc(T,v.isFullyInitialized(),u.filtersNodes());this.viewCache_=hf(P,R),this.eventGenerator_=new sb(this.query_)}get query(){return this.query_}}function MC(t,n){const e=gu(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!kt(n)&&!e.getImmediateChild(Lt(n)).isEmpty())?e.getChild(n):null}function pb(t){return 0===t.eventRegistrations_.length}function F_(t,n,e){const i=[];if(e){(0,F.hu)(null==n,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(u=>{const h=u.createCancelEvent(e,o);h&&i.push(h)})}if(n){let o=[];for(let u=0;u<t.eventRegistrations_.length;++u){const h=t.eventRegistrations_[u];if(h.matches(n)){if(n.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(u+1));break}}else o.push(h)}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function xC(t,n,e,i){n.type===us.MERGE&&null!==n.source.queryId&&((0,F.hu)(gu(t.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(ol(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,u=function TC(t,n,e,i,o){const u=new KS;let h,v;if(e.type===us.OVERWRITE){const T=e;T.source.fromUser?h=Ag(t,n,T.path,T.snap,i,o,u):((0,F.hu)(T.source.fromServer,"Unknown source."),v=T.source.tagged||n.serverCache.isFiltered()&&!kt(T.path),h=Sg(t,n,T.path,T.snap,i,o,v,u))}else if(e.type===us.MERGE){const T=e;T.source.fromUser?h=function SC(t,n,e,i,o,u,h){let v=n;return i.foreach((D,T)=>{const R=vn(e,D);vf(n,Lt(R))&&(v=Ag(t,v,R,T,o,u,h))}),i.foreach((D,T)=>{const R=vn(e,D);vf(n,Lt(R))||(v=Ag(t,v,R,T,o,u,h))}),v}(t,n,T.path,T.children,i,o,u):((0,F.hu)(T.source.fromServer,"Unknown source."),v=T.source.tagged||n.serverCache.isFiltered(),h=P_(t,n,T.path,T.children,i,o,v,u))}else if(e.type===us.ACK_USER_WRITE){const T=e;h=T.revert?function NC(t,n,e,i,o,u){let h;if(null!=_f(i,e))return n;{const v=new ub(i,n,o),D=n.eventCache.getNode();let T;if(kt(e)||".priority"===Lt(e)){let R;if(n.serverCache.isFullyInitialized())R=Pd(i,gu(n));else{const P=n.serverCache.getNode();(0,F.hu)(P instanceof W,"serverChildren would be complete if leaf node"),R=vo(i,P)}T=t.filter.updateFullNode(D,R,u)}else{const R=Lt(e);let P=Tg(i,R,n.serverCache);null==P&&n.serverCache.isCompleteForChild(R)&&(P=D.getImmediateChild(R)),T=null!=P?t.filter.updateChild(D,R,P,hn(e),v,u):n.eventCache.getNode().hasChild(R)?t.filter.updateChild(D,R,W.EMPTY_NODE,hn(e),v,u):D,T.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Pd(i,gu(n)),h.isLeafNode()&&(T=t.filter.updateFullNode(T,h,u)))}return h=n.serverCache.isFullyInitialized()||null!=_f(i,qt()),nc(n,T,h,t.filter.filtersNodes())}}(t,n,T.path,i,o,u):function Fd(t,n,e,i,o,u,h){if(null!=_f(o,e))return n;const v=n.serverCache.isFiltered(),D=n.serverCache;if(null!=i.value){if(kt(e)&&D.isFullyInitialized()||D.isCompleteForPath(e))return Sg(t,n,e,D.getNode().getChild(e),o,u,v,h);if(kt(e)){let T=new Pn(null);return D.getNode().forEachChild(ls,(R,P)=>{T=T.set(new tn(R),P)}),P_(t,n,e,T,o,u,v,h)}return n}{let T=new Pn(null);return i.foreach((R,P)=>{const B=vn(e,R);D.isCompleteForPath(B)&&(T=T.set(R,D.getNode().getChild(B)))}),P_(t,n,e,T,o,u,v,h)}}(t,n,T.path,T.affectedTree,i,o,u)}else{if(e.type!==us.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);h=function AC(t,n,e,i,o){const u=n.serverCache;return hb(t,Dg(n,u.getNode(),u.isFullyInitialized()||kt(e),u.isFiltered()),e,i,Ig,o)}(t,n,e.path,i,u)}const D=u.getChanges();return function IC(t,n,e){const i=n.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),u=ol(t);(e.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(u)||!i.getNode().getPriority().equals(u.getPriority()))&&e.push(la(ol(n)))}}(n,h,D),{viewCache:h,changes:D}}(t.processor_,o,n,e,i);return function db(t,n){(0,F.hu)(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,u.viewCache),(0,F.hu)(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,Ld(t,u.changes,u.viewCache.eventCache.getNode(),null)}function Ld(t,n,e,i){return function hC(t,n,e,i){const o=[],u=[];return n.forEach(h=>{"child_changed"===h.type&&t.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&u.push(function Xl(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}(h.childName,h.snapshotNode))}),df(t,o,"child_removed",n,i,e),df(t,o,"child_added",n,i,e),df(t,o,"child_moved",u,i,e),df(t,o,"child_changed",n,i,e),df(t,o,"value",n,i,e),o}(t.eventGenerator_,n,e,i?[i]:t.eventRegistrations_)}let rn,Ef;class Bd{constructor(){this.views=new Map}}function Rg(t,n,e,i){const o=n.source.queryId;if(null!==o){const u=t.views.get(o);return(0,F.hu)(null!=u,"SyncTree gave us an op for an invalid query."),xC(u,n,e,i)}{let u=[];for(const h of t.views.values())u=u.concat(xC(h,n,e,i));return u}}function _b(t,n,e,i,o){const h=t.views.get(n._queryIdentifier);if(!h){let v=Pd(e,o?i:null),D=!1;v?D=!0:i instanceof W?(v=vo(e,i),D=!1):(v=W.EMPTY_NODE,D=!1);const T=hf(new tc(v,D,!1),new tc(i,o,!1));return new k_(n,T)}return h}function yf(t){const n=[];for(const e of t.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function mu(t,n){let e=null;for(const i of t.views.values())e=e||MC(i,n);return e}function Mg(t,n){return n._queryParams.loadsAllData()?bf(t):t.views.get(n._queryIdentifier)}function bb(t,n){return null!=Mg(t,n)}function ha(t){return null!=bf(t)}function bf(t){for(const n of t.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let B_=1;class Df{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Pn(null),this.pendingWriteTree_=function DC(){return{visibleWrites:ds.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function V_(t,n,e,i,o){return function pC(t,n,e,i,o){(0,F.hu)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),t.allWrites.push({path:n,snap:e,writeId:i,visible:o}),o&&(t.visibleWrites=ff(t.visibleWrites,n,e)),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i,o),o?oc(t,new sl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function yo(t,n,e=!1){const i=function sc(t,n){for(let e=0;e<t.allWrites.length;e++){const i=t.allWrites[e];if(i.writeId===n)return i}return null}(t.pendingWriteTree_,n);if(function mf(t,n){const e=t.allWrites.findIndex(v=>v.writeId===n);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[e];t.allWrites.splice(e,1);let o=i.visible,u=!1,h=t.allWrites.length-1;for(;o&&h>=0;){const v=t.allWrites[h];v.visible&&(h>=e&&mC(v,i.path)?o=!1:as(i.path,v.path)&&(u=!0)),h--}return!!o&&(u?(function zS(t){t.visibleWrites=_C(t.allWrites,ZS,qt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=pf(t.visibleWrites,i.path):Jn(i.children,D=>{t.visibleWrites=pf(t.visibleWrites,vn(i.path,D))}),!0))}(t.pendingWriteTree_,n)){let u=new Pn(null);return null!=i.snap?u=u.set(qt(),!0):Jn(i.children,h=>{u=u.set(new tn(h),!0)}),oc(t,new pu(i.path,u,e))}return[]}function Gr(t,n,e){return oc(t,new sl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function xg(t,n,e,i,o=!1){const u=n._path,h=t.syncPointTree_.get(u);let v=[];if(h&&("default"===n._queryIdentifier||bb(h,n))){const D=function yb(t,n,e,i){const o=n._queryIdentifier,u=[];let h=[];const v=ha(t);if("default"===o)for(const[D,T]of t.views.entries())h=h.concat(F_(T,e,i)),pb(T)&&(t.views.delete(D),T.query._queryParams.loadsAllData()||u.push(T.query));else{const D=t.views.get(o);D&&(h=h.concat(F_(D,e,i)),pb(D)&&(t.views.delete(o),D.query._queryParams.loadsAllData()||u.push(D.query)))}return v&&!ha(t)&&u.push(new(function mb(){return(0,F.hu)(rn,"Reference.ts has not been loaded"),rn}())(n._repo,n._path)),{removed:u,events:h}}(h,n,e,i);(function L_(t){return 0===t.views.size})(h)&&(t.syncPointTree_=t.syncPointTree_.remove(u));const T=D.removed;if(v=D.events,!o){const R=-1!==T.findIndex(B=>B._queryParams.loadsAllData()),P=t.syncPointTree_.findOnPath(u,(B,ee)=>ha(ee));if(R&&!P){const B=t.syncPointTree_.subtree(u);if(!B.isEmpty()){const ee=function QS(t){return t.fold((n,e,i)=>{if(e&&ha(e))return[bf(e)];{let o=[];return e&&(o=yf(e)),Jn(i,(u,h)=>{o=o.concat(h)}),o}})}(B);for(let Se=0;Se<ee.length;++Se){const He=ee[Se],$e=He.query,ft=W_(t,He);t.listenProvider_.startListening(kg($e),vu(t,$e),ft.hashFn,ft.onComplete)}}}!P&&T.length>0&&!i&&(R?t.listenProvider_.stopListening(kg(n),null):T.forEach(B=>{const ee=t.queryToTagMap.get(z_(B));t.listenProvider_.stopListening(kg(B),ee)}))}!function Fg(t,n){for(let e=0;e<n.length;++e){const i=n[e];if(!i._queryParams.loadsAllData()){const o=z_(i),u=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(u)}}}(t,T)}return v}function H_(t,n,e,i){const o=Db(t,i);if(null!=o){const u=Z_(o),h=u.path,v=u.queryId,D=Ki(h,n);return Y_(t,h,new sl(uf(v),D,e))}return[]}function $_(t,n,e,i=!1){const o=n._path;let u=null,h=!1;t.syncPointTree_.foreachOnPath(o,(B,ee)=>{const Se=Ki(B,o);u=u||mu(ee,Se),h=h||ha(ee)});let D,v=t.syncPointTree_.get(o);v?(h=h||ha(v),u=u||mu(v,qt())):(v=new Bd,t.syncPointTree_=t.syncPointTree_.set(o,v)),null!=u?D=!0:(D=!1,u=W.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((ee,Se)=>{const He=mu(Se,qt());He&&(u=u.updateImmediateChild(ee,He))}));const T=bb(v,n);if(!T&&!n._queryParams.loadsAllData()){const B=z_(n);(0,F.hu)(!t.queryToTagMap.has(B),"View does not exist, but we have a tag");const ee=function LC(){return B_++}();t.queryToTagMap.set(B,ee),t.tagToQueryMap.set(ee,B)}let P=function vb(t,n,e,i,o,u){const h=_b(t,n,i,o,u);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,h),function OC(t,n){t.eventRegistrations_.push(n)}(h,e),function JS(t,n){const e=t.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(wn,(u,h)=>{i.push(cs(u,h))}),e.isFullyInitialized()&&i.push(la(e.getNode())),Ld(t,i,e.getNode(),n)}(h,e)}(v,n,e,Cg(t.pendingWriteTree_,o),u,D);if(!T&&!h&&!i){const B=Mg(v,n);P=P.concat(function K_(t,n,e){const i=n._path,o=vu(t,n),u=W_(t,e),h=t.listenProvider_.startListening(kg(n),o,u.hashFn,u.onComplete),v=t.syncPointTree_.subtree(i);if(o)(0,F.hu)(!ha(v.value),"If we're adding a query, it shouldn't be shadowed");else{const D=v.fold((T,R,P)=>{if(!kt(T)&&R&&ha(R))return[bf(R).query];{let B=[];return R&&(B=B.concat(yf(R).map(ee=>ee.query))),Jn(P,(ee,Se)=>{B=B.concat(Se)}),B}});for(let T=0;T<D.length;++T){const R=D[T];t.listenProvider_.stopListening(kg(R),vu(t,R))}}return h}(t,n,B))}return P}function Pg(t,n,e){const o=t.pendingWriteTree_,u=t.syncPointTree_.findOnPath(n,(h,v)=>{const T=mu(v,Ki(h,n));if(T)return T});return vC(o,n,u,e,!0)}function oc(t,n){return G_(n,t.syncPointTree_,null,Cg(t.pendingWriteTree_,qt()))}function G_(t,n,e,i){if(kt(t.path))return Eb(t,n,e,i);{const o=n.get(qt());null==e&&null!=o&&(e=mu(o,qt()));let u=[];const h=Lt(t.path),v=t.operationForChild(h),D=n.children.get(h);if(D&&v){const T=e?e.getImmediateChild(h):null,R=wC(i,h);u=u.concat(G_(v,D,T,R))}return o&&(u=u.concat(Rg(o,t,i,e))),u}}function Eb(t,n,e,i){const o=n.get(qt());null==e&&null!=o&&(e=mu(o,qt()));let u=[];return n.children.inorderTraversal((h,v)=>{const D=e?e.getImmediateChild(h):null,T=wC(i,h),R=t.operationForChild(h);R&&(u=u.concat(Eb(R,v,D,T)))}),o&&(u=u.concat(Rg(o,t,i,e))),u}function W_(t,n){const e=n.query,i=vu(t,e);return{hashFn:()=>(function fb(t){return t.viewCache_.serverCache.getNode()}(n)||W.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return i?function kC(t,n,e){const i=Db(t,e);if(i){const o=Z_(i),u=o.path,h=o.queryId,v=Ki(u,n);return Y_(t,u,new Od(uf(h),v))}return[]}(t,e._path,i):function j_(t,n){return oc(t,new Od({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(t,e._path);{const u=function Kh(t,n){let e="Unknown Error";"too_big"===t?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?e="Client doesn't have permission to access the desired data.":"unavailable"===t&&(e="The service is unavailable");const i=new Error(t+" at "+n._path.toString()+": "+e);return i.code=t.toUpperCase(),i}(o,e);return xg(t,e,null,u)}}}}function vu(t,n){const e=z_(n);return t.queryToTagMap.get(e)}function z_(t){return t._path.toString()+"$"+t._queryIdentifier}function Db(t,n){return t.tagToQueryMap.get(n)}function Z_(t){const n=t.indexOf("$");return(0,F.hu)(-1!==n&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new tn(t.substr(0,n))}}function Y_(t,n,e){const i=t.syncPointTree_.get(n);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),Rg(i,e,Cg(t.pendingWriteTree_,n),null)}function kg(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(function PC(){return(0,F.hu)(Ef,"Reference.ts has not been loaded"),Ef}())(t._repo,t._path):t}class wf{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new wf(e)}node(){return this.node_}}class ac{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=vn(this.path_,n);return new ac(this.syncTree_,e)}node(){return Pg(this.syncTree_,this.path_)}}const q_=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},Lg=function(t,n,e){return t&&"object"==typeof t?((0,F.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Cf(t[".sv"],n,e):"object"==typeof t[".sv"]?Bg(t[".sv"],n):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Cf=function(t,n,e){if("timestamp"===t)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+t)},Bg=function(t,n,e){t.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const o=n.node();if((0,F.hu)(null!==o&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const h=o.getValue();return"number"!=typeof h?i:h+i},yu=function(t,n,e,i){return If(n,new ac(e,t),i)},Tf=function(t,n,e){return If(t,new wf(n),e)};function If(t,n,e){const i=t.getPriority().val(),o=Lg(i,n.getImmediateChild(".priority"),e);let u;if(t.isLeafNode()){const h=t,v=Lg(h.getValue(),n,e);return v!==h.getValue()||o!==h.getPriority().val()?new _o(v,Ze(o)):t}{const h=t;return u=h,o!==h.getPriority().val()&&(u=u.updatePriority(new _o(o))),h.forEachChild(wn,(v,D)=>{const T=If(D,n.getImmediateChild(v),e);T!==D&&(u=u.updateImmediateChild(v,T))}),u}}class Ud{constructor(n="",e=null,i={children:{},childCount:0}){this.name=n,this.parent=e,this.node=i}}function J_(t,n){let e=n instanceof tn?n:new tn(n),i=t,o=Lt(e);for(;null!==o;){const u=(0,F.DV)(i.node.children,o)||{children:{},childCount:0};i=new Ud(o,i,u),e=hn(e),o=Lt(e)}return i}function ll(t){return t.node.value}function bu(t,n){t.node.value=n,X_(t)}function wb(t){return t.node.childCount>0}function Vg(t,n){Jn(t.node.children,(e,i)=>{n(new Ud(e,t,i))})}function Tb(t,n,e,i){e&&!i&&n(t),Vg(t,o=>{Tb(o,n,!0,i)}),e&&i&&n(t)}function jd(t){return new tn(null===t.parent?t.name:jd(t.parent)+"/"+t.name)}function X_(t){null!==t.parent&&function BC(t,n,e){const i=function Cb(t){return void 0===ll(t)&&!wb(t)}(e),o=(0,F.r3)(t.node.children,n);i&&o?(delete t.node.children[n],t.node.childCount--,X_(t)):!i&&!o&&(t.node.children[n]=e.node,t.node.childCount++,X_(t))}(t.parent,t.name,t)}const XS=/[\[\].#$\/\u0000-\u001F\u007F]/,VC=/[\[\].#$\u0000-\u001F\u007F]/,Hd=10485760,$d=function(t){return"string"==typeof t&&0!==t.length&&!XS.test(t)},Ib=function(t){return"string"==typeof t&&0!==t.length&&!VC.test(t)},Eu=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!jr(t)||t&&"object"==typeof t&&(0,F.r3)(t,".sv")},hs=function(t,n,e,i){i&&void 0===n||Sf((0,F.gK)(t,"value"),n,e)},Sf=function(t,n,e){const i=e instanceof tn?new X0(e,t):e;if(void 0===n)throw new Error(t+"contains undefined "+ra(i));if("function"==typeof n)throw new Error(t+"contains a function "+ra(i)+" with contents = "+n.toString());if(jr(n))throw new Error(t+"contains "+n.toString()+" "+ra(i));if("string"==typeof n&&n.length>Hd/3&&(0,F.ug)(n)>Hd)throw new Error(t+"contains a string greater than "+Hd+" utf8 bytes "+ra(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let o=!1,u=!1;if(Jn(n,(h,v)=>{if(".value"===h)o=!0;else if(".priority"!==h&&".sv"!==h&&(u=!0,!$d(h)))throw new Error(t+" contains an invalid key ("+h+") "+ra(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function D_(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=(0,F.ug)(n),rf(t)})(i,h),Sf(t,v,i),function fg(t){const n=t.parts_.pop();t.byteLength_-=(0,F.ug)(n),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),o&&u)throw new Error(t+' contains ".value" child '+ra(i)+" in addition to actual children.")}},Nb=function(t,n,e,i){if(i&&void 0===n)return;const o=(0,F.gK)(t,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const u=[];Jn(n,(h,v)=>{const D=new tn(h);if(Sf(o,v,vn(e,D)),".priority"===ug(D)&&!Eu(v))throw new Error(o+"contains an invalid value for '"+D.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(D)}),function(t,n){let e,i;for(e=0;e<n.length;e++){i=n[e];const u=Td(i);for(let h=0;h<u.length;h++)if((".priority"!==u[h]||h!==u.length-1)&&!$d(u[h]))throw new Error(t+"contains an invalid key ("+u[h]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(Q0);let o=null;for(e=0;e<n.length;e++){if(i=n[e],null!==o&&as(o,i))throw new Error(t+"contains a path "+o.toString()+" that is ancestor of another path "+i.toString());o=i}}(o,u)},Ug=function(t,n,e){if(!e||void 0!==n){if(jr(n))throw new Error((0,F.gK)(t,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Eu(n))throw new Error((0,F.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},jg=function(t,n,e,i){if(!(i&&void 0===e||$d(e)))throw new Error((0,F.gK)(t,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Af=function(t,n,e,i){if(!(i&&void 0===e||Ib(e)))throw new Error((0,F.gK)(t,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Hg=function(t,n,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Af(t,n,e,i)},Ls=function(t,n){if(".info"===Lt(n))throw new Error(t+" failed = Can't modify data under /.info/")},Du=function(t,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!$d(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ib(t)}(e))throw new Error((0,F.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Nf{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $g(t,n){let e=null;for(let i=0;i<n.length;i++){const o=n[i],u=o.getPath();null!==e&&!lu(u,e.path)&&(t.eventLists_.push(e),e=null),null===e&&(e={events:[],path:u}),e.events.push(o)}e&&t.eventLists_.push(e)}function ev(t,n,e){$g(t,e),Rb(t,i=>lu(i,n))}function fs(t,n,e){$g(t,e),Rb(t,i=>as(i,n)||as(n,i))}function Rb(t,n){t.recursionDepth_++;let e=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];o&&(n(o.path)?(UC(t.eventLists_[i]),t.eventLists_[i]=null):e=!1)}e&&(t.eventLists_=[]),t.recursionDepth_--}function UC(t){for(let n=0;n<t.events.length;n++){const e=t.events[n];if(null!==e){t.events[n]=null;const i=e.getEventRunner();Zi&&qn("event: "+e.toString()),_n(i)}}}const tv="repo_interrupt",Mb=25;class nv{constructor(n,e,i,o){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Nf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cf(),this.transactionQueueTree_=new Ud,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Gg(t){const e=t.infoData_.getNode(new tn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Gd(t){return q_({timestamp:Gg(t)})}function Ob(t,n,e,i,o){t.dataUpdateCount++;const u=new tn(n);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,e):e;let h=[];if(o)if(i){const D=(0,F.UI)(e,T=>Ze(T));h=function Vd(t,n,e,i){const o=Db(t,i);if(o){const u=Z_(o),h=u.path,v=u.queryId,D=Ki(h,n),T=Pn.fromObject(e);return Y_(t,h,new da(uf(v),D,T))}return[]}(t.serverSyncTree_,u,D,o)}else{const D=Ze(e);h=H_(t.serverSyncTree_,u,D,o)}else if(i){const D=(0,F.UI)(e,T=>Ze(T));h=function Og(t,n,e){const i=Pn.fromObject(e);return oc(t,new da({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,i))}(t.serverSyncTree_,u,D)}else{const D=Ze(e);h=Gr(t.serverSyncTree_,u,D)}let v=u;h.length>0&&(v=xf(t,u)),fs(t.eventQueue_,v,h)}function xb(t,n){iv(t,"connected",n),!1===n&&function kb(t){Mf(t,"onDisconnectEvents");const n=Gd(t),e=cf();Md(t.onDisconnect_,qt(),(o,u)=>{const h=yu(o,u,t.serverSyncTree_,n);Rd(e,o,h)});let i=[];Md(e,qt(),(o,u)=>{i=i.concat(Gr(t.serverSyncTree_,o,u));const h=Pf(t,o);xf(t,h)}),t.onDisconnect_=cf(),fs(t.eventQueue_,qt(),i)}(t)}function iv(t,n,e){const i=new tn("/.info/"+n),o=Ze(e);t.infoData_.updateSnapshot(i,o);const u=Gr(t.infoSyncTree_,i,o);fs(t.eventQueue_,i,u)}function Rf(t){return t.nextWriteId_++}function rv(t,n,e,i,o){Mf(t,"set",{path:n.toString(),value:e,priority:i});const u=Gd(t),h=Ze(e,i),v=Pg(t.serverSyncTree_,n),D=Tf(h,v,u),T=Rf(t),R=V_(t.serverSyncTree_,n,D,T,!0);$g(t.eventQueue_,R),t.server_.put(n.toString(),h.val(!0),(B,ee)=>{const Se="ok"===B;Se||Dn("set at "+n+" failed: "+B);const He=yo(t.serverSyncTree_,T,!Se);fs(t.eventQueue_,n,He),lc(0,o,B,ee)});const P=Pf(t,n);xf(t,P),fs(t.eventQueue_,P,[])}function Fb(t,n,e){t.server_.onDisconnectCancel(n.toString(),(i,o)=>{"ok"===i&&tb(t.onDisconnect_,n),lc(0,e,i,o)})}function Bs(t,n,e,i){const o=Ze(e);t.server_.onDisconnectPut(n.toString(),o.val(!0),(u,h)=>{"ok"===u&&Rd(t.onDisconnect_,n,o),lc(0,i,u,h)})}function fa(t,n,e){let i;i=".info"===Lt(n._path)?xg(t.infoSyncTree_,n,e):xg(t.serverSyncTree_,n,e),ev(t.eventQueue_,n._path,i)}function Wg(t){t.persistentConnection_&&t.persistentConnection_.interrupt(tv)}function Mf(t,...n){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),qn(e,...n)}function lc(t,n,e,i){n&&_n(()=>{if("ok"===e)n(null);else{const o=(e||"error").toUpperCase();let u=o;i&&(u+=": "+i);const h=new Error(u);h.code=o,n(h)}})}function Vs(t,n,e){return Pg(t.serverSyncTree_,n,e)||W.EMPTY_NODE}function Of(t,n=t.transactionQueueTree_){if(n||Zg(t,n),ll(n)){const e=zg(t,n);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function $C(t,n,e){const i=e.map(T=>T.currentWriteId),o=Vs(t,n,i);let u=o;const h=o.hash();for(let T=0;T<e.length;T++){const R=e[T];(0,F.hu)(0===R.status,"tryToSendTransactionQueue_: items in queue should all be run."),R.status=1,R.retryCount++;const P=Ki(n,R.path);u=u.updateChild(P,R.currentOutputSnapshotRaw)}const v=u.val(!0),D=n;t.server_.put(D.toString(),v,T=>{Mf(t,"transaction put response",{path:D.toString(),status:T});let R=[];if("ok"===T){const P=[];for(let B=0;B<e.length;B++)e[B].status=2,R=R.concat(yo(t.serverSyncTree_,e[B].currentWriteId)),e[B].onComplete&&P.push(()=>e[B].onComplete(null,!0,e[B].currentOutputSnapshotResolved)),e[B].unwatcher();Zg(t,J_(t.transactionQueueTree_,n)),Of(t,t.transactionQueueTree_),fs(t.eventQueue_,n,R);for(let B=0;B<P.length;B++)_n(P[B])}else{if("datastale"===T)for(let P=0;P<e.length;P++)e[P].status=3===e[P].status?4:0;else{Dn("transaction at "+D.toString()+" failed: "+T);for(let P=0;P<e.length;P++)e[P].status=4,e[P].abortReason=T}xf(t,n)}},h)}(t,jd(n),e)}else wb(n)&&Vg(n,e=>{Of(t,e)})}function xf(t,n){const e=Bb(t,n),i=jd(e);return function Hi(t,n,e){if(0===n.length)return;const i=[];let o=[];const h=n.filter(v=>0===v.status).map(v=>v.currentWriteId);for(let v=0;v<n.length;v++){const D=n[v],T=Ki(e,D.path);let P,R=!1;if((0,F.hu)(null!==T,"rerunTransactionsUnderNode_: relativePath should not be null."),4===D.status)R=!0,P=D.abortReason,o=o.concat(yo(t.serverSyncTree_,D.currentWriteId,!0));else if(0===D.status)if(D.retryCount>=Mb)R=!0,P="maxretry",o=o.concat(yo(t.serverSyncTree_,D.currentWriteId,!0));else{const B=Vs(t,D.path,h);D.currentInputSnapshot=B;const ee=n[v].update(B.val());if(void 0!==ee){Sf("transaction failed: Data returned ",ee,D.path);let Se=Ze(ee);"object"==typeof ee&&null!=ee&&(0,F.r3)(ee,".priority")||(Se=Se.updatePriority(B.getPriority()));const $e=D.currentWriteId,ft=Gd(t),pt=Tf(Se,B,ft);D.currentOutputSnapshotRaw=Se,D.currentOutputSnapshotResolved=pt,D.currentWriteId=Rf(t),h.splice(h.indexOf($e),1),o=o.concat(V_(t.serverSyncTree_,D.path,pt,D.currentWriteId,D.applyLocally)),o=o.concat(yo(t.serverSyncTree_,$e,!0))}else R=!0,P="nodata",o=o.concat(yo(t.serverSyncTree_,D.currentWriteId,!0))}fs(t.eventQueue_,e,o),o=[],R&&(n[v].status=2,setTimeout(n[v].unwatcher,Math.floor(0)),n[v].onComplete&&i.push("nodata"===P?()=>n[v].onComplete(null,!1,n[v].currentInputSnapshot):()=>n[v].onComplete(new Error(P),!1,null)))}Zg(t,t.transactionQueueTree_);for(let v=0;v<i.length;v++)_n(i[v]);Of(t,t.transactionQueueTree_)}(t,zg(t,e),i),i}function Bb(t,n){let e,i=t.transactionQueueTree_;for(e=Lt(n);null!==e&&void 0===ll(i);)i=J_(i,e),e=Lt(n=hn(n));return i}function zg(t,n){const e=[];return Vb(t,n,e),e.sort((i,o)=>i.order-o.order),e}function Vb(t,n,e){const i=ll(n);if(i)for(let o=0;o<i.length;o++)e.push(i[o]);Vg(n,o=>{Vb(t,o,e)})}function Zg(t,n){const e=ll(n);if(e){let i=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[i]=e[o],i++);e.length=i,bu(n,e.length>0?e:void 0)}Vg(n,i=>{Zg(t,i)})}function Pf(t,n){const e=jd(Bb(t,n)),i=J_(t.transactionQueueTree_,n);return function Q_(t,n,e){let i=e?t:t.parent;for(;null!==i;){if(n(i))return!0;i=i.parent}}(i,o=>{Yg(t,o)}),Yg(t,i),Tb(i,o=>{Yg(t,o)}),e}function Yg(t,n){const e=ll(n);if(e){const i=[];let o=[],u=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,F.hu)(u===h-1,"All SENT items should be at beginning of queue."),u=h,e[h].status=3,e[h].abortReason="set"):((0,F.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),o=o.concat(yo(t.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&i.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===u?bu(n,void 0):e.length=u+1,fs(t.eventQueue_,jd(n),o);for(let h=0;h<i.length;h++)_n(i[h])}}const Kg=function(t,n){const e=jb(t),i=e.namespace;return"firebase.com"===e.domain&&cr(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&cr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Dn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ke(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,n,"",i!==e.subdomain),path:new tn(e.pathString)}},jb=function(t){let n="",e="",i="",o="",u="",h=!0,v="https",D=443;if("string"==typeof t){let T=t.indexOf("//");T>=0&&(v=t.substring(0,T-1),t=t.substring(T+2));let R=t.indexOf("/");-1===R&&(R=t.length);let P=t.indexOf("?");-1===P&&(P=t.length),n=t.substring(0,Math.min(R,P)),R<P&&(o=function Ub(t){let n="";const e=t.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let o=e[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}(t.substring(R,P)));const B=function GC(t){const n={};"?"===t.charAt(0)&&(t=t.substring(1));for(const e of t.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?n[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Dn(`Invalid query segment '${e}' in query '${t}'`)}return n}(t.substring(Math.min(t.length,P)));T=n.indexOf(":"),T>=0?(h="https"===v||"wss"===v,D=parseInt(n.substring(T+1),10)):T=n.length;const ee=n.slice(0,T);if("localhost"===ee.toLowerCase())e="localhost";else if(ee.split(".").length<=2)e=ee;else{const Se=n.indexOf(".");i=n.substring(0,Se).toLowerCase(),e=n.substring(Se+1),u=i}"ns"in B&&(u=B.ns)}return{host:n,port:D,domain:e,subdomain:i,secure:h,scheme:v,pathString:o,namespace:u}},Hb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",WC=function(){let t=0;const n=[];return function(e){const i=e===t;let o;t=e;const u=new Array(8);for(o=7;o>=0;o--)u[o]=Hb.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let h=u.join("");if(i){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)h+=Hb.charAt(n[o]);return(0,F.hu)(20===h.length,"nextPushId: Length should be 20."),h}}();class $b{constructor(n,e,i,o){this.eventType=n,this.eventRegistration=e,this.snapshot=i,this.prevName=o}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class av{constructor(n,e,i){this.eventRegistration=n,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class cc{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class pa{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new F.BH;return Fb(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){Ls("OnDisconnect.remove",this._path);const n=new F.BH;return Bs(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){Ls("OnDisconnect.set",this._path),hs("OnDisconnect.set",n,this._path,!1);const e=new F.BH;return Bs(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){Ls("OnDisconnect.setWithPriority",this._path),hs("OnDisconnect.setWithPriority",n,this._path,!1),Ug("OnDisconnect.setWithPriority",e,!1);const i=new F.BH;return function Lb(t,n,e,i,o){const u=Ze(e,i);t.server_.onDisconnectPut(n.toString(),u.val(!0),(h,v)=>{"ok"===h&&Rd(t.onDisconnect_,n,u),lc(0,o,h,v)})}(this._repo,this._path,n,e,i.wrapCallback(()=>{})),i.promise}update(n){Ls("OnDisconnect.update",this._path),Nb("OnDisconnect.update",n,this._path,!1);const e=new F.BH;return function nA(t,n,e,i){if((0,F.xb)(e))return qn("onDisconnect().update() called with empty data.  Don't do anything."),void lc(0,i,"ok",void 0);t.server_.onDisconnectMerge(n.toString(),e,(o,u)=>{"ok"===o&&Jn(e,(h,v)=>{const D=Ze(v);Rd(t.onDisconnect_,vn(n,h),D)}),lc(0,i,o,u)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class Mi{constructor(n,e,i,o){this._repo=n,this._path=e,this._queryParams=i,this._orderByCalled=o}get key(){return kt(this._path)?null:ug(this._path)}get ref(){return new ps(this._repo,this._path)}get _queryIdentifier(){const n=A_(this._queryParams),e=uo(n);return"{}"===e?"default":e}get _queryObject(){return A_(this._queryParams)}isEqual(n){if(!((n=(0,F.m9)(n))instanceof Mi))return!1;const e=this._repo===n._repo,i=lu(this._path,n._path);return e&&i&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function dg(t){let n="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)""!==t.pieces_[e]&&(n+="/"+encodeURIComponent(String(t.pieces_[e])));return n||"/"}(this._path)}}function qg(t,n){if(!0===t._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function uc(t){let n=null,e=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(e=t.getIndexEndValue()),t.getIndex()===ls){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==ur)throw new Error(i);if("string"!=typeof n)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==Ci)throw new Error(i);if("string"!=typeof e)throw new Error(o)}}else if(t.getIndex()===wn){if(null!=n&&!Eu(n)||null!=e&&!Eu(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(t.getIndex()instanceof Mn||t.getIndex()===il,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function kf(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ps extends Mi{constructor(n,e){super(n,e,new hu,!1)}get parent(){const n=hg(this._path);return null===n?null:new ps(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class cl{constructor(n,e,i){this._node=n,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new tn(n),i=dc(this.ref,n);return new cl(this._node.getChild(e),i,wn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,o)=>n(new cl(o,dc(this.ref,i),wn)))}hasChild(n){const e=new tn(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Wd(t,n){return(t=(0,F.m9)(t))._checkNotDeleted("ref"),void 0!==n?dc(t._root,n):t._root}function Ff(t,n){(t=(0,F.m9)(t))._checkNotDeleted("refFromURL");const e=Kg(n,t._repo.repoInfo_.nodeAdmin);Du("refFromURL",e);const i=e.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&cr("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),Wd(t,e.path.toString())}function dc(t,n){return null===Lt((t=(0,F.m9)(t))._path)?Hg("child","path",n,!1):Af("child","path",n,!1),new ps(t._repo,vn(t._path,n))}function lv(t,n){t=(0,F.m9)(t),Ls("set",t._path),hs("set",n,t._path,!1);const e=new F.BH;return rv(t._repo,t._path,n,null,e.wrapCallback(()=>{})),e.promise}function iA(t,n){Nb("update",n,t._path,!1);const e=new F.BH;return function tA(t,n,e,i){Mf(t,"update",{path:n.toString(),value:e});let o=!0;const u=Gd(t),h={};if(Jn(e,(v,D)=>{o=!1,h[v]=yu(vn(n,v),Ze(D),t.serverSyncTree_,u)}),o)qn("update() called with empty data.  Don't do anything."),lc(0,i,"ok",void 0);else{const v=Rf(t),D=function U_(t,n,e,i){!function gC(t,n,e,i){(0,F.hu)(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:n,children:e,writeId:i,visible:!0}),t.visibleWrites=ic(t.visibleWrites,n,e),t.lastWriteId=i}(t.pendingWriteTree_,n,e,i);const o=Pn.fromObject(e);return oc(t,new da({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,o))}(t.serverSyncTree_,n,h,v);$g(t.eventQueue_,D),t.server_.merge(n.toString(),e,(T,R)=>{const P="ok"===T;P||Dn("update at "+n+" failed: "+T);const B=yo(t.serverSyncTree_,v,!P),ee=B.length>0?xf(t,n):n;fs(t.eventQueue_,ee,B),lc(0,i,T,R)}),Jn(e,T=>{const R=Pf(t,vn(n,T));xf(t,R)}),fs(t.eventQueue_,n,[])}}(t._repo,t._path,n,e.wrapCallback(()=>{})),e.promise}function qC(t){t=(0,F.m9)(t);const n=new cc(()=>{}),e=new Jg(n);return function jC(t,n,e){const i=function FC(t,n){const e=n._path;let i=null;t.syncPointTree_.foreachOnPath(e,(T,R)=>{const P=Ki(T,e);i=i||mu(R,P)});let o=t.syncPointTree_.get(e);o?i=i||mu(o,qt()):(o=new Bd,t.syncPointTree_=t.syncPointTree_.set(e,o));const u=null!=i,h=u?new tc(i,!0,!1):null;return function RC(t){return ol(t.viewCache_)}(_b(o,n,Cg(t.pendingWriteTree_,n._path),u?h.getNode():W.EMPTY_NODE,u))}(t.serverSyncTree_,n);return null!=i?Promise.resolve(i):t.server_.get(n).then(o=>{const u=Ze(o).withIndex(n._queryParams.getIndex());let h;if($_(t.serverSyncTree_,n,e,!0),n._queryParams.loadsAllData())h=Gr(t.serverSyncTree_,n._path,u);else{const v=vu(t.serverSyncTree_,n);h=H_(t.serverSyncTree_,n._path,u,v)}return fs(t.eventQueue_,n._path,h),xg(t.serverSyncTree_,n,e,null,!0),u},o=>(Mf(t,"get for query "+(0,F.Wl)(n)+" failed: "+o),Promise.reject(new Error(o))))}(t._repo,t,e).then(i=>new cl(i,new ps(t._repo,t._path),t._queryParams.getIndex()))}class Jg{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const i=e._queryParams.getIndex();return new $b("value",this,new cl(n.snapshotNode,new ps(e._repo,e._path),i))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new av(this,n,e):null}matches(n){return n instanceof Jg&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class cv{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new av(this,n,e):null}createEvent(n,e){(0,F.hu)(null!=n.childName,"Child events should have a childName.");const i=dc(new ps(e._repo,e._path),n.childName),o=e._queryParams.getIndex();return new $b(n.type,this,new cl(n.snapshotNode,i,o),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof cv&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function zd(t,n,e,i,o){let u;if("object"==typeof i&&(u=void 0,o=i),"function"==typeof i&&(u=i),o&&o.onlyOnce){const D=e,T=(R,P)=>{fa(t._repo,t,v),D(R,P)};T.userCallback=e.userCallback,T.context=e.context,e=T}const h=new cc(e,u||void 0),v="value"===n?new Jg(h):new cv(n,h);return function sv(t,n,e){let i;i=".info"===Lt(n._path)?$_(t.infoSyncTree_,n,e):$_(t.serverSyncTree_,n,e),ev(t.eventQueue_,n._path,i)}(t._repo,t,v),()=>fa(t._repo,t,v)}function Qg(t,n,e,i){return zd(t,"value",n,e,i)}function JC(t,n,e,i){return zd(t,"child_added",n,e,i)}function Lf(t,n,e,i){return zd(t,"child_changed",n,e,i)}function QC(t,n,e,i){return zd(t,"child_moved",n,e,i)}function uv(t,n,e,i){return zd(t,"child_removed",n,e,i)}function dv(t,n,e){let i=null;const o=e?new cc(e):null;"value"===n?i=new Jg(o):n&&(i=new cv(n,o)),fa(t._repo,t,i)}class bo{}class hv extends bo{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){hs("endAt",this._value,n._path,!0);const e=lf(n._queryParams,this._value,this._key);if(kf(e),uc(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mi(n._repo,n._path,e,n._orderByCalled)}}class Pt extends bo{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){hs("endBefore",this._value,n._path,!1);const e=function uC(t,n,e){let i;return i=lf(t,n,t.index_===ls||e?e:ur),i.endBeforeSet_=!0,i}(n._queryParams,this._value,this._key);if(kf(e),uc(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mi(n._repo,n._path,e,n._orderByCalled)}}class fv extends bo{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){hs("startAt",this._value,n._path,!0);const e=Nd(n._queryParams,this._value,this._key);if(kf(e),uc(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Mi(n._repo,n._path,e,n._orderByCalled)}}class Zb extends bo{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){hs("startAfter",this._value,n._path,!1);const e=function S_(t,n,e){let i;return i=Nd(t,n,t.index_===ls||e?e:Ci),i.startAfterSet_=!0,i}(n._queryParams,this._value,this._key);if(kf(e),uc(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Mi(n._repo,n._path,e,n._orderByCalled)}}class Xg extends bo{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Mi(n._repo,n._path,function af(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class pv extends bo{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Mi(n._repo,n._path,function vg(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class Yb extends bo{constructor(n){super(),this._path=n}_apply(n){qg(n,"orderByChild");const e=new tn(this._path);if(kt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Mn(e),o=yg(n._queryParams,i);return uc(o),new Mi(n._repo,n._path,o,!0)}}class mv extends bo{_apply(n){qg(n,"orderByKey");const e=yg(n._queryParams,ls);return uc(e),new Mi(n._repo,n._path,e,!0)}}class Kb extends bo{_apply(n){qg(n,"orderByPriority");const e=yg(n._queryParams,wn);return uc(e),new Mi(n._repo,n._path,e,!0)}}class eT extends bo{_apply(n){qg(n,"orderByValue");const e=yg(n._queryParams,il);return uc(e),new Mi(n._repo,n._path,e,!0)}}class nT extends bo{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(hs("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new hv(this._value,this._key)._apply(new fv(this._value,this._key)._apply(n))}}function Eo(t,...n){let e=(0,F.m9)(t);for(const i of n)e=i._apply(e);return e}(function gb(t){(0,F.hu)(!rn,"__referenceConstructor has already been defined"),rn=t})(ps),function _u(t){(0,F.hu)(!Ef,"__referenceConstructor has already been defined"),Ef=t}(ps);const yv={};function bv(t,n,e,i,o){let u=i||t.options.databaseURL;void 0===u&&(t.options.projectId||cr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qn("Using default host for project ",t.options.projectId),u=`${t.options.projectId}-default-rtdb.firebaseio.com`);let D,T,h=Kg(u,o),v=h.repoInfo;typeof process<"u"&&process.env&&(T=process.env.FIREBASE_DATABASE_EMULATOR_HOST),T?(D=!0,u=`http://${T}?ns=${v.namespace}`,h=Kg(u,o),v=h.repoInfo):D=!h.repoInfo.secure;const R=o&&D?new fo(fo.OWNER):new Xp(t.name,t.options,n);Du("Invalid Firebase Database URL",h),kt(h.path)||cr("Database URL must point to the root of a Firebase Database (not including a child path).");const P=function sT(t,n,e,i){let o=yv[n.name];o||(o={},yv[n.name]=o);let u=o[t.toURLString()];return u&&cr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new nv(t,false,e,i),o[t.toURLString()]=u,u}(v,t,R,new yd(t.name,e));return new oT(P,t)}class oT{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function eA(t,n,e){if(t.stats_=Ps(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new ua(t.repoInfo_,(i,o,u,h)=>{Ob(t,i,o,u,h)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>xb(t,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Hr(t.repoInfo_,n,(i,o,u,h)=>{Ob(t,i,o,u,h)},i=>{xb(t,i)},i=>{!function Pb(t,n){Jn(n,(e,i)=>{iv(t,e,i)})}(t,i)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=function Un(t,n){const e=t.toString();return Vn[e]||(Vn[e]=n()),Vn[e]}(t.repoInfo_,()=>new rb(t.stats_,t.server_)),t.infoData_=new eb,t.infoSyncTree_=new Df({startListening:(i,o,u,h)=>{let v=[];const D=t.infoData_.getNode(i._path);return D.isEmpty()||(v=Gr(t.infoSyncTree_,i._path,D),setTimeout(()=>{h("ok")},0)),v},stopListening:()=>{}}),iv(t,"connected",!1),t.serverSyncTree_=new Df({startListening:(i,o,u,h)=>(t.server_.listen(i,u,o,(v,D)=>{const T=h(v,D);fs(t.eventQueue_,i._path,T)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ps(this._repo,qt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function rT(t,n){const e=yv[n];(!e||e[t.key]!==t)&&cr(`Database ${n}(${t.repoInfo_}) has already been deleted.`),Wg(t),delete e[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&cr("Cannot call "+n+" on a deleted database.")}}function Xb(){ru.IS_TRANSPORT_INITIALIZED&&Dn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function rA(){Xb(),na.forceDisallow()}function Ev(){Xb(),ks.forceDisallow(),na.forceAllow()}function tE(t,n){Ya(t,n)}const dT={".sv":"timestamp"};class fT{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Hr.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)},Hr.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)},function uT(t){qc($l.SDK_VERSION),(0,$l._registerComponent)(new Ur.wA("database",(n,{instanceIdentifier:e})=>bv(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,$l.registerVersion)(ns,"0.14.4",t),(0,$l.registerVersion)(ns,"0.14.4","esm2017")}();const gT=new Yo.Yd("@firebase/database-compat"),Cv=function(t){gT.warn("FIREBASE WARNING: "+t)};class iE{constructor(n){this._delegate=n}cancel(n){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),i=>n(i)),e}remove(n){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),i=>n(i)),e}set(n,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(n);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(n,e,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const o=this._delegate.setWithPriority(n,e);return i&&o.then(()=>i(null),u=>i(u)),o}update(n,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const o={};for(let u=0;u<n.length;++u)o[""+u]=n[u];n=o,Cv("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(n);return e&&i.then(()=>e(null),o=>e(o)),i}}class em{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ma{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),Af("DataSnapshot.child","path",n,!1),new ma(this._database,this._delegate.child(n))}hasChild(n){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Af("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new ma(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new Wr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class fr{constructor(n,e){this.database=n,this._delegate=e}on(n,e,i,o){var u;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const h=fr.getCancelAndContextArgs_("Query.on",i,o),v=(T,R)=>{e.call(h.context,new ma(this.database,T),R)};v.userCallback=e,v.context=h.context;const D=null===(u=h.cancel)||void 0===u?void 0:u.bind(h.context);switch(n){case"value":return Qg(this._delegate,v,D),e;case"child_added":return JC(this._delegate,v,D),e;case"child_removed":return uv(this._delegate,v,D),e;case"child_changed":return Lf(this._delegate,v,D),e;case"child_moved":return QC(this._delegate,v,D),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(t,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",i,!0),e){const o=()=>{};o.userCallback=e,o.context=i,dv(this._delegate,n,o)}else dv(this._delegate,n)}get(){return qC(this._delegate).then(n=>new ma(this.database,n))}once(n,e,i,o){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const u=fr.getCancelAndContextArgs_("Query.once",i,o),h=new F.BH,v=(T,R)=>{const P=new ma(this.database,T);e&&e.call(u.context,P,R),h.resolve(P)};v.userCallback=e,v.context=u.context;const D=T=>{u.cancel&&u.cancel.call(u.context,T),h.reject(T)};switch(n){case"value":Qg(this._delegate,v,D,{onlyOnce:!0});break;case"child_added":JC(this._delegate,v,D,{onlyOnce:!0});break;case"child_removed":uv(this._delegate,v,D,{onlyOnce:!0});break;case"child_changed":Lf(this._delegate,v,D,{onlyOnce:!0});break;case"child_moved":QC(this._delegate,v,D,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(n){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new fr(this.database,Eo(this._delegate,function Yd(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Xg(t)}(n)))}limitToLast(n){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new fr(this.database,Eo(this._delegate,function Bf(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new pv(t)}(n)))}orderByChild(n){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new fr(this.database,Eo(this._delegate,function gv(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Af("orderByChild","path",t,!1),new Yb(t)}(n)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new fr(this.database,Eo(this._delegate,function _v(){return new mv}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new fr(this.database,Eo(this._delegate,function vv(){return new Kb}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new fr(this.database,Eo(this._delegate,function tT(){return new eT}()))}startAt(n=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new fr(this.database,Eo(this._delegate,function Zd(t=null,n){return jg("startAt","key",n,!0),new fv(t,n)}(n,e)))}startAfter(n=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new fr(this.database,Eo(this._delegate,function XC(t,n){return jg("startAfter","key",n,!0),new Zb(t,n)}(n,e)))}endAt(n=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new fr(this.database,Eo(this._delegate,function Wb(t,n){return jg("endAt","key",n,!0),new hv(t,n)}(n,e)))}endBefore(n=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new fr(this.database,Eo(this._delegate,function zb(t,n){return jg("endBefore","key",n,!0),new Pt(t,n)}(n,e)))}equalTo(n,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new fr(this.database,Eo(this._delegate,function qb(t,n){return jg("equalTo","key",n,!0),new nT(t,n)}(n,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof fr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,i){const o={cancel:void 0,context:void 0};if(e&&i)o.cancel=e,(0,F.Wj)(n,"cancel",o.cancel,!0),o.context=i,(0,F.lb)(n,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new Wr(this.database,new ps(this._delegate._repo,this._delegate._path))}}class Wr extends fr{constructor(n,e){super(n,new Mi(e._repo,e._path,new hu,!1)),this.database=n,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new Wr(this.database,dc(this._delegate,n))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new Wr(this.database,n):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new Wr(this.database,this._delegate.root)}set(n,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const i=lv(this._delegate,n);return e&&i.then(()=>e(null),o=>e(o)),i}update(n,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const o={};for(let u=0;u<n.length;++u)o[""+u]=n[u];n=o,Cv("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ls("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const i=iA(this._delegate,n);return e&&i.then(()=>e(null),o=>e(o)),i}setWithPriority(n,e,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const o=function Gb(t,n,e){if(Ls("setWithPriority",t._path),hs("setWithPriority",n,t._path,!1),Ug("setWithPriority",e,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const i=new F.BH;return rv(t._repo,t._path,n,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,n,e);return i&&o.then(()=>i(null),u=>i(u)),o}remove(n){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",n,!0);const e=function YC(t){return Ls("remove",t._path),lv(t,null)}(this._delegate);return n&&e.then(()=>n(null),i=>n(i)),e}transaction(n,e,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(t,n,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const o=function pT(t,n,e){var i;if(t=(0,F.m9)(t),Ls("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const o=null===(i=e?.applyLocally)||void 0===i||i,u=new F.BH,v=Qg(t,()=>{});return function ov(t,n,e,i,o,u){Mf(t,"transaction on "+n);const h={path:n,update:e,onComplete:i,status:null,order:qo(),applyLocally:u,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},v=Vs(t,n,void 0);h.currentInputSnapshot=v;const D=h.update(v.val());if(void 0===D)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{Sf("transaction failed: Data returned ",D,h.path),h.status=0;const T=J_(t.transactionQueueTree_,n),R=ll(T)||[];let P;R.push(h),bu(T,R),"object"==typeof D&&null!==D&&(0,F.r3)(D,".priority")?(P=(0,F.DV)(D,".priority"),(0,F.hu)(Eu(P),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):P=(Pg(t.serverSyncTree_,n)||W.EMPTY_NODE).getPriority().val();const B=Gd(t),ee=Ze(D,P),Se=Tf(ee,v,B);h.currentOutputSnapshotRaw=ee,h.currentOutputSnapshotResolved=Se,h.currentWriteId=Rf(t);const He=V_(t.serverSyncTree_,n,Se,h.currentWriteId,h.applyLocally);fs(t.eventQueue_,n,He),Of(t,t.transactionQueueTree_)}}(t._repo,t._path,n,(D,T,R)=>{let P=null;D?u.reject(D):(P=new cl(R,new ps(t._repo,t._path),wn),u.resolve(new fT(T,P)))},v,o),u.promise}(this._delegate,n,{applyLocally:i}).then(u=>new em(u.committed,new ma(this.database,u.snapshot)));return e&&o.then(u=>e(null,u.committed,u.snapshot),u=>e(u,!1,null)),o}setPriority(n,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const i=function KC(t,n){t=(0,F.m9)(t),Ls("setPriority",t._path),Ug("setPriority",n,!1);const e=new F.BH;return rv(t._repo,vn(t._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&i.then(()=>e(null),o=>e(o)),i}push(n,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const i=function ZC(t,n){t=(0,F.m9)(t),Ls("push",t._path),hs("push",n,t._path,!0);const e=Gg(t._repo),i=WC(e),o=dc(t,i),u=dc(t,i);let h;return h=null!=n?lv(u,n).then(()=>u):Promise.resolve(u),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}(this._delegate,n),o=i.then(h=>new Wr(this.database,h));e&&o.then(()=>e(null),h=>e(h));const u=new Wr(this.database,i);return u.then=o.then.bind(o),u.catch=o.catch.bind(o,void 0),u}onDisconnect(){return Ls("Reference.onDisconnect",this._delegate._path),new iE(new pa(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Kd{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:rA,forceLongPolling:Ev}}useEmulator(n,e,i={}){!function eE(t,n,e,i={}){(t=(0,F.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&cr("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let u;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&cr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new fo(fo.OWNER);else if(i.mockUserToken){const h="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,t.app.options.projectId);u=new fo(h)}!function Qb(t,n,e,i){t.repoInfo_=new Ke(`${n}:${e}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}(o,n,e,u)}(this._delegate,n,e,i)}ref(n){if((0,F.Dv)("database.ref",0,1,arguments.length),n instanceof Wr){const e=Ff(this._delegate,n.toString());return new Wr(this,e)}{const e=Wd(this._delegate,n);return new Wr(this,e)}}refFromURL(n){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=Ff(this._delegate,n);return new Wr(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function lT(t){(t=(0,F.m9)(t))._checkNotDeleted("goOffline"),Wg(t._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function cT(t){(t=(0,F.m9)(t))._checkNotDeleted("goOnline"),function HC(t){t.persistentConnection_&&t.persistentConnection_.resume(tv)}(t._repo)}(this._delegate)}}Kd.ServerValue={TIMESTAMP:function Dv(){return dT}(),increment:t=>function hT(t){return{".sv":{increment:t}}}(t)};var sE=Object.freeze({__proto__:null,initStandalone:function rE({app:t,url:n,version:e,customAuthImpl:i,namespace:o,nodeAdmin:u=!1}){qc(e);const h=new Ur.zt("auth-internal",new Ur.H0("database-standalone"));return h.setComponent(new Ur.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Kd(bv(t,h,void 0,n,u),t),namespace:o}}});const Tv=Kd.ServerValue;!function ul(t){t.INTERNAL.registerComponent(new Ur.wA("database-compat",(n,{instanceIdentifier:e})=>{const i=n.getProvider("app-compat").getImmediate(),o=n.getProvider("database").getImmediate({identifier:e});return new Kd(o,i)},"PUBLIC").setServiceProps({Reference:Wr,Query:fr,Database:Kd,DataSnapshot:ma,enableLogging:tE,INTERNAL:sE,ServerValue:Tv}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","0.3.4")}(Wa.Z);var Hn=O(8645),$i=O(2459),qd=O(3093),_T=O(4552);class oE extends Hn.x{constructor(n=1/0,e=1/0,i=_T.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:i,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:h}=this;e||(i.push(n),!o&&i.push(u.now()+h)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:o}=this,u=o.slice();for(let h=0;h<u.length&&!n.closed;h+=i?1:2)n.next(u[h]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:o}=this,u=(o?1:2)*n;if(n<1/0&&u<i.length&&i.splice(0,i.length-u),!o){const h=e.now();let v=0;for(let D=1;D<i.length&&i[D]<=h;D+=2)v=D;v&&i.splice(0,v+1)}}}function aE(t,n,e){let i,o=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:n=1/0,refCount:o=!1,scheduler:e}=t):i=t??1/0,(0,Ha.B)({connector:()=>new oE(i,n,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const hc=(0,O(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ii(t,n){return(0,en.e)((e,i)=>{let o=0;e.subscribe((0,mn.x)(i,u=>t.call(n,u,o++)&&i.next(u)))})}var ms=O(6232);function pr(t){return t<=0?()=>ms.E:(0,en.e)((n,e)=>{let i=0;n.subscribe((0,mn.x)(e,o=>{++i<=t&&(e.next(o),t<=i&&e.complete())}))})}function nm(t){return(0,en.e)((n,e)=>{let i=!1;n.subscribe((0,mn.x)(e,o=>{i=!0,e.next(o)},()=>{i||e.next(t),e.complete()}))})}function Iv(t=lE){return(0,en.e)((n,e)=>{let i=!1;n.subscribe((0,mn.x)(e,o=>{i=!0,e.next(o)},()=>i?e.complete():e.error(t())))})}function lE(){return new hc}function fc(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Ii((o,u)=>t(o,u,i)):Zo.y,pr(1),e?nm(n):Iv(()=>new hc))}var Us=O(4674);function Sv(t,n){return(0,Us.m)(n)?(0,xn.w)(()=>t,n):(0,xn.w)(()=>t)}var im=O(5137);O(4097);var Qd=O(4303);const Nv=new Map,dE={activated:!1,tokenObservers:[]},wT={initialized:!1,enabled:!1};function li(t){return Nv.get(t)||Object.assign({},dE)}function om(){return wT}const am="https://content-firebaseappcheck.googleapis.com/v1",TT="exchangeDebugToken",IT={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class gE{constructor(n,e,i,o,u){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,lr.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function pA(t){return new Promise(n=>{setTimeout(n,t)})}(e.getNextRun(n)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Qi=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Vf(t){if(!li(t).activated)throw Qi.create("use-before-activation",{appName:t.name})}function pc(t,n){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,lr.Z)(function*({url:t,body:n},e){const i={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){const P=yield o.getHeartbeatsHeader();P&&(i["X-Firebase-Client"]=P)}const u={method:"POST",body:JSON.stringify(n),headers:i};let h,v;try{h=yield fetch(t,u)}catch(P){throw Qi.create("fetch-network-error",{originalErrorMessage:P?.message})}if(200!==h.status)throw Qi.create("fetch-status-error",{httpStatus:h.status});try{v=yield h.json()}catch(P){throw Qi.create("fetch-parse-error",{originalErrorMessage:P?.message})}const D=v.ttl.match(/^([\d.]+)(s)$/);if(!D||!D[2]||isNaN(Number(D[1])))throw Qi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const T=1e3*Number(D[1]),R=Date.now();return{token:v.token,expireTimeMillis:R+T,issuedAtTimeMillis:R}})).apply(this,arguments)}function vs(t,n){const{projectId:e,appId:i,apiKey:o}=t.options;return{url:`${am}/projects/${e}/apps/${i}:${TT}?key=${o}`,body:{debug_token:n}}}const Mv="firebase-app-check-database",Xd=1,_a="firebase-app-check-store";let dl=null;function dm(){return(dm=(0,lr.Z)(function*(t,n){const i=(yield function Tu(){return dl||(dl=new Promise((t,n)=>{try{const e=indexedDB.open(Mv,Xd);e.onsuccess=i=>{t(i.target.result)},e.onerror=i=>{var o;n(Qi.create("storage-open",{originalErrorMessage:null===(o=i.target.error)||void 0===o?void 0:o.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(_a,{keyPath:"compositeKey"})}}catch(e){n(Qi.create("storage-open",{originalErrorMessage:e?.message}))}}),dl)}()).transaction(_a,"readwrite"),u=i.objectStore(_a).put({compositeKey:t,value:n});return new Promise((h,v)=>{u.onsuccess=D=>{h()},i.onerror=D=>{var T;v(Qi.create("storage-set",{originalErrorMessage:null===(T=D.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const rh=new Yo.Yd("@firebase/app-check");function pm(t,n){return(0,F.hl)()?function th(t,n){return function Ov(t,n){return dm.apply(this,arguments)}(function Pv(t){return`${t.options.appId}-${t.name}`}(t),n)}(t,n).catch(e=>{rh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function _E(){return om().enabled}function vE(){return Lv.apply(this,arguments)}function Lv(){return(Lv=(0,lr.Z)(function*(){const t=om();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const gA={error:"UNKNOWN_ERROR"};function AT(t){return F.US.encodeString(JSON.stringify(t),!1)}function Bv(t){return Vv.apply(this,arguments)}function Vv(){return(Vv=(0,lr.Z)(function*(t,n=!1){const e=t.app;Vf(e);const i=li(e);let u,o=i.token;if(o&&!va(o)&&(i.token=void 0,o=void 0),!o){const D=yield i.cachedTokenPromise;D&&(va(D)?o=D:yield pm(e,void 0))}if(!n&&o&&va(o))return{token:o.token};let v,h=!1;if(_E()){i.exchangeTokenPromise||(i.exchangeTokenPromise=pc(vs(e,yield vE()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),h=!0);const D=yield i.exchangeTokenPromise;return yield pm(e,D),i.token=D,{token:D.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),h=!0),o=yield li(e).exchangeTokenPromise}catch(D){"appCheck/throttled"===D.code?rh.warn(D.message):rh.error(D),u=D}return o?u?v=va(o)?{token:o.token,internalError:u}:Hv(u):(v={token:o.token},i.token=o,yield pm(e,o)):v=Hv(u),h&&function jv(t,n){const e=li(t).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=n.error?i.error(n.error):i.next(n)}catch{}}(e,v),v})).apply(this,arguments)}function yE(t){return Uv.apply(this,arguments)}function Uv(){return(Uv=(0,lr.Z)(function*(t){const n=t.app;Vf(n);const{provider:e}=li(n);if(_E()){const i=yield vE(),{token:o}=yield pc(vs(n,i),t.heartbeatServiceProvider);return{token:o}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function Iu(t,n){const e=li(t),i=e.tokenObservers.filter(o=>o.next!==n);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function gm(t){const{app:n}=t,e=li(n);let i=e.tokenRefresher;i||(i=function mm(t){const{app:n}=t;return new gE((0,lr.Z)(function*(){let i;if(i=li(n).token?yield Bv(t,!0):yield Bv(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=li(n);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},IT.RETRIAL_MIN_WAIT,IT.RETRIAL_MAX_WAIT)}(t),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function va(t){return t.expireTimeMillis-Date.now()>0}function Hv(t){return{token:AT(gA),error:t}}class NT{constructor(n,e){this.app=n,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:n}=li(this.app);for(const e of n)Iu(this.app,e.next);return Promise.resolve()}}const bm="app-check-internal";!function IE(){(0,Qd.Xd)(new Ur.wA("app-check",t=>function jf(t,n){return new NT(t,n)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,e)=>{t.getProvider(bm).initialize()})),(0,Qd.Xd)(new Ur.wA(bm,t=>function RT(t){return{getToken:n=>Bv(t,n),getLimitedUseToken:()=>yE(t),addTokenListener:n=>function Uf(t,n,e,i){const{app:o}=t,u=li(o);if(u.tokenObservers=[...u.tokenObservers,{next:e,error:i,type:n}],u.token&&va(u.token)){const v=u.token;Promise.resolve().then(()=>{e({token:v.token}),gm(t)}).catch(()=>{})}u.cachedTokenPromise.then(()=>gm(t))}(t,"INTERNAL",n),removeTokenListener:n=>Iu(t.app,n)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Qd.KN)("@firebase/app-check","0.8.0")}();class qv{constructor(){return(0,Bn.vb)("app-check")}}typeof window<"u"&&window;var ME=O(120);const Xv=new l.OlP("angularfire2.auth.use-emulator"),ey=new l.OlP("angularfire2.auth.settings"),Em=new l.OlP("angularfire2.auth.tenant-id"),Gf=new l.OlP("angularfire2.auth.langugage-code"),ty=new l.OlP("angularfire2.auth.use-device-language"),ny=new l.OlP("angularfire.auth.persistence"),iy=(t,n,e,i,o,u,h,v)=>(0,_i.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const D=n.runOutsideAngular(()=>t.auth());if(e&&D.useEmulator(...e),i&&(D.tenantId=i),D.languageCode=o,u&&D.useDeviceLanguage(),h)for(const[T,R]of Object.entries(h))D.settings[T]=R;return v&&D.setPersistence(v),D},[e,i,o,u,h,v]);let ry=(()=>{class t{constructor(e,i,o,u,h,v,D,T,R,P,B,ee){const Se=new Hn.x,He=(0,vt.of)(void 0).pipe((0,qd.Q)(h.outsideAngular),(0,xn.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,8977)))),(0,Tt.U)(()=>(0,_i.on)(e,u,i)),(0,Tt.U)($e=>iy($e,u,v,T,R,P,D,B)),aE({bufferSize:1,refCount:!1}));if(Is(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,vt.of)(null);else{He.pipe(fc()).subscribe();const ft=He.pipe((0,xn.w)(ut=>ut.getRedirectResult().then(Nt=>Nt,()=>null)),Bn.iC,aE({bufferSize:1,refCount:!1})),pt=He.pipe((0,xn.w)(ut=>new Kn.y(Nt=>({unsubscribe:u.runOutsideAngular(()=>ut.onAuthStateChanged(Jt=>Nt.next(Jt),Jt=>Nt.error(Jt),()=>Nt.complete()))})))),Vt=He.pipe((0,xn.w)(ut=>new Kn.y(Nt=>({unsubscribe:u.runOutsideAngular(()=>ut.onIdTokenChanged(Jt=>Nt.next(Jt),Jt=>Nt.error(Jt),()=>Nt.complete()))}))));this.authState=ft.pipe(Sv(pt),(0,im.R)(h.outsideAngular),(0,qd.Q)(h.insideAngular)),this.user=ft.pipe(Sv(Vt),(0,im.R)(h.outsideAngular),(0,qd.Q)(h.insideAngular)),this.idToken=this.user.pipe((0,xn.w)(ut=>ut?(0,$i.D)(ut.getIdToken()):(0,vt.of)(null))),this.idTokenResult=this.user.pipe((0,xn.w)(ut=>ut?(0,$i.D)(ut.getIdTokenResult()):(0,vt.of)(null))),this.credential=(0,es.T)(ft,Se,this.authState.pipe(Ii(ut=>!ut))).pipe((0,Tt.U)(ut=>ut?.user?ut:null),(0,im.R)(h.outsideAngular),(0,qd.Q)(h.insideAngular))}return(0,_i.pX)(this,He,u,{spy:{apply:($e,ft,pt)=>{($e.startsWith("signIn")||$e.startsWith("createUser"))&&pt.then(Vt=>Se.next(Vt))}}})}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(_i.Dh),l.LFG(_i.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Bn.HU),l.LFG(Xv,8),l.LFG(ey,8),l.LFG(Em,8),l.LFG(Gf,8),l.LFG(ty,8),l.LFG(ny,8),l.LFG(qv,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();function sy(t){return null==t}function Wf(t){return"function"==typeof t.set}function hl(t,n){return Wf(n)?n:t.ref(n)}function PE(t,n){if(function OE(t){return"string"==typeof t}(t))return n.stringCase();if(Wf(t))return n.firebaseCase();if(function xE(t){return"function"==typeof t.exportVal}(t))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function zf(t,n,e="on",i=Hl.z){return new Kn.y(o=>{let u=null;return u=t[e](n,(h,v)=>{i.schedule(()=>{o.next({snapshot:h,prevKey:v})}),"once"===e&&i.schedule(()=>o.complete())},h=>{i.schedule(()=>o.error(h))}),"on"===e?{unsubscribe(){null!=u&&t.off(n,u)}}:{unsubscribe(){}}}).pipe((0,Tt.U)(o=>{const{snapshot:u,prevKey:h}=o;let v=null;return u.exists()&&(v=u.key),{type:n,payload:u,prevKey:h,key:v}}),(0,Ha.B)())}function gc(t,n){const e=t.length;for(let i=0;i<e;i++)if(t[i].payload.key===n)return i;return-1}function ZT(t,n){const{payload:e,prevKey:i,key:o}=n,u=gc(t,o),h=function ay(t,n){if(sy(n))return 0;{const e=gc(t,n);return-1===e?t.length:e+1}}(t,i);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let v=null;n.payload.forEach(D=>{const T={payload:D,type:"value",prevKey:v,key:D.key};return v=D.key,t=[...t,T],!1})}return t;case"child_added":if(u>-1){const v=t[u-1];(v&&v.key||null)!==i&&(t=t.filter(D=>D.payload.key!==e.key)).splice(h,0,n)}else{if(null==i)return[n,...t];(t=t.slice()).splice(h,0,n)}return t;case"child_removed":return t.filter(v=>v.payload.key!==e.key);case"child_changed":return t.map(v=>v.payload.key===o?n:v);case"child_moved":if(u>-1){const v=t.splice(u,1)[0];return(t=t.slice()).splice(h,0,v),t}return t;default:return t}}function Dm(t){return(sy(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function YT(t,n,e){return function oy(t,n,e){return zf(t,"value","once",e).pipe((0,xn.w)(i=>{const o=[(0,vt.of)(i)];return n.forEach(u=>o.push(zf(t,u,"on",e))),(0,es.T)(...o).pipe(ts(ZT,[]))}),(0,xs.x)())}(t,n=Dm(n),e)}function KT(t,n,e){const i=(n=Dm(n)).map(o=>zf(t,o,"on",e));return(0,es.T)(...i)}function FE(t,n){return function(i,o){return PE(i,{stringCase:()=>t.child(i)[n](o),firebaseCase:()=>i[n](o),snapshotCase:()=>i.ref[n](o)})}}function Oi(t){return function(e){return e?PE(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function BE(t,n){return function(){return zf(t,"value","on",n)}}const VE=new l.OlP("angularfire2.realtimeDatabaseURL"),XT=new l.OlP("angularfire2.database.use-emulator");let ly=(()=>{class t{constructor(e,i,o,u,h,v,D,T,R,P,B,ee,Se,He,$e){this.schedulers=v;const ft=D,pt=(0,_i.on)(e,h,i);T&&iy(pt,h,R,B,ee,Se,P,He),this.database=(0,_i.cc)(`${pt.name}.database.${o}`,"AngularFireDatabase",pt.name,()=>{const Vt=h.runOutsideAngular(()=>pt.database(o||void 0));return ft&&Vt.useEmulator(...ft),Vt},[ft])}list(e,i){const o=this.schedulers.ngZone.runOutsideAngular(()=>hl(this.database,e));let u=o;return i&&(u=i(o)),function LE(t,n){const e=n.schedulers.outsideAngular,i=n.schedulers.ngZone.run(()=>t.ref);return{query:t,update:FE(i,"update"),set:FE(i,"set"),push:o=>i.push(o),remove:Oi(i),snapshotChanges:o=>YT(t,o,e).pipe(Bn.iC),stateChanges:o=>KT(t,o,e).pipe(Bn.iC),auditTrail:o=>function qT(t,n,e){return function kE(t,n,e){return function JT(t,n){return zf(t,"value","on",n).pipe((0,Tt.U)(e=>{let i;return e.payload.forEach(o=>(i=o.key,!1)),{data:e,lastKeyToLoad:i}}))}(t,e).pipe(Br(n),(0,Tt.U)(([o,u])=>{const h=o.lastKeyToLoad,v=u.map(D=>D.key);return{actions:u,lastKeyToLoad:h,loadedKeys:v}}),function Vr(t){return(0,en.e)((n,e)=>{let i=!1,o=0;n.subscribe((0,mn.x)(e,u=>(i||(i=!t(u,o++)))&&e.next(u)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,Tt.U)(o=>o.actions))}(t,KT(t,n).pipe(ts((o,u)=>[...o,u],[])),e)}(t,o,e).pipe(Bn.iC),valueChanges:(o,u)=>YT(t,o,e).pipe((0,Tt.U)(v=>v.map(D=>u&&u.idField?Object.assign(Object.assign({},D.payload.val()),{[u.idField]:D.key}):D.payload.val())),Bn.iC)}}(u,this)}object(e){return function QT(t,n){return{query:t,snapshotChanges:()=>BE(t,n.schedulers.outsideAngular)().pipe(Bn.iC),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>BE(t,n.schedulers.outsideAngular)().pipe(Bn.iC,(0,Tt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>hl(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(_i.Dh),l.LFG(_i.xv,8),l.LFG(VE,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Bn.HU),l.LFG(XT,8),l.LFG(ry,8),l.LFG(Xv,8),l.LFG(ey,8),l.LFG(Em,8),l.LFG(Gf,8),l.LFG(ty,8),l.LFG(ny,8),l.LFG(qv,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),UE=(()=>{class t{constructor(){ME.Z.registerVersion("angularfire",Bn.q4.full,"rtdb-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[ly]}),t})();var Do=O(5619);const{isArray:eI}=Array,{getPrototypeOf:jE,prototype:tI,keys:HE}=Object;function nI(t){if(1===t.length){const n=t[0];if(eI(n))return{args:n,keys:null};if(function $E(t){return t&&"object"==typeof t&&jE(t)===tI}(n)){const e=HE(n);return{args:e.map(i=>n[i]),keys:e}}}return{args:t,keys:null}}const{isArray:cy}=Array;function uy(t){return(0,Tt.U)(n=>function ya(t,n){return cy(n)?t(...n):t(n)}(t,n))}function dy(t,n){return t.reduce((e,i,o)=>(e[i]=n[o],e),{})}var ba=O(7103);function ys(...t){const n=(0,Cr.yG)(t),e=(0,Cr.jO)(t),{args:i,keys:o}=nI(t);if(0===i.length)return(0,$i.D)([],n);const u=new Kn.y(function wo(t,n,e=Zo.y){return i=>{hy(n,()=>{const{length:o}=t,u=new Array(o);let h=o,v=o;for(let D=0;D<o;D++)hy(n,()=>{const T=(0,$i.D)(t[D],n);let R=!1;T.subscribe((0,mn.x)(i,P=>{u[D]=P,R||(R=!0,v--),v||i.next(e(u.slice()))},()=>{--h||i.complete()}))},i)},i)}}(i,n,o?h=>dy(o,h):Zo.y));return e?u.pipe(uy(e)):u}function hy(t,n,e){t?(0,ba.f)(e,t,n):n()}var ah=O(7537);function Zf(...t){return function iI(){return(0,ah.J)(1)}()((0,$i.D)(t,(0,Cr.yG)(t)))}function GE(t){return new Kn.y(n=>{(0,Ln.Xf)(t()).subscribe(n)})}var rI=O(8407);function Su(t,n){const e=(0,Us.m)(t)?t:()=>t,i=o=>o.error(e());return new Kn.y(n?o=>n.schedule(i,0,o):i)}var Au=O(7394);function fy(){return(0,en.e)((t,n)=>{let e=null;t._refCount++;const i=(0,mn.x)(n,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const o=t._connection,u=e;e=null,o&&(!u||o===u)&&o.unsubscribe(),n.unsubscribe()});t.subscribe(i),i.closed||(e=t.connect())})}class py extends Kn.y{constructor(n,e){super(),this.source=n,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,en.A)(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Au.w0;const e=this.getSubject();n.add(this.source.subscribe((0,mn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Au.w0.EMPTY)}return n}refCount(){return fy()(this)}}var Xi=O(1631);function lh(t,n){return(0,Us.m)(n)?(0,Xi.z)(t,n,1):(0,Xi.z)(t,1)}var xi=O(9397);function Ea(t){return(0,en.e)((n,e)=>{let u,i=null,o=!1;i=n.subscribe((0,mn.x)(e,void 0,void 0,h=>{u=(0,Ln.Xf)(t(h,Ea(t)(n))),i?(i.unsubscribe(),i=null,u.subscribe(e)):o=!0})),o&&(i.unsubscribe(),i=null,u.subscribe(e))})}function gy(t){return t<=0?()=>ms.E:(0,en.e)((n,e)=>{let i=[];n.subscribe((0,mn.x)(e,o=>{i.push(o),t<i.length&&i.shift()},()=>{for(const o of i)e.next(o);e.complete()},void 0,()=>{i=null}))})}function wm(t){return(0,en.e)((n,e)=>{try{n.subscribe(e)}finally{e.add(t)}})}function vi(t){return(0,en.e)((n,e)=>{(0,Ln.Xf)(t).subscribe((0,mn.x)(e,()=>e.complete(),$a.Z)),!e.closed&&n.subscribe(e)})}const Bt="primary",Nu=Symbol("RouteTitle");class Cm{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ru(t){return new Cm(t)}function ZE(t,n,e){const i=e.path.split("/");if(i.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||i.length<t.length))return null;const o={};for(let u=0;u<i.length;u++){const h=i[u],v=t[u];if(h.startsWith(":"))o[h.substring(1)]=v;else if(h!==v.path)return null}return{consumed:t.slice(0,i.length),posParams:o}}function Co(t,n){const e=t?Object.keys(t):void 0,i=n?Object.keys(n):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let u=0;u<e.length;u++)if(o=e[u],!_y(t[o],n[o]))return!1;return!0}function _y(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),i=[...n].sort();return e.every((o,u)=>i[u]===o)}return t===n}function vy(t){return t.length>0?t[t.length-1]:null}function fl(t){return function oh(t){return!!t&&(t instanceof Kn.y||(0,Us.m)(t.lift)&&(0,Us.m)(t.subscribe))}(t)?t:(0,l.QGY)(t)?(0,$i.D)(Promise.resolve(t)):(0,vt.of)(t)}const KE={exact:function QE(t,n,e){if(!Mu(t.segments,n.segments)||!Tm(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!t.children[i]||!QE(t.children[i],n.children[i],e))return!1;return!0},subset:XE},qE={exact:function sI(t,n){return Co(t,n)},subset:function oI(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>_y(t[e],n[e]))},ignored:()=>!0};function JE(t,n,e){return KE[e.paths](t.root,n.root,e.matrixParams)&&qE[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function XE(t,n,e){return eD(t,n,n.segments,e)}function eD(t,n,e,i){if(t.segments.length>e.length){const o=t.segments.slice(0,e.length);return!(!Mu(o,e)||n.hasChildren()||!Tm(o,e,i))}if(t.segments.length===e.length){if(!Mu(t.segments,e)||!Tm(t.segments,e,i))return!1;for(const o in n.children)if(!t.children[o]||!XE(t.children[o],n.children[o],i))return!1;return!0}{const o=e.slice(0,t.segments.length),u=e.slice(t.segments.length);return!!(Mu(t.segments,o)&&Tm(t.segments,o,i)&&t.children[Bt])&&eD(t.children[Bt],n,u,i)}}function Tm(t,n,e){return n.every((i,o)=>qE[e](t[o].parameters,i.parameters))}class ch{constructor(n=new Cn([],{}),e={},i=null){this.root=n,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ru(this.queryParams)),this._queryParamMap}toString(){return cI.serialize(this)}}class Cn{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Im(this)}}class Yf{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ru(this.parameters)),this._parameterMap}toString(){return Dy(this)}}function Mu(t,n){return t.length===n.length&&t.every((e,i)=>e.path===n[i].path)}let Kf=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:function(){return new yy},providedIn:"root"})}return t})();class yy{parse(n){const e=new rD(n);return new ch(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){const e=`/${uh(n.root,!0)}`,i=function wy(t){const n=Object.keys(t).map(e=>{const i=t[e];return Array.isArray(i)?i.map(o=>`${qf(e)}=${qf(o)}`).join("&"):`${qf(e)}=${qf(i)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${e}${i}${"string"==typeof n.fragment?`#${function tD(t){return encodeURI(t)}(n.fragment)}`:""}`}}const cI=new yy;function Im(t){return t.segments.map(n=>Dy(n)).join("/")}function uh(t,n){if(!t.hasChildren())return Im(t);if(n){const e=t.children[Bt]?uh(t.children[Bt],!1):"",i=[];return Object.entries(t.children).forEach(([o,u])=>{o!==Bt&&i.push(`${o}:${uh(u,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function lI(t,n){let e=[];return Object.entries(t.children).forEach(([i,o])=>{i===Bt&&(e=e.concat(n(o,i)))}),Object.entries(t.children).forEach(([i,o])=>{i!==Bt&&(e=e.concat(n(o,i)))}),e}(t,(i,o)=>o===Bt?[uh(t.children[Bt],!1)]:[`${o}:${uh(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Bt]?`${Im(t)}/${e[0]}`:`${Im(t)}/(${e.join("//")})`}}function by(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qf(t){return by(t).replace(/%3B/gi,";")}function Sm(t){return by(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jf(t){return decodeURIComponent(t)}function Ey(t){return Jf(t.replace(/\+/g,"%20"))}function Dy(t){return`${Sm(t.path)}${function nD(t){return Object.keys(t).map(n=>`;${Sm(n)}=${Sm(t[n])}`).join("")}(t.parameters)}`}const iD=/^[^\/()?;#]+/;function pl(t){const n=t.match(iD);return n?n[0]:""}const uI=/^[^\/()?;=#]+/,dh=/^[^=?&#]+/,Cy=/^[^&#]+/;class rD{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(i[Bt]=new Cn(n,e)),i}parseSegment(){const n=pl(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(n),new Yf(Jf(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=function dI(t){const n=t.match(uI);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=pl(this.remaining);o&&(i=o,this.capture(i))}n[Jf(e)]=Jf(i)}parseQueryParam(n){const e=function bA(t){const n=t.match(dh);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const h=function EA(t){const n=t.match(Cy);return n?n[0]:""}(this.remaining);h&&(i=h,this.capture(i))}const o=Ey(e),u=Ey(i);if(n.hasOwnProperty(o)){let h=n[o];Array.isArray(h)||(h=[h],n[o]=h),h.push(u)}else n[o]=u}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=pl(this.remaining),o=this.remaining[i.length];if("/"!==o&&")"!==o&&";"!==o)throw new l.vHH(4010,!1);let u;i.indexOf(":")>-1?(u=i.slice(0,i.indexOf(":")),this.capture(u),this.capture(":")):n&&(u=Bt);const h=this.parseChildren();e[u]=1===Object.keys(h).length?h[Bt]:new Cn([],h),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new l.vHH(4011,!1)}}function Ty(t){return t.segments.length>0?new Cn([],{[Bt]:t}):t}function hI(t){const n={};for(const i of Object.keys(t.children)){const u=hI(t.children[i]);if(i===Bt&&0===u.segments.length&&u.hasChildren())for(const[h,v]of Object.entries(u.children))n[h]=v;else(u.segments.length>0||u.hasChildren())&&(n[i]=u)}return function hh(t){if(1===t.numberOfChildren&&t.children[Bt]){const n=t.children[Bt];return new Cn(t.segments.concat(n.segments),n.children)}return t}(new Cn(t.segments,n))}function Ou(t){return t instanceof ch}function sD(t){let n;const o=Ty(function e(u){const h={};for(const D of u.children){const T=e(D);h[D.outlet]=T}const v=new Cn(u.url,h);return u===t&&(n=v),v}(t.root));return n??o}function xu(t,n,e,i){let o=t;for(;o.parent;)o=o.parent;if(0===n.length)return fh(o,o,o,e,i);const u=function oD(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new pI(!0,0,t);let n=0,e=!1;const i=t.reduce((o,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const v={};return Object.entries(u.outlets).forEach(([D,T])=>{v[D]="string"==typeof T?T.split("/"):T}),[...o,{outlets:v}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===h?(u.split("/").forEach((v,D)=>{0==D&&"."===v||(0==D&&""===v?e=!0:".."===v?n++:""!=v&&o.push(v))}),o):[...o,u]},[]);return new pI(e,n,i)}(n);if(u.toRoot())return fh(o,o,new Cn([],{}),e,i);const h=function gI(t,n,e){if(t.isAbsolute)return new Qf(n,!0,0);if(!e)return new Qf(n,!1,NaN);if(null===e.parent)return new Qf(e,!0,0);const i=Am(t.commands[0])?0:1;return function aD(t,n,e){let i=t,o=n,u=e;for(;u>o;){if(u-=o,i=i.parent,!i)throw new l.vHH(4005,!1);o=i.segments.length}return new Qf(i,!1,o-u)}(e,e.segments.length-1+i,t.numberOfDoubleDots)}(u,o,t),v=h.processChildren?ph(h.segmentGroup,h.index,u.commands):Iy(h.segmentGroup,h.index,u.commands);return fh(o,h.segmentGroup,v,e,i)}function Am(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function mc(t){return"object"==typeof t&&null!=t&&t.outlets}function fh(t,n,e,i,o){let h,u={};i&&Object.entries(i).forEach(([D,T])=>{u[D]=Array.isArray(T)?T.map(R=>`${R}`):`${T}`}),h=t===n?e:Ar(t,n,e);const v=Ty(hI(h));return new ch(v,u,o)}function Ar(t,n,e){const i={};return Object.entries(t.children).forEach(([o,u])=>{i[o]=u===n?e:Ar(u,n,e)}),new Cn(t.segments,i)}class pI{constructor(n,e,i){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=i,n&&i.length>0&&Am(i[0]))throw new l.vHH(4003,!1);const o=i.find(mc);if(o&&o!==vy(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qf{constructor(n,e,i){this.segmentGroup=n,this.processChildren=e,this.index=i}}function Iy(t,n,e){if(t||(t=new Cn([],{})),0===t.segments.length&&t.hasChildren())return ph(t,n,e);const i=function mI(t,n,e){let i=0,o=n;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(i>=e.length)return u;const h=t.segments[o],v=e[i];if(mc(v))break;const D=`${v}`,T=i<e.length-1?e[i+1]:null;if(o>0&&void 0===D)break;if(D&&T&&"object"==typeof T&&void 0===T.outlets){if(!cD(D,T,h))return u;i+=2}else{if(!cD(D,{},h))return u;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}(t,n,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const u=new Cn(t.segments.slice(0,i.pathIndex),{});return u.children[Bt]=new Cn(t.segments.slice(i.pathIndex),t.children),ph(u,0,o)}return i.match&&0===o.length?new Cn(t.segments,{}):i.match&&!t.hasChildren()?Sy(t,n,e):i.match?ph(t,0,o):Sy(t,n,e)}function ph(t,n,e){if(0===e.length)return new Cn(t.segments,{});{const i=function lD(t){return mc(t[0])?t[0].outlets:{[Bt]:t}}(e),o={};if(Object.keys(i).some(u=>u!==Bt)&&t.children[Bt]&&1===t.numberOfChildren&&0===t.children[Bt].segments.length){const u=ph(t.children[Bt],n,e);return new Cn(t.segments,u.children)}return Object.entries(i).forEach(([u,h])=>{"string"==typeof h&&(h=[h]),null!==h&&(o[u]=Iy(t.children[u],n,h))}),Object.entries(t.children).forEach(([u,h])=>{void 0===i[u]&&(o[u]=h)}),new Cn(t.segments,o)}}function Sy(t,n,e){const i=t.segments.slice(0,n);let o=0;for(;o<e.length;){const u=e[o];if(mc(u)){const D=_I(u.outlets);return new Cn(i,D)}if(0===o&&Am(e[0])){i.push(new Yf(t.segments[n].path,gh(e[0]))),o++;continue}const h=mc(u)?u.outlets[Bt]:`${u}`,v=o<e.length-1?e[o+1]:null;h&&v&&Am(v)?(i.push(new Yf(h,gh(v))),o+=2):(i.push(new Yf(h,{})),o++)}return new Cn(i,{})}function _I(t){const n={};return Object.entries(t).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(n[e]=Sy(new Cn([],{}),0,i))}),n}function gh(t){const n={};return Object.entries(t).forEach(([e,i])=>n[e]=`${i}`),n}function cD(t,n,e){return t==e.path&&Co(n,e.parameters)}const Xf="imperative";class Da{constructor(n,e){this.id=n,this.url=e}}class Pu extends Da{constructor(n,e,i="imperative",o=null){super(n,e),this.type=0,this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gl extends Da{constructor(n,e,i){super(n,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mh extends Da{constructor(n,e,i,o){super(n,e),this.reason=i,this.code=o,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ku extends Da{constructor(n,e,i,o){super(n,e),this.reason=i,this.code=o,this.type=16}}class Nm extends Da{constructor(n,e,i,o){super(n,e),this.error=i,this.target=o,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _h extends Da{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ep extends Da{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vI extends Da{constructor(n,e,i,o,u){super(n,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yI extends Da{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bI extends Da{constructor(n,e,i,o){super(n,e),this.urlAfterRedirects=i,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uD{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dD{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hD{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EI{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fD{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class DI{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pD{constructor(n,e,i){this.routerEvent=n,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gD{}class mD{constructor(n){this.url=n}}class DA{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vh,this.attachRef=null}}let vh=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new DA,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class tp{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=Ay(n,this._root);return e?e.children.map(i=>i.value):[]}firstChild(n){const e=Ay(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=Ny(n,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return Ny(n,this._root).map(e=>e.value)}}function Ay(t,n){if(t===n.value)return n;for(const e of n.children){const i=Ay(t,e);if(i)return i}return null}function Ny(t,n){if(t===n.value)return[n];for(const e of n.children){const i=Ny(t,e);if(i.length)return i.unshift(n),i}return[]}class wa{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ca(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class _D extends tp{constructor(n,e){super(n),this.snapshot=e,Ry(this,n)}toString(){return this.snapshot.toString()}}function vD(t,n){const e=function wI(t,n){const h=new np([],{},{},"",{},Bt,n,null,{});return new yD("",new wa(h,[]))}(0,n),i=new Do.X([new Yf("",{})]),o=new Do.X({}),u=new Do.X({}),h=new Do.X({}),v=new Do.X(""),D=new yh(i,o,h,v,u,Bt,n,e.root);return D.snapshot=e.root,new _D(new wa(D,[]),e)}class yh{constructor(n,e,i,o,u,h,v,D){this.urlSubject=n,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=u,this.outlet=h,this.component=v,this._futureSnapshot=D,this.title=this.dataSubject?.pipe((0,Tt.U)(T=>T[Nu]))??(0,vt.of)(void 0),this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tt.U)(n=>Ru(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tt.U)(n=>Ru(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CI(t,n="emptyOnly"){const e=t.pathFromRoot;let i=0;if("always"!==n)for(i=e.length-1;i>=1;){const o=e[i],u=e[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(u.component)break;i--}}return function TI(t){return t.reduce((n,e)=>({params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class np{get title(){return this.data?.[Nu]}constructor(n,e,i,o,u,h,v,D,T){this.url=n,this.params=e,this.queryParams=i,this.fragment=o,this.data=u,this.outlet=h,this.component=v,this.routeConfig=D,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ru(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ru(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yD extends tp{constructor(n,e){super(e),this.url=n,Ry(this,e)}toString(){return bh(this._root)}}function Ry(t,n){n.value._routerState=t,n.children.forEach(e=>Ry(t,e))}function bh(t){const n=t.children.length>0?` { ${t.children.map(bh).join(", ")} } `:"";return`${t.value}${n}`}function My(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Co(n.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),n.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Co(n.params,e.params)||t.paramsSubject.next(e.params),function YE(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!Co(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.urlSubject.next(e.url),Co(n.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Rm(t,n){const e=Co(t.params,n.params)&&function aI(t,n){return Mu(t,n)&&t.every((e,i)=>Co(e.parameters,n[i].parameters))}(t.url,n.url);return e&&!(!t.parent!=!n.parent)&&(!t.parent||Rm(t.parent,n.parent))}let Oy=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(vh),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(Mm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=e;const o=this.location,h=e.snapshot.component,v=this.parentContexts.getOrCreateContext(this.name).children,D=new bD(e,v,o.injector);this.activated=o.createComponent(h,{index:o.length,injector:D,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275dir=l.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]})}return t})();class bD{constructor(n,e,i){this.route=n,this.childContexts=e,this.parent=i}get(n,e){return n===yh?this.route:n===vh?this.childContexts:this.parent.get(n,e)}}const Mm=new l.OlP("");let xy=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,o=ys([i.queryParams,i.params,i.data]).pipe((0,xn.w)(([u,h,v],D)=>(v={...u,...h,...v},0===D?(0,vt.of)(v):Promise.resolve(v)))).subscribe(u=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const h=(0,l.qFp)(i.component);if(h)for(const{templateName:v}of h.inputs)e.activatedComponentRef.setInput(v,u[v]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();function Fu(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=n.value;const o=function SI(t,n,e){return n.children.map(i=>{for(const o of e.children)if(t.shouldReuseRoute(i.value,o.value.snapshot))return Fu(t,i,o);return Fu(t,i)})}(t,n,e);return new wa(i,o)}{if(t.shouldAttach(n.value)){const u=t.retrieve(n.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=n.value,h.children=n.children.map(v=>Fu(t,v)),h}}const i=function ED(t){return new yh(new Do.X(t.url),new Do.X(t.params),new Do.X(t.queryParams),new Do.X(t.fragment),new Do.X(t.data),t.outlet,t.component,t)}(n.value),o=n.children.map(u=>Fu(t,u));return new wa(i,o)}}const Om="ngNavigationCancelingError";function DD(t,n){const{redirectTo:e,navigationBehaviorOptions:i}=Ou(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=wD(!1,0,n);return o.url=e,o.navigationBehaviorOptions=i,o}function wD(t,n,e){const i=new Error("NavigationCancelingError: "+(t||""));return i[Om]=!0,i.cancellationCode=n,e&&(i.url=e),i}function xm(t){return t&&t[Om]}let CD=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(i,o){1&i&&l._UZ(0,"router-outlet")},dependencies:[Oy],encapsulation:2})}return t})();function Pm(t){const n=t.children&&t.children.map(Pm),e=n?{...t,children:n}:{...t};return!e.component&&!e.loadComponent&&(n||e.loadChildren)&&e.outlet&&e.outlet!==Bt&&(e.component=CD),e}function js(t){return t.outlet||Bt}function ip(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class PI{constructor(n,e,i,o,u){this.routeReuseStrategy=n,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=u}activate(n){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,n),My(this.futureState.root),this.activateChildRoutes(e,i,n)}deactivateChildRoutes(n,e,i){const o=Ca(e);n.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,o[h],i),delete o[h]}),Object.values(o).forEach(u=>{this.deactivateRouteAndItsChildren(u,i)})}deactivateRoutes(n,e,i){const o=n.value,u=e?e.value:null;if(o===u)if(o.component){const h=i.getContext(o.outlet);h&&this.deactivateChildRoutes(n,e,h.children)}else this.deactivateChildRoutes(n,e,i);else u&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(n,e){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,u=Ca(n);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);if(i&&i.outlet){const h=i.outlet.detach(),v=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:h,route:n,contexts:v})}}deactivateRouteAndOutlet(n,e){const i=e.getContext(n.value.outlet),o=i&&n.value.component?i.children:e,u=Ca(n);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,e,i){const o=Ca(e);n.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],i),this.forwardEvent(new DI(u.value.snapshot))}),n.children.length&&this.forwardEvent(new EI(n.value.snapshot))}activateRoutes(n,e,i){const o=n.value,u=e?e.value:null;if(My(o),o===u)if(o.component){const h=i.getOrCreateContext(o.outlet);this.activateChildRoutes(n,e,h.children)}else this.activateChildRoutes(n,e,i);else if(o.component){const h=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const v=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(v.contexts),h.attachRef=v.componentRef,h.route=v.route.value,h.outlet&&h.outlet.attach(v.componentRef,v.route.value),My(v.route.value),this.activateChildRoutes(n,null,h.children)}else{const v=ip(o.snapshot);h.attachRef=null,h.route=o,h.injector=v,h.outlet&&h.outlet.activateWith(o,h.injector),this.activateChildRoutes(n,null,h.children)}}else this.activateChildRoutes(n,null,i)}}class SD{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class km{constructor(n,e){this.component=n,this.route=e}}function Py(t,n,e){const i=t._root;return Bu(i,n?n._root:null,e,[i.value])}function Lu(t,n){const e=Symbol(),i=n.get(t,e);return i===e?"function"!=typeof t||(0,l.Z0I)(t)?n.get(t):t:i}function Bu(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ca(n);return t.children.forEach(h=>{(function kI(t,n,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=t.value,h=n?n.value:null,v=e?e.getContext(t.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const D=function FI(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Mu(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Mu(t.url,n.url)||!Co(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rm(t,n)||!Co(t.queryParams,n.queryParams);default:return!Rm(t,n)}}(h,u,u.routeConfig.runGuardsAndResolvers);D?o.canActivateChecks.push(new SD(i)):(u.data=h.data,u._resolvedData=h._resolvedData),Bu(t,n,u.component?v?v.children:null:e,i,o),D&&v&&v.outlet&&v.outlet.isActivated&&o.canDeactivateChecks.push(new km(v.outlet.component,h))}else h&&Vu(n,v,o),o.canActivateChecks.push(new SD(i)),Bu(t,null,u.component?v?v.children:null:e,i,o)})(h,u[h.value.outlet],e,i.concat([h.value]),o),delete u[h.value.outlet]}),Object.entries(u).forEach(([h,v])=>Vu(v,e.getContext(h),o)),o}function Vu(t,n,e){const i=Ca(t),o=t.value;Object.entries(i).forEach(([u,h])=>{Vu(h,o.component?n?n.children.getContext(u):null:n,e)}),e.canDeactivateChecks.push(new km(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function rp(t){return"function"==typeof t}function Ly(t){return t instanceof hc||"EmptyError"===t?.name}const sp=Symbol("INITIAL_VALUE");function Eh(){return(0,xn.w)(t=>ys(t.map(n=>n.pipe(pr(1),function WE(...t){const n=(0,Cr.yG)(t);return(0,en.e)((e,i)=>{(n?Zf(t,e,n):Zf(t,e)).subscribe(i)})}(sp)))).pipe((0,Tt.U)(n=>{for(const e of n)if(!0!==e){if(e===sp)return sp;if(!1===e||e instanceof ch)return e}return!0}),Ii(n=>n!==sp),pr(1)))}function FD(t){return(0,rI.z)((0,xi.b)(n=>{if(Ou(n))throw DD(0,n)}),(0,Tt.U)(n=>!0===n))}class Vy{constructor(n){this.segmentGroup=n||null}}class Uy{constructor(n){this.urlTree=n}}function Dh(t){return Su(new Vy(t))}function BD(t){return Su(new Uy(t))}class $I{constructor(n,e){this.urlSerializer=n,this.urlTree=e}noMatchError(n){return new l.vHH(4002,!1)}lineralizeSegments(n,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),0===o.numberOfChildren)return(0,vt.of)(i);if(o.numberOfChildren>1||!o.children[Bt])return Su(new l.vHH(4e3,!1));o=o.children[Bt]}}applyRedirectCommands(n,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),n,i)}applyRedirectCreateUrlTree(n,e,i,o){const u=this.createSegmentGroup(n,e.root,i,o);return new ch(u,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const i={};return Object.entries(n).forEach(([o,u])=>{if("string"==typeof u&&u.startsWith(":")){const v=u.substring(1);i[o]=e[v]}else i[o]=u}),i}createSegmentGroup(n,e,i,o){const u=this.createSegments(n,e.segments,i,o);let h={};return Object.entries(e.children).forEach(([v,D])=>{h[v]=this.createSegmentGroup(n,D,i,o)}),new Cn(u,h)}createSegments(n,e,i,o){return e.map(u=>u.path.startsWith(":")?this.findPosParam(n,u,o):this.findOrReturn(u,i))}findPosParam(n,e,i){const o=i[e.path.substring(1)];if(!o)throw new l.vHH(4001,!1);return o}findOrReturn(n,e){let i=0;for(const o of e){if(o.path===n.path)return e.splice(i),o;i++}return n}}const jy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VD(t,n,e,i,o){const u=Fm(t,n,e);return u.matched?(i=function TD(t,n){return t.providers&&!t._injector&&(t._injector=(0,l.MMx)(t.providers,n,`Route: ${t.path}`)),t._injector??n}(n,i),function LD(t,n,e,i){const o=n.canMatch;if(!o||0===o.length)return(0,vt.of)(!0);const u=o.map(h=>{const v=Lu(h,t);return fl(function Fy(t){return t&&rp(t.canMatch)}(v)?v.canMatch(n,e):t.runInContext(()=>v(n,e)))});return(0,vt.of)(u).pipe(Eh(),FD())}(i,n,e).pipe((0,Tt.U)(h=>!0===h?u:{...jy}))):(0,vt.of)(u)}function Fm(t,n,e){if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?{...jy}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(n.matcher||ZE)(e,t,n);if(!o)return{...jy};const u={};Object.entries(o.posParams??{}).forEach(([v,D])=>{u[v]=D.path});const h=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:h,positionalParamSegments:o.posParams??{}}}function Hy(t,n,e,i){return e.length>0&&function zI(t,n,e){return e.some(i=>Lm(t,n,i)&&js(i)!==Bt)}(t,e,i)?{segmentGroup:new Cn(n,WI(i,new Cn(e,t.children))),slicedSegments:[]}:0===e.length&&function ZI(t,n,e){return e.some(i=>Lm(t,n,i))}(t,e,i)?{segmentGroup:new Cn(t.segments,GI(t,0,e,i,t.children)),slicedSegments:e}:{segmentGroup:new Cn(t.segments,t.children),slicedSegments:e}}function GI(t,n,e,i,o){const u={};for(const h of i)if(Lm(t,e,h)&&!o[js(h)]){const v=new Cn([],{});u[js(h)]=v}return{...o,...u}}function WI(t,n){const e={};e[Bt]=n;for(const i of t)if(""===i.path&&js(i)!==Bt){const o=new Cn([],{});e[js(i)]=o}return e}function Lm(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}class jD{constructor(n,e,i,o,u,h,v){this.injector=n,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=u,this.paramsInheritanceStrategy=h,this.urlSerializer=v,this.allowRedirects=!0,this.applyRedirects=new $I(this.urlSerializer,this.urlTree)}noMatchError(n){return new l.vHH(4002,!1)}recognize(){const n=Hy(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,Bt).pipe(Ea(e=>{if(e instanceof Uy)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Vy?this.noMatchError(e):e}),(0,Tt.U)(e=>{const i=new np([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,{}),o=new wa(i,e),u=new yD("",o),h=function fI(t,n,e=null,i=null){return xu(sD(t),n,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return h.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(h),this.inheritParamsAndData(u._root),{state:u,tree:h}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,Bt).pipe(Ea(i=>{throw i instanceof Vy?this.noMatchError(i):i}))}inheritParamsAndData(n){const e=n.value,i=CI(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),n.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(n,e,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(n,e,i):this.processSegment(n,e,i,i.segments,o,!0)}processChildren(n,e,i){const o=[];for(const u of Object.keys(i.children))"primary"===u?o.unshift(u):o.push(u);return(0,$i.D)(o).pipe(lh(u=>{const h=i.children[u],v=function ID(t,n){const e=t.filter(i=>js(i)===n);return e.push(...t.filter(i=>js(i)!==n)),e}(e,u);return this.processSegmentGroup(n,v,h,u)}),ts((u,h)=>(u.push(...h),u)),nm(null),function zE(t,n){const e=arguments.length>=2;return i=>i.pipe(t?Ii((o,u)=>t(o,u,i)):Zo.y,gy(1),e?nm(n):Iv(()=>new hc))}(),(0,Xi.z)(u=>{if(null===u)return Dh(i);const h=$y(u);return function HD(t){t.sort((n,e)=>n.value.outlet===Bt?-1:e.value.outlet===Bt?1:n.value.outlet.localeCompare(e.value.outlet))}(h),(0,vt.of)(h)}))}processSegment(n,e,i,o,u,h){return(0,$i.D)(e).pipe(lh(v=>this.processSegmentAgainstRoute(v._injector??n,e,v,i,o,u,h).pipe(Ea(D=>{if(D instanceof Vy)return(0,vt.of)(null);throw D}))),fc(v=>!!v),Ea(v=>{if(Ly(v))return function op(t,n,e){return 0===n.length&&!t.children[e]}(i,o,u)?(0,vt.of)([]):Dh(i);throw v}))}processSegmentAgainstRoute(n,e,i,o,u,h,v){return function YI(t,n,e,i){return!!(js(t)===i||i!==Bt&&Lm(n,e,t))&&("**"===t.path||Fm(n,t,e).matched)}(i,o,u,h)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,o,i,u,h,v):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,o,e,i,u,h):Dh(o):Dh(o)}expandSegmentAgainstRouteUsingRedirect(n,e,i,o,u,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,i,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,o,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,i,o){const u=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?BD(u):this.applyRedirects.lineralizeSegments(i,u).pipe((0,Xi.z)(h=>{const v=new Cn(h,{});return this.processSegment(n,e,v,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,i,o,u,h){const{matched:v,consumedSegments:D,remainingSegments:T,positionalParamSegments:R}=Fm(e,o,u);if(!v)return Dh(e);const P=this.applyRedirects.applyRedirectCommands(D,o.redirectTo,R);return o.redirectTo.startsWith("/")?BD(P):this.applyRedirects.lineralizeSegments(o,P).pipe((0,Xi.z)(B=>this.processSegment(n,i,e,B.concat(T),h,!1)))}matchSegmentAgainstRoute(n,e,i,o,u,h){let v;if("**"===i.path){const D=o.length>0?vy(o).parameters:{},T=new np(o,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GD(i),js(i),i.component??i._loadedComponent??null,i,qI(i));v=(0,vt.of)({snapshot:T,consumedSegments:[],remainingSegments:[]}),e.children={}}else v=VD(e,i,o,n).pipe((0,Tt.U)(({matched:D,consumedSegments:T,remainingSegments:R,parameters:P})=>D?{snapshot:new np(T,P,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GD(i),js(i),i.component??i._loadedComponent??null,i,qI(i)),consumedSegments:T,remainingSegments:R}:null));return v.pipe((0,xn.w)(D=>null===D?Dh(e):this.getChildConfig(n=i._injector??n,i,o).pipe((0,xn.w)(({routes:T})=>{const R=i._loadedInjector??n,{snapshot:P,consumedSegments:B,remainingSegments:ee}=D,{segmentGroup:Se,slicedSegments:He}=Hy(e,B,ee,T);if(0===He.length&&Se.hasChildren())return this.processChildren(R,T,Se).pipe((0,Tt.U)(ft=>null===ft?null:[new wa(P,ft)]));if(0===T.length&&0===He.length)return(0,vt.of)([new wa(P,[])]);const $e=js(i)===u;return this.processSegment(R,T,Se,He,$e?Bt:u,!0).pipe((0,Tt.U)(ft=>[new wa(P,ft)]))}))))}getChildConfig(n,e,i){return e.children?(0,vt.of)({routes:e.children,injector:n}):e.loadChildren?void 0!==e._loadedRoutes?(0,vt.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function jI(t,n,e,i){const o=n.canLoad;if(void 0===o||0===o.length)return(0,vt.of)(!0);const u=o.map(h=>{const v=Lu(h,t);return fl(function Uu(t){return t&&rp(t.canLoad)}(v)?v.canLoad(n,e):t.runInContext(()=>v(n,e)))});return(0,vt.of)(u).pipe(Eh(),FD())}(n,e,i).pipe((0,Xi.z)(o=>o?this.configLoader.loadChildren(n,e).pipe((0,xi.b)(u=>{e._loadedRoutes=u.routes,e._loadedInjector=u.injector})):function HI(t){return Su(wD(!1,3))}())):(0,vt.of)({routes:[],injector:n})}}function $D(t){const n=t.value.routeConfig;return n&&""===n.path}function $y(t){const n=[],e=new Set;for(const i of t){if(!$D(i)){n.push(i);continue}const o=n.find(u=>i.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...i.children),e.add(o)):n.push(i)}for(const i of e){const o=$y(i.children);n.push(new wa(i.value,o))}return n.filter(i=>!e.has(i))}function GD(t){return t.data||{}}function qI(t){return t.resolve||{}}function WD(t,n){return(0,Xi.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return(0,vt.of)(e);let u=0;return(0,$i.D)(o).pipe(lh(h=>function zD(t,n,e,i){const o=t.routeConfig,u=t._resolve;return void 0!==o?.title&&!wh(o)&&(u[Nu]=o.title),function JI(t,n,e,i){const o=function QI(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===o.length)return(0,vt.of)({});const u={};return(0,$i.D)(o).pipe((0,Xi.z)(h=>function XI(t,n,e,i){const o=ip(n)??i,u=Lu(t,o);return fl(u.resolve?u.resolve(n,e):o.runInContext(()=>u(n,e)))}(t[h],n,e,i).pipe(fc(),(0,xi.b)(v=>{u[h]=v}))),gy(1),function my(t){return(0,Tt.U)(()=>t)}(u),Ea(h=>Ly(h)?ms.E:Su(h)))}(u,t,n,i).pipe((0,Tt.U)(h=>(t._resolvedData=h,t.data=CI(t,e).resolve,o&&wh(o)&&(t.data[Nu]=o.title),null)))}(h.route,i,t,n)),(0,xi.b)(()=>u++),gy(1),(0,Xi.z)(h=>u===o.length?(0,vt.of)(e):ms.E))})}function wh(t){return"string"==typeof t.title||null===t.title}function Gy(t){return(0,xn.w)(n=>{const e=t(n);return e?(0,$i.D)(e).pipe((0,Tt.U)(()=>n)):(0,vt.of)(n)})}const _c=new l.OlP("ROUTES");let Wy=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,vt.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=fl(e.loadComponent()).pipe((0,Tt.U)(t1),(0,xi.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=u}),wm(()=>{this.componentLoaders.delete(e)})),o=new py(i,()=>new Hn.x).pipe(fy());return this.componentLoaders.set(e,o),o}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,vt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const u=function MA(t,n,e,i){return fl(t.loadChildren()).pipe((0,Tt.U)(t1),(0,Xi.z)(o=>o instanceof l.YKP||Array.isArray(o)?(0,vt.of)(o):(0,$i.D)(n.compileModuleAsync(o))),(0,Tt.U)(o=>{i&&i(t);let u,h,v=!1;return Array.isArray(o)?(h=o,!0):(u=o.create(e).injector,h=u.get(_c,[],{optional:!0,self:!0}).flat()),{routes:h.map(Pm),injector:u}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(wm(()=>{this.childrenLoaders.delete(i)})),h=new py(u,()=>new Hn.x).pipe(fy());return this.childrenLoaders.set(i,h),h}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function t1(t){return function e1(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let vc=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Hn.x,this.transitionAbortSubject=new Hn.x,this.configLoader=(0,l.f3M)(Wy),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(Kf),this.rootContexts=(0,l.f3M)(vh),this.inputBindingEnabled=null!==(0,l.f3M)(Mm,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,vt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new dD(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new uD(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,o){return this.transitions=new Do.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xf,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ii(u=>0!==u.id),(0,Tt.U)(u=>({...u,extractedUrl:e.urlHandlingStrategy.extract(u.rawUrl)})),(0,xn.w)(u=>{this.currentTransition=u;let h=!1,v=!1;return(0,vt.of)(u).pipe((0,xi.b)(D=>{this.currentNavigation={id:D.id,initialUrl:D.rawUrl,extractedUrl:D.extractedUrl,trigger:D.source,extras:D.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,xn.w)(D=>{const T=D.currentBrowserUrl.toString(),R=!e.navigated||D.extractedUrl.toString()!==T||T!==D.currentUrlTree.toString();if(!R&&"reload"!==(D.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const B="";return this.events.next(new ku(D.id,this.urlSerializer.serialize(D.rawUrl),B,0)),D.resolve(null),ms.E}if(e.urlHandlingStrategy.shouldProcessUrl(D.rawUrl))return(0,vt.of)(D).pipe((0,xn.w)(B=>{const ee=this.transitions?.getValue();return this.events.next(new Pu(B.id,this.urlSerializer.serialize(B.extractedUrl),B.source,B.restoredState)),ee!==this.transitions?.getValue()?ms.E:Promise.resolve(B)}),function RA(t,n,e,i,o,u){return(0,Xi.z)(h=>function UD(t,n,e,i,o,u,h="emptyOnly"){return new jD(t,n,e,i,o,h,u).recognize()}(t,n,e,i,h.extractedUrl,o,u).pipe((0,Tt.U)(({state:v,tree:D})=>({...h,targetSnapshot:v,urlAfterRedirects:D}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,xi.b)(B=>{u.targetSnapshot=B.targetSnapshot,u.urlAfterRedirects=B.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:B.urlAfterRedirects};const ee=new _h(B.id,this.urlSerializer.serialize(B.extractedUrl),this.urlSerializer.serialize(B.urlAfterRedirects),B.targetSnapshot);this.events.next(ee)}));if(R&&e.urlHandlingStrategy.shouldProcessUrl(D.currentRawUrl)){const{id:B,extractedUrl:ee,source:Se,restoredState:He,extras:$e}=D,ft=new Pu(B,this.urlSerializer.serialize(ee),Se,He);this.events.next(ft);const pt=vD(0,this.rootComponentType).snapshot;return this.currentTransition=u={...D,targetSnapshot:pt,urlAfterRedirects:ee,extras:{...$e,skipLocationChange:!1,replaceUrl:!1}},(0,vt.of)(u)}{const B="";return this.events.next(new ku(D.id,this.urlSerializer.serialize(D.extractedUrl),B,1)),D.resolve(null),ms.E}}),(0,xi.b)(D=>{const T=new ep(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(T)}),(0,Tt.U)(D=>(this.currentTransition=u={...D,guards:Py(D.targetSnapshot,D.currentSnapshot,this.rootContexts)},u)),function MD(t,n){return(0,Xi.z)(e=>{const{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:h}}=e;return 0===h.length&&0===u.length?(0,vt.of)({...e,guardsResult:!0}):function By(t,n,e,i){return(0,$i.D)(t).pipe((0,Xi.z)(o=>function UI(t,n,e,i,o){const u=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,vt.of)(!0);const h=u.map(v=>{const D=ip(n)??o,T=Lu(v,D);return fl(function AA(t){return t&&rp(t.canDeactivate)}(T)?T.canDeactivate(t,n,e,i):D.runInContext(()=>T(t,n,e,i))).pipe(fc())});return(0,vt.of)(h).pipe(Eh())}(o.component,o.route,e,n,i)),fc(o=>!0!==o,!0))}(h,i,o,t).pipe((0,Xi.z)(v=>v&&function AD(t){return"boolean"==typeof t}(v)?function OD(t,n,e,i){return(0,$i.D)(n).pipe(lh(o=>Zf(function PD(t,n){return null!==t&&n&&n(new hD(t)),(0,vt.of)(!0)}(o.route.parent,i),function xD(t,n){return null!==t&&n&&n(new fD(t)),(0,vt.of)(!0)}(o.route,i),function VI(t,n,e){const i=n[n.length-1],u=n.slice(0,n.length-1).reverse().map(h=>function ky(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(h)).filter(h=>null!==h).map(h=>GE(()=>{const v=h.guards.map(D=>{const T=ip(h.node)??e,R=Lu(D,T);return fl(function LI(t){return t&&rp(t.canActivateChild)}(R)?R.canActivateChild(i,t):T.runInContext(()=>R(i,t))).pipe(fc())});return(0,vt.of)(v).pipe(Eh())}));return(0,vt.of)(u).pipe(Eh())}(t,o.path,e),function kD(t,n,e){const i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||0===i.length)return(0,vt.of)(!0);const o=i.map(u=>GE(()=>{const h=ip(n)??e,v=Lu(u,h);return fl(function ND(t){return t&&rp(t.canActivate)}(v)?v.canActivate(n,t):h.runInContext(()=>v(n,t))).pipe(fc())}));return(0,vt.of)(o).pipe(Eh())}(t,o.route,e))),fc(o=>!0!==o,!0))}(i,u,t,n):(0,vt.of)(v)),(0,Tt.U)(v=>({...e,guardsResult:v})))})}(this.environmentInjector,D=>this.events.next(D)),(0,xi.b)(D=>{if(u.guardsResult=D.guardsResult,Ou(D.guardsResult))throw DD(0,D.guardsResult);const T=new vI(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot,!!D.guardsResult);this.events.next(T)}),Ii(D=>!!D.guardsResult||(this.cancelNavigationTransition(D,"",3),!1)),Gy(D=>{if(D.guards.canActivateChecks.length)return(0,vt.of)(D).pipe((0,xi.b)(T=>{const R=new yI(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(R)}),(0,xn.w)(T=>{let R=!1;return(0,vt.of)(T).pipe(WD(e.paramsInheritanceStrategy,this.environmentInjector),(0,xi.b)({next:()=>R=!0,complete:()=>{R||this.cancelNavigationTransition(T,"",2)}}))}),(0,xi.b)(T=>{const R=new bI(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(R)}))}),Gy(D=>{const T=R=>{const P=[];R.routeConfig?.loadComponent&&!R.routeConfig._loadedComponent&&P.push(this.configLoader.loadComponent(R.routeConfig).pipe((0,xi.b)(B=>{R.component=B}),(0,Tt.U)(()=>{})));for(const B of R.children)P.push(...T(B));return P};return ys(T(D.targetSnapshot.root)).pipe(nm(),pr(1))}),Gy(()=>this.afterPreactivation()),(0,Tt.U)(D=>{const T=function II(t,n,e){const i=Fu(t,n._root,e?e._root:void 0);return new _D(i,n)}(e.routeReuseStrategy,D.targetSnapshot,D.currentRouterState);return this.currentTransition=u={...D,targetRouterState:T},u}),(0,xi.b)(()=>{this.events.next(new gD)}),((t,n,e,i)=>(0,Tt.U)(o=>(new PI(n,o.targetRouterState,o.currentRouterState,e,i).activate(t),o)))(this.rootContexts,e.routeReuseStrategy,D=>this.events.next(D),this.inputBindingEnabled),pr(1),(0,xi.b)({next:D=>{h=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new gl(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects))),e.titleStrategy?.updateTitle(D.targetRouterState.snapshot),D.resolve(!0)},complete:()=>{h=!0}}),vi(this.transitionAbortSubject.pipe((0,xi.b)(D=>{throw D}))),wm(()=>{h||v||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),Ea(D=>{if(v=!0,xm(D))this.events.next(new mh(u.id,this.urlSerializer.serialize(u.extractedUrl),D.message,D.cancellationCode)),function AI(t){return xm(t)&&Ou(t.url)}(D)?this.events.next(new mD(D.url)):u.resolve(!1);else{this.events.next(new Nm(u.id,this.urlSerializer.serialize(u.extractedUrl),D,u.targetSnapshot??void 0));try{u.resolve(e.errorHandler(D))}catch(T){u.reject(T)}}return ms.E}))}))}cancelNavigationTransition(e,i,o){const u=new mh(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(u),e.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ZD(t){return t!==Xf}let YD=(()=>{class t{buildTitle(e){let i,o=e.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(u=>u.outlet===Bt);return i}getResolvedTitleForRoute(e){return e.data[Nu]}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(n1)},providedIn:"root"})}return t})(),n1=(()=>{class t extends YD{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(Me))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Bm=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(i1)},providedIn:"root"})}return t})();class KD{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}let i1=(()=>{class t extends KD{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=l.n5z(t)))(o||t)}}();static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const ap=new l.OlP("",{providedIn:"root",factory:()=>({})});let Vm=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:function(){return(0,l.f3M)(r1)},providedIn:"root"})}return t})(),r1=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var lp=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(lp||{});function zy(t,n){t.events.pipe(Ii(e=>e instanceof gl||e instanceof mh||e instanceof Nm||e instanceof ku),(0,Tt.U)(e=>e instanceof gl||e instanceof ku?lp.COMPLETE:e instanceof mh&&(0===e.code||1===e.code)?lp.REDIRECTING:lp.FAILED),Ii(e=>e!==lp.REDIRECTING),pr(1)).subscribe(()=>{n()})}function s1(t){throw t}function o1(t,n,e){return n.parse("/")}const qD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Um={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hs=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this._events=new Hn.x,this.options=(0,l.f3M)(ap,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.errorHandler=this.options.errorHandler||s1,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||o1,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Vm),this.routeReuseStrategy=(0,l.f3M)(Bm),this.titleStrategy=(0,l.f3M)(YD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.f3M)(_c,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.f3M)(vc),this.urlSerializer=(0,l.f3M)(Kf),this.location=(0,l.f3M)(Ye),this.componentInputBindingEnabled=!!(0,l.f3M)(Mm,{optional:!0}),this.eventsSubscription=new Au.w0,this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ch,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=vD(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(Zy(i)&&this._events.next(i));if(i instanceof Pu)ZD(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof ku)this.rawUrlTree=o.rawUrl;else if(i instanceof _h){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(u,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof gD)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof mh)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof mD){const u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),h={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ZD(o.source)};this.scheduleNavigation(u,Xf,null,h,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof Nm&&this.restoreHistory(o,!0),i instanceof gl&&(this.navigated=!0),Zy(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Xf,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,o){const u={replaceUrl:!0},h=o?.navigationId?o:null;if(o){const D={...o};delete D.navigationId,delete D.\u0275routerPageId,0!==Object.keys(D).length&&(u.state=D)}const v=this.parseUrl(e);this.scheduleNavigation(v,i,h,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Pm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:o,queryParams:u,fragment:h,queryParamsHandling:v,preserveFragment:D}=i,T=D?this.currentUrlTree.fragment:h;let P,R=null;switch(v){case"merge":R={...this.currentUrlTree.queryParams,...u};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=u||null}null!==R&&(R=this.removeEmptyProps(R));try{P=sD(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),P=this.currentUrlTree.root}return xu(P,e,R,T??null)}navigateByUrl(e,i={skipLocationChange:!1}){const o=Ou(e)?e:this.parseUrl(e),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,Xf,null,i)}navigate(e,i={skipLocationChange:!1}){return function a1(t){for(let n=0;n<t.length;n++)if(null==t[n])throw new l.vHH(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return i}isActive(e,i){let o;if(o=!0===i?{...qD}:!1===i?{...Um}:i,Ou(e))return JE(this.currentUrlTree,e,o);const u=this.parseUrl(e);return JE(this.currentUrlTree,u,o)}removeEmptyProps(e){return Object.keys(e).reduce((i,o)=>{const u=e[o];return null!=u&&(i[o]=u),i},{})}scheduleNavigation(e,i,o,u,h){if(this.disposed)return Promise.resolve(!1);let v,D,T;h?(v=h.resolve,D=h.reject,T=h.promise):T=new Promise((P,B)=>{v=P,D=B});const R=this.pendingTasks.add();return zy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(R))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:u,resolve:v,reject:D,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(P=>Promise.reject(P))}setBrowserUrl(e,i){const o=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const h={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",h)}else{const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",u)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Zy(t){return!(t instanceof gD||t instanceof mD)}let cp=(()=>{class t{constructor(e,i,o,u,h,v){this.router=e,this.route=i,this.tabIndexAttribute=o,this.renderer=u,this.el=h,this.locationStrategy=v,this.href=null,this.commands=null,this.onChanges=new Hn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const D=h.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===D||"area"===D,this.isAnchorElement?this.subscription=e.events.subscribe(T=>{T instanceof gl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,o,u,h){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||o||u||h||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const o=this.renderer,u=this.el.nativeElement;null!==i?o.setAttribute(u,e,i):o.removeAttribute(u,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(Hs),l.Y36(yh),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Le))};static#t=this.\u0275dir=l.lG2({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){1&i&&l.NdJ("click",function(h){return o.onClick(h.button,h.ctrlKey,h.shiftKey,h.altKey,h.metaKey)}),2&i&&l.uIk("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]})}return t})();class QD{}let u1=(()=>{class t{constructor(e,i,o,u,h){this.router=e,this.injector=o,this.preloadingStrategy=u,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(Ii(e=>e instanceof gl),lh(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const o=[];for(const u of i){u.providers&&!u._injector&&(u._injector=(0,l.MMx)(u.providers,e,`Route: ${u.path}`));const h=u._injector??e,v=u._loadedInjector??h;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(h,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(v,u.children??u._loadedRoutes))}return(0,$i.D)(o).pipe((0,ah.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,vt.of)(null);const u=o.pipe((0,Xi.z)(h=>null===h?(0,vt.of)(void 0):(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,this.processRoutes(h.injector??e,h.routes))));if(i.loadComponent&&!i._loadedComponent){const h=this.loader.loadComponent(i);return(0,$i.D)([u,h]).pipe((0,ah.J)())}return u})}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(Hs),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(QD),l.LFG(Wy))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ky=new l.OlP("");let jm=(()=>{class t{constructor(e,i,o,u,h={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=o,this.zone=u,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Pu?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof gl?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof ku&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof pD&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pD(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){l.$Z()};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac})}return t})();function To(t,n){return{\u0275kind:t,\u0275providers:n}}function ew(){const t=(0,l.f3M)(l.zs3);return n=>{const e=t.get(l.z2F);if(n!==e.components[0])return;const i=t.get(Hs),o=t.get(Qy);1===t.get(up)&&i.initialNavigation(),t.get(Xy,null,l.XFs.Optional)?.setUpPreloading(),t.get(Ky,null,l.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const Qy=new l.OlP("",{factory:()=>new Hn.x}),up=new l.OlP("",{providedIn:"root",factory:()=>1}),Xy=new l.OlP("");function h1(t){return To(0,[{provide:Xy,useExisting:u1},{provide:QD,useExisting:t}])}const gr=new l.OlP("ROUTER_FORROOT_GUARD"),Ch=[Ye,{provide:Kf,useClass:yy},Hs,vh,{provide:yh,useFactory:function qy(t){return t.routerState.root},deps:[Hs]},Wy,[]];function m1(){return new l.PXZ("Router",Hs)}let rw=(()=>{class t{constructor(e){}static forRoot(e,i){return{ngModule:t,providers:[Ch,[],{provide:_c,multi:!0,useValue:e},{provide:gr,useFactory:e0,deps:[[Hs,new l.FiY,new l.tp0]]},{provide:ap,useValue:i||{}},i?.useHash?{provide:Le,useClass:Pe}:{provide:Le,useClass:We},{provide:Ky,useFactory:()=>{const t=(0,l.f3M)(ti),n=(0,l.f3M)(l.R0b),e=(0,l.f3M)(ap),i=(0,l.f3M)(vc),o=(0,l.f3M)(Kf);return e.scrollOffset&&t.setOffset(e.scrollOffset),new jm(o,i,t,n,e)}},i?.preloadingStrategy?h1(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:m1},i?.initialNavigation?BA(i):[],i?.bindToComponentInputs?To(8,[xy,{provide:Mm,useExisting:xy}]).\u0275providers:[],[{provide:_1,useFactory:ew},{provide:l.tb,multi:!0,useExisting:_1}]]}}static forChild(e){return{ngModule:t,providers:[{provide:_c,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(gr,8))};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})();function e0(t){return"guarded"}function BA(t){return["disabled"===t.initialNavigation?To(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const n=(0,l.f3M)(Hs);return()=>{n.setUpLocationChangeListener()}}},{provide:up,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?To(2,[{provide:up,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:n=>{const e=n.get(Re,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const o=n.get(Hs),u=n.get(Qy);zy(o,()=>{i(!0)}),n.get(vc).afterPreactivation=()=>(i(!0),u.closed?(0,vt.of)(void 0):u),o.initialNavigation()}))}}]).\u0275providers:[]]}const _1=new l.OlP("");let t0=(()=>{class t{constructor(e){this.database=e,this.refNovenyek=this.database.list("/novenyek")}getNovenyek(){return this.refNovenyek}updateNoveny(e,i){return this.refNovenyek.update(e,i)}deleteNoveny(e){return this.refNovenyek.remove(e)}newNoveny(e){return this.refNovenyek.push(e)}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(ly))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aw=(()=>{class t{constructor(){this.oszlopokNoveny=["megnevezes","kepUrl","ar"]}getNovenyOszlopok(){return this.oszlopokNoveny}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$m=(()=>{class t{constructor(){this.tetelek=[]}getTetelek(){return this.tetelek}addTetel(e,i){let o={};o.novenyKey=e,o.db=i;let u=this.tetelek.findIndex(h=>h.novenyKey==e);console.log("index:",u),-1==u?this.tetelek.push(o):this.tetelek[u].db=i,console.log(this.tetelek)}deleteTetel(e){this.tetelek=this.tetelek.filter(i=>i!=e)}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),cw=(()=>{class t{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(l.Qsj),l.Y36(l.SBq))};static#t=this.\u0275dir=l.lG2({type:t})}return t})(),Ta=(()=>{class t extends cw{static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=l.n5z(t)))(o||t)}}();static#t=this.\u0275dir=l.lG2({type:t,features:[l.qOj]})}return t})();const zr=new l.OlP("NgValueAccessor"),y1={provide:zr,useExisting:(0,l.Gpc)(()=>dp),multi:!0},Th=new l.OlP("CompositionEventMode");let dp=(()=>{class t extends cw{constructor(e,i,o){super(e,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function uw(){const t=x()?x().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Th,8))};static#t=this.\u0275dir=l.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&l.NdJ("input",function(h){return o._handleInput(h.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(h){return o._compositionEnd(h.target.value)})},features:[l._Bn([y1]),l.qOj]})}return t})();const mr=new l.OlP("NgValidators"),yc=new l.OlP("NgAsyncValidators");function l0(t){return null!=t}function gw(t){return(0,l.QGY)(t)?(0,$i.D)(t):t}function c0(t){let n={};return t.forEach(e=>{n=null!=e?{...n,...e}:n}),0===Object.keys(n).length?null:n}function u0(t,n){return n.map(e=>e(t))}function d0(t){return t.map(n=>function mw(t){return!t.validate}(n)?n:e=>n.validate(e))}function h0(t){return null!=t?function _w(t){if(!t)return null;const n=t.filter(l0);return 0==n.length?null:function(e){return c0(u0(e,n))}}(d0(t)):null}function zm(t){return null!=t?function b1(t){if(!t)return null;const n=t.filter(l0);return 0==n.length?null:function(e){return function lw(...t){const n=(0,Cr.jO)(t),{args:e,keys:i}=nI(t),o=new Kn.y(u=>{const{length:h}=e;if(!h)return void u.complete();const v=new Array(h);let D=h,T=h;for(let R=0;R<h;R++){let P=!1;(0,Ln.Xf)(e[R]).subscribe((0,mn.x)(u,B=>{P||(P=!0,T--),v[R]=B},()=>D--,void 0,()=>{(!D||!P)&&(T||u.next(i?dy(i,v):v),u.complete())}))}});return n?o.pipe(uy(n)):o}(u0(e,n).map(gw)).pipe((0,Tt.U)(c0))}}(d0(t)):null}function E1(t,n){return null===t?[n]:Array.isArray(t)?[...t,n]:[t,n]}function vw(t){return t?Array.isArray(t)?t:[t]:[]}function f0(t,n){return Array.isArray(t)?t.includes(n):t===n}function C1(t,n){const e=vw(n);return vw(t).forEach(o=>{f0(e,o)||e.push(o)}),e}function T1(t,n){return vw(n).filter(e=>!f0(t,e))}class I1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=h0(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=zm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return!!this.control&&this.control.hasError(n,e)}getError(n,e){return this.control?this.control.getError(n,e):null}}class Zr extends I1{get formDirective(){return null}get path(){return null}}class _l extends I1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zm{constructor(n){this._cd=n}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ih=(()=>{class t extends Zm{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(_l,2))};static#t=this.\u0275dir=l.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&l.ekj("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[l.qOj]})}return t})();const ju="VALID",qm="INVALID",Sh="PENDING",hp="DISABLED";function Jm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Qm{constructor(n,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===ju}get invalid(){return this.status===qm}get pending(){return this.status==Sh}get disabled(){return this.status===hp}get enabled(){return this.status!==hp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(C1(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(C1(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(T1(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(T1(n,this._rawAsyncValidators))}hasValidator(n){return f0(this._rawValidators,n)}hasAsyncValidator(n){return f0(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=Sh,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=hp,this.errors=null,this._forEachChild(i=>{i.disable({...n,onlySelf:!0})}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){const e=this._parentMarkedDirty(n.onlySelf);this.status=ju,this._forEachChild(i=>{i.enable({...n,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors({...n,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ju||this.status===Sh)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hp:ju}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=Sh,this._hasOwnPendingAsyncValidator=!0;const e=gw(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(!1!==e.emitEvent)}get(n){let e=n;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,o)=>i&&i._find(o),this)}getError(n,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?hp:this.errors?qm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sh)?Sh:this._anyControlsHaveStatus(qm)?qm:ju}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Jm(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=function O1(t){return Array.isArray(t)?h0(t):t||null}(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=function x1(t){return Array.isArray(t)?zm(t):t||null}(this._rawAsyncValidators)}}const Pi=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>fp}),fp="always";function gp(t,n,e=fp){(function Ia(t,n){const e=function D1(t){return t._rawValidators}(t);null!==n.validator?t.setValidators(E1(e,n.validator)):"function"==typeof e&&t.setValidators([e]);const i=function w1(t){return t._rawAsyncValidators}(t);null!==n.asyncValidator?t.setAsyncValidators(E1(i,n.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const o=()=>t.updateValueAndValidity();Xm(n._rawValidators,o),Xm(n._rawAsyncValidators,o)})(t,n),n.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&n.valueAccessor.setDisabledState?.(t.disabled),function E0(t,n){n.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ww(t,n)})}(t,n),function tN(t,n){const e=(i,o)=>{n.valueAccessor.writeValue(i),o&&n.viewToModelUpdate(i)};t.registerOnChange(e),n._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,n),function D0(t,n){n.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ww(t,n),"submit"!==t.updateOn&&t.markAsTouched()})}(t,n),function b0(t,n){if(n.valueAccessor.setDisabledState){const e=i=>{n.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(e),n._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,n)}function Xm(t,n){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function ww(t,n){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function S0(t,n){const e=t.indexOf(n);e>-1&&t.splice(e,1)}function Hu(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const yp=class extends Qm{constructor(n=null,e,i){super(function m0(t){return(Jm(t)?t.validators:t)||null}(e),function _0(t,n){return(Jm(n)?n.asyncValidators:t)||null}(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jm(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Hu(n)?n.value:n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){S0(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){S0(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){Hu(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}},sN={provide:_l,useExisting:(0,l.Gpc)(()=>bp)},G1=(()=>Promise.resolve())();let bp=(()=>{class t extends _l{constructor(e,i,o,u,h,v){super(),this._changeDetectorRef=h,this.callSetDisabledState=v,this.control=new yp,this._registered=!1,this.name="",this.update=new l.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=function Cw(t,n){if(!n)return null;let e,i,o;return Array.isArray(n),n.forEach(u=>{u.constructor===dp?e=u:function B1(t){return Object.getPrototypeOf(t.constructor)===Ta}(u)?i=u:o=u}),o||i||e||null}(0,u)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function e_(t,n){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(n,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){G1.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,o=0!==i&&(0,l.VuI)(i);G1.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function pp(t,n){return[...n.path,t]}(e,this._parent):[e]}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(Zr,9),l.Y36(mr,10),l.Y36(yc,10),l.Y36(zr,10),l.Y36(l.sBO,8),l.Y36(Pi,8))};static#t=this.\u0275dir=l.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([sN]),l.qOj,l.TTD]})}return t})();const z1={provide:zr,useExisting:(0,l.Gpc)(()=>A0),multi:!0};let A0=(()=>{class t extends Ta{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=function(){let e;return function(o){return(e||(e=l.n5z(t)))(o||t)}}();static#t=this.\u0275dir=l.lG2({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){1&i&&l.NdJ("input",function(h){return o.onChange(h.target.value)})("blur",function(){return o.onTouched()})},features:[l._Bn([z1]),l.qOj]})}return t})(),Z1=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),jw=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({imports:[Z1]})}return t})(),cS=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Pi,useValue:e.callSetDisabledState??fp}]}}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({imports:[jw]})}return t})(),uS=(()=>{class t{transform(e,i){return i?e.filter(o=>o.megnevezes.toLowerCase().includes(i.toLowerCase())):e}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275pipe=l.Yjl({name:"filter",type:t,pure:!0})}return t})();function gN(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"div",5)(1,"div",6),l._UZ(2,"img",7),l.TgZ(3,"div",8)(4,"h5",9),l._uU(5),l.qZA(),l.TgZ(6,"p",10),l._uU(7),l.qZA()(),l.TgZ(8,"div",11)(9,"p",12),l._uU(10),l.qZA(),l.TgZ(11,"div",0)(12,"span",1),l._uU(13,"Db"),l.qZA(),l._UZ(14,"input",13,14),l.TgZ(16,"button",15),l.NdJ("click",function(){const u=l.CHM(e).$implicit,h=l.MAs(15),v=l.oxw();return l.KtG(v.ment(u.key,h.value))}),l._uU(17),l.qZA()()()()()}if(2&t){const e=n.$implicit,i=l.oxw();l.xp6(2),l.Q6J("src",e.kepUrl,l.LSH),l.xp6(3),l.Oqu(e.megnevezes),l.xp6(2),l.hij(" ",e.leiras," "),l.xp6(3),l.hij(" ",e.ar," Ft "),l.xp6(6),l.Q6J("ngClass",i.rendeltunkE(e.key)?"btn-warning":"btn-danger"),l.xp6(1),l.Oqu(i.rendeltunkE(e.key)?"Hozz\xe1ad\xe1s":"M\xf3dos\xedt\xe1s")}}let mN=(()=>{class t{constructor(e,i,o){this.base=e,this.config=i,this.kosar=o,this.keresoSzo="",this.base.getNovenyek().snapshotChanges().pipe((0,Tt.U)(u=>u.map(h=>({key:h.payload.key,...h.payload.val()})))).subscribe(u=>this.novenyek=u),this.oszlopok=this.config.getNovenyOszlopok(),this.tetelek=this.kosar.getTetelek()}ment(e,i){this.kosar.addTetel(e,Number(i)),this.tetelek=this.kosar.getTetelek()}rendeltunkE(e){return-1==this.tetelek.findIndex(o=>o.novenyKey==e)}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(t0),l.Y36(aw),l.Y36($m))};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["app-novenyek-list"]],decls:7,vars:5,consts:[[1,"input-group","mb-3"],["id","basic-addon1",1,"input-group-text"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"row","g-4"],["class","col-12 col-md-6 col-lg-4 col-xl-3",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-lg-4","col-xl-3"],[1,"card","h-100"],["alt","N\xf6v\xe9ny k\xe9p",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer"],[1,"card-text","fw-bold"],["value","1","min","0","type","number",1,"form-control"],["db",""],["type","button",1,"btn",3,"ngClass","click"]],template:function(i,o){1&i&&(l.TgZ(0,"div",0)(1,"span",1),l._uU(2,"Keres\xe9s: "),l.qZA(),l.TgZ(3,"input",2),l.NdJ("ngModelChange",function(h){return o.keresoSzo=h}),l.qZA()(),l.TgZ(4,"div",3),l.YNc(5,gN,18,6,"div",4),l.ALo(6,"filter"),l.qZA()),2&i&&(l.xp6(3),l.Q6J("ngModel",o.keresoSzo),l.xp6(2),l.Q6J("ngForOf",l.xi3(6,2,o.novenyek,o.keresoSzo)))},dependencies:[Oo,Fi,dp,Ih,bp,uS]})}return t})();function dS(t,n){if(1&t&&(l.TgZ(0,"div",2)(1,"div",3),l._uU(2),l.qZA(),l.TgZ(3,"div",3),l._uU(4),l.qZA(),l.TgZ(5,"div",3),l._uU(6),l.qZA()()),2&t){const e=n.$implicit,i=l.oxw(2);l.xp6(2),l.hij(" ",i.keresNoveny(e.novenyKey).megnevezes," "),l.xp6(2),l.hij(" ",e.db," db "),l.xp6(2),l.hij(" ",i.keresNoveny(e.novenyKey).ar*e.db," Ft ")}}function hS(t,n){if(1&t&&(l.ynx(0),l.YNc(1,dS,7,3,"div",1),l.BQk()),2&t){const e=l.oxw();l.xp6(1),l.Q6J("ngForOf",e.tetelek)}}let _N=(()=>{class t{constructor(e,i){this.base=e,this.kosar=i,this.novenyek=[],this.tetelek=[],this.base.getNovenyek().snapshotChanges().pipe((0,Tt.U)(o=>o.map(u=>({key:u.payload.key,...u.payload.val()})))).subscribe(o=>this.novenyek=o),this.tetelek=this.kosar.getTetelek()}keresNoveny(e){return this.novenyek.find(i=>i.key==e)}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(t0),l.Y36($m))};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["app-rendelesek"]],decls:1,vars:1,consts:[[4,"ngIf"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col"]],template:function(i,o){1&i&&l.YNc(0,hS,2,1,"ng-container",0),2&i&&l.Q6J("ngIf",0!=o.novenyek.length)},dependencies:[Fi,ir]})}return t})();function vN(t,n){if(1&t&&(l.TgZ(0,"div",14),l._uU(1),l.qZA()),2&t){const e=n.$implicit;l.xp6(1),l.hij(" ",e," ")}}function yN(t,n){if(1&t){const e=l.EpF();l.TgZ(0,"div",16)(1,"div",4)(2,"input",5),l.NdJ("ngModelChange",function(o){const h=l.CHM(e).$implicit;return l.KtG(h.megnevezes=o)}),l.qZA(),l.TgZ(3,"label",6),l._uU(4,"Megnevez\xe9s"),l.qZA()(),l.TgZ(5,"div",4)(6,"input",10),l.NdJ("ngModelChange",function(o){const h=l.CHM(e).$implicit;return l.KtG(h.kepUrl=o)}),l.qZA(),l.TgZ(7,"label",11),l._uU(8,"K\xe9pc\xedm"),l.qZA()(),l.TgZ(9,"div",4)(10,"input",12),l.NdJ("ngModelChange",function(o){const h=l.CHM(e).$implicit;return l.KtG(h.ar=o)}),l.qZA(),l.TgZ(11,"label",13),l._uU(12,"\xc1r"),l.qZA()(),l.TgZ(13,"div",14)(14,"button",15),l.NdJ("click",function(){const u=l.CHM(e).$implicit,h=l.oxw();return l.KtG(h.updateNoveny(u.key,u))}),l._uU(15,"Ment"),l.qZA(),l.TgZ(16,"button",19),l.NdJ("click",function(){const u=l.CHM(e).$implicit,h=l.oxw();return l.KtG(h.deleteNoveny(u.key))}),l._uU(17,"T\xf6r\xf6l"),l.qZA()()()}if(2&t){const e=n.$implicit;l.xp6(2),l.Q6J("ngModel",e.megnevezes),l.xp6(4),l.Q6J("ngModel",e.kepUrl),l.xp6(4),l.Q6J("ngModel",e.ar)}}let fS=(()=>{class t{constructor(e,i){this.base=e,this.config=i,this.ujNoveny={},this.base.getNovenyek().snapshotChanges().pipe((0,Tt.U)(o=>o.map(u=>({key:u.payload.key,...u.payload.val()})))).subscribe(o=>this.novenyek=o),this.oszlopok=this.config.getNovenyOszlopok()}updateNoveny(e,i){this.base.updateNoveny(e,i).then(()=>console.log("Sikeres m\xf3dos\xedt\xe1s")).catch(()=>console.log("Hiba a m\xf3dos\xedt\xe1sn\xe1l"))}deleteNoveny(e){this.base.deleteNoveny(e).then(()=>console.log("Sikeres t\xf6rl\xe9s!")).catch(()=>console.log("Hiba a t\xf6rl\xe9sn\xe9l"))}newNoveny(){this.base.newNoveny(this.ujNoveny).then(()=>this.ujNoveny={})}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(t0),l.Y36(aw))};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["app-noveny"]],decls:31,vars:10,consts:[[1,"card"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"form-floating","mb-3","col"],["type","text","id","floatingInput",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingInput"],[1,"form-floating"],["id","floatingTextarea",1,"form-control",3,"ngModel","ngModelChange"],["for","floatingTextarea"],["type","text","id","kepUrl",1,"form-control",3,"ngModel","ngModelChange"],["for","kepUrl"],["type","number","id","ar",1,"form-control",3,"ngModel","ngModelChange"],["for","ar"],[1,"col"],["type","button",1,"btn","btn-success",3,"click"],[1,"row"],["class","col",4,"ngFor","ngForOf"],["class","row",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(i,o){1&i&&(l._uU(0),l.ALo(1,"json"),l.TgZ(2,"div",0),l._UZ(3,"img",1),l.TgZ(4,"div",2)(5,"h5",3),l._uU(6,"\xdaj N\xf6v\xe9ny"),l.qZA(),l.TgZ(7,"div",4)(8,"input",5),l.NdJ("ngModelChange",function(h){return o.ujNoveny.megnevezes=h}),l.qZA(),l.TgZ(9,"label",6),l._uU(10,"Megnevez\xe9s"),l.qZA()(),l.TgZ(11,"div",7)(12,"textarea",8),l.NdJ("ngModelChange",function(h){return o.ujNoveny.leiras=h}),l.qZA(),l.TgZ(13,"label",9),l._uU(14,"Le\xedr\xe1s"),l.qZA()(),l.TgZ(15,"div",4)(16,"input",10),l.NdJ("ngModelChange",function(h){return o.ujNoveny.kepUrl=h}),l.qZA(),l.TgZ(17,"label",11),l._uU(18,"K\xe9pc\xedm"),l.qZA()(),l.TgZ(19,"div",4)(20,"input",12),l.NdJ("ngModelChange",function(h){return o.ujNoveny.ar=h}),l.qZA(),l.TgZ(21,"label",13),l._uU(22,"\xc1r"),l.qZA()(),l.TgZ(23,"div",14)(24,"button",15),l.NdJ("click",function(){return o.newNoveny()}),l._uU(25,"Hozz\xe1ad\xe1s"),l.qZA()()()(),l.TgZ(26,"div",16),l.YNc(27,vN,2,1,"div",17),l.TgZ(28,"div",14),l._uU(29," M\u0171veletek "),l.qZA()(),l.YNc(30,yN,18,3,"div",18)),2&i&&(l.hij("\n",l.lcZ(1,8,o.ujNoveny),"\n"),l.xp6(3),l.Q6J("src",o.ujNoveny.kepUrl,l.LSH),l.xp6(5),l.Q6J("ngModel",o.ujNoveny.megnevezes),l.xp6(4),l.Q6J("ngModel",o.ujNoveny.leiras),l.xp6(4),l.Q6J("ngModel",o.ujNoveny.kepUrl),l.xp6(4),l.Q6J("ngModel",o.ujNoveny.ar),l.xp6(7),l.Q6J("ngForOf",o.oszlopok),l.xp6(3),l.Q6J("ngForOf",o.novenyek))},dependencies:[Fi,dp,A0,Ih,bp,Fo]})}return t})();const bN=[{path:"novenyek",component:mN},{path:"rendelesek",component:_N},{path:"novenyekadmin",component:fS},{path:"**",component:fS}];let pS=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({imports:[rw.forRoot(bN),rw]})}return t})(),EN=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["app-nav"]],decls:14,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light"],[1,"container-fluid"],["href","#",1,"navbar-brand"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["routerLink","/novenyek",1,"nav-link"],["routerLink","/rendelesek",1,"nav-link"],["routerLink","/novenyekadmin",1,"nav-link"]],template:function(i,o){1&i&&(l.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),l._uU(3,"N\xf6v\xe9nykert kft."),l.qZA(),l.TgZ(4,"ul",3)(5,"li",4)(6,"a",5),l._uU(7,"N\xf6v\xe9nyek"),l.qZA()(),l.TgZ(8,"li",4)(9,"a",6),l._uU(10,"Rendel\xe9sek"),l.qZA()(),l.TgZ(11,"li",4)(12,"a",7),l._uU(13,"Admin"),l.qZA()()()()())},dependencies:[cp]})}return t})(),DN=(()=>{class t{constructor(){this.title="Novenyek1007"}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(i,o){1&i&&(l._UZ(0,"app-nav"),l.TgZ(1,"div",0),l._UZ(2,"router-outlet"),l.qZA())},dependencies:[Oy,EN]})}return t})();var wN=O(4266);const CN=["addListener","removeListener"],gS=["addEventListener","removeEventListener"],mS=["on","off"];function _r(t,n,e,i){if((0,Us.m)(e)&&(i=e,e=void 0),i)return _r(t,n,e).pipe(uy(i));const[o,u]=function c(t){return(0,Us.m)(t.addEventListener)&&(0,Us.m)(t.removeEventListener)}(t)?gS.map(h=>v=>t[h](n,v,e)):function s(t){return(0,Us.m)(t.addListener)&&(0,Us.m)(t.removeListener)}(t)?CN.map(r(t,n)):function a(t){return(0,Us.m)(t.on)&&(0,Us.m)(t.off)}(t)?mS.map(r(t,n)):[];if(!o&&(0,wN.z)(t))return(0,Xi.z)(h=>_r(h,n,e))((0,Ln.Xf)(t));if(!o)throw new TypeError("Invalid event target");return new Kn.y(h=>{const v=(...D)=>h.next(1<D.length?D:D[0]);return o(v),()=>u(v)})}function r(t,n){return e=>i=>t[e](n,i)}var d=O(671);const{isArray:b}=Array;function w(t){return 1===t.length&&b(t[0])?t[0]:t}function L(...t){const n=(0,Cr.jO)(t),e=w(t);return e.length?new Kn.y(i=>{let o=e.map(()=>[]),u=e.map(()=>!1);i.add(()=>{o=u=null});for(let h=0;!i.closed&&h<e.length;h++)(0,Ln.Xf)(e[h]).subscribe((0,mn.x)(i,v=>{if(o[h].push(v),o.every(D=>D.length)){const D=o.map(T=>T.shift());i.next(n?n(...D):D),o.some((T,R)=>!T.length&&u[R])&&i.complete()}},()=>{u[h]=!0,!o[h].length&&i.complete()}));return()=>{o=u=null}}):ms.E}Math,Math,Math;const TO=["*"],tx=["dialog"];function Sp(t){return"string"==typeof t}function Ap(t){return null!=t}function u_(t){return(t||document.body).getBoundingClientRect()}const WN={animation:!0,transitionTimerDelayMs:5},Zx=()=>{},{transitionTimerDelayMs:Yx}=WN,G0=new Map,Ws=(t,n,e,i)=>{let o=i.context||{};const u=G0.get(n);if(u)switch(i.runningTransition){case"continue":return ms.E;case"stop":t.run(()=>u.transition$.complete()),o=Object.assign(u.context,o),G0.delete(n)}const h=e(n,i.animation,o)||Zx;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>h()),(0,vt.of)(void 0).pipe(function Wx(t){return n=>new Kn.y(e=>n.subscribe({next:h=>t.run(()=>e.next(h)),error:h=>t.run(()=>e.error(h)),complete:()=>t.run(()=>e.complete())}))}(t));const v=new Hn.x,D=new Hn.x,T=v.pipe(function Z(...t){return n=>Zf(n,(0,vt.of)(...t))}(!0));G0.set(n,{transition$:v,complete:()=>{D.next(),D.complete()},context:o});const R=function zx(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const P=_r(n,"transitionend").pipe(vi(T),Ii(({target:ee})=>ee===n));(function S(...t){return 1===(t=w(t)).length?(0,Ln.Xf)(t[0]):new Kn.y(function M(t){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<t.length;i++)e.push((0,Ln.Xf)(t[i]).subscribe((0,mn.x)(n,o=>{if(e){for(let u=0;u<e.length;u++)u!==i&&e[u].unsubscribe();e=null}n.next(o)})))}}(t))})(function m(t=0,n,e=Hl.P){let i=-1;return null!=n&&((0,d.K)(n)?e=n:i=n),new Kn.y(o=>{let u=function p(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;u<0&&(u=0);let h=0;return e.schedule(function(){o.closed||(o.next(h++),0<=i?this.schedule(void 0,i):o.complete())},u)})}(R+Yx).pipe(vi(T)),P,D).pipe(vi(T)).subscribe(()=>{G0.delete(n),t.run(()=>{h(),v.next(),v.complete()})})}),v.asObservable()};let zw=(()=>{class t{constructor(){this.animation=WN.animation}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),tR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),rR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),sR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})();var $n=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}($n||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const hR=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function fR(t){const n=Array.from(t.querySelectorAll(hR)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let IR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),NR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})();class xp{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}let ZP=(()=>{class t{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe(pr(1)).subscribe(()=>{Ws(this._zone,this._el.nativeElement,(e,i)=>{i&&u_(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ws(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,o){2&i&&(l.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),l.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(i,o){},encapsulation:2})}return t})();class RR{update(n){}close(n){}dismiss(n){}}const YP=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],KP=["animation","backdropClass"];class qP{_applyWindowOptions(n,e){YP.forEach(i=>{Ap(e[i])&&(n[i]=e[i])})}_applyBackdropOptions(n,e){KP.forEach(i=>{Ap(e[i])&&(n[i]=e[i])})}update(n){this._applyWindowOptions(this._windowCmptRef.instance,n),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,n)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(vi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(vi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(n,e,i,o){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=o,this._closed=new Hn.x,this._dismissed=new Hn.x,this._hidden=new Hn.x,n.instance.dismissEvent.subscribe(u=>{this.dismiss(u)}),this.result=new Promise((u,h)=>{this._resolve=u,this._reject=h}),this.result.then(null,()=>{})}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function jN(t){return t&&t.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,vt.of)(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),L(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var VS=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}(VS||{});let JP=(()=>{class t{constructor(e,i,o){this._document=e,this._elRef=i,this._zone=o,this._closed$=new Hn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Hn.x,this.hidden=new Hn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Sp(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(pr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},h=L(Ws(this._zone,e,()=>e.classList.remove("show"),i),Ws(this._zone,this._dialogEl.nativeElement,()=>{},i));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const e={animation:this.animation,runningTransition:"continue"};L(Ws(this._zone,this._elRef.nativeElement,(u,h)=>{h&&u_(u),u.classList.add("show")},e),Ws(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{_r(e,"keydown").pipe(vi(this._closed$),Ii(o=>o.which===$n.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(VS.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;_r(this._dialogEl.nativeElement,"mousedown").pipe(vi(this._closed$),(0,xi.b)(()=>i=!1),(0,xn.w)(()=>_r(e,"mouseup").pipe(vi(this._closed$),pr(1))),Ii(({target:o})=>e===o)).subscribe(()=>{i=!0}),_r(e,"click").pipe(vi(this._closed$)).subscribe(({target:o})=>{e===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(VS.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),o=fR(e)[0];(i||o||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let o;o=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ws(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static#e=this.\u0275fac=function(i){return new(i||t)(l.Y36(de),l.Y36(l.SBq),l.Y36(l.R0b))};static#t=this.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(i,o){if(1&i&&l.Gf(tx,7),2&i){let u;l.iGM(u=l.CRH())&&(o._dialogEl=u.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,o){2&i&&(l.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),l.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),l.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:TO,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,o){1&i&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&i&&l.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}return t})(),QP=(()=>{class t{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:u,paddingRight:h}=o;if(e>0){const v=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${v+e}px`}return o.overflow="hidden",()=>{e>0&&(o.paddingRight=h),o.overflow=u}}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(de))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),XP=(()=>{class t{constructor(e,i,o,u,h,v,D){this._applicationRef=e,this._injector=i,this._environmentInjector=o,this._document=u,this._scrollBar=h,this._rendererFactory=v,this._ngZone=D,this._activeWindowCmptHasChanged=new Hn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const T=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,i=!1)=>{t.runOutsideAngular(()=>{const o=_r(n,"focusin").pipe(vi(e),(0,Tt.U)(u=>u.target));_r(n,"keydown").pipe(vi(e),Ii(u=>u.which===$n.Tab),Br(o)).subscribe(([u,h])=>{const[v,D]=fR(n);(h===v||h===n)&&u.shiftKey&&(D.focus(),u.preventDefault()),h===D&&!u.shiftKey&&(v.focus(),u.preventDefault())}),i&&_r(n,"click").pipe(vi(e),Br(o),(0,Tt.U)(u=>u[1])).subscribe(u=>u.focus())})})(this._ngZone,T.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(T.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,o){const u=o.container instanceof HTMLElement?o.container:Ap(o.container)?this._document.querySelector(o.container):this._document.body,h=this._rendererFactory.createRenderer(null,null);if(!u)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const v=new RR,D=(e=o.injector||e).get(l.lqb,null)||this._environmentInjector,T=this._getContentRef(e,D,i,v,o);let R=!1!==o.backdrop?this._attachBackdrop(u):void 0,P=this._attachWindowComponent(u,T.nodes),B=new qP(P,T,R,o.beforeDismiss);return this._registerModalRef(B),this._registerWindowCmpt(P),B.hidden.pipe(pr(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(h.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),v.close=ee=>{B.close(ee)},v.dismiss=ee=>{B.dismiss(ee)},v.update=ee=>{B.update(ee)},B.update(o),1===this._modalRefs.length&&h.addClass(this._document.body,"modal-open"),R&&R.instance&&R.changeDetectorRef.detectChanges(),P.changeDetectorRef.detectChanges(),B}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=(0,l.LMc)(ZP,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let o=(0,l.LMc)(JP,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),e.appendChild(o.location.nativeElement),o}_getContentRef(e,i,o,u,h){return o?o instanceof l.Rgc?this._createFromTemplateRef(o,u):Sp(o)?this._createFromString(o):this._createFromComponent(e,i,o,u,h):new xp([])}_createFromTemplateRef(e,i){const u=e.createEmbeddedView({$implicit:i,close(h){i.close(h)},dismiss(h){i.dismiss(h)}});return this._applicationRef.attachView(u),new xp([u.rootNodes],u)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new xp([[i]])}_createFromComponent(e,i,o,u,h){const v=l.zs3.create({providers:[{provide:RR,useValue:u}],parent:e}),D=(0,l.LMc)(o,{environmentInjector:i,elementInjector:v}),T=D.location.nativeElement;return h.scrollable&&T.classList.add("component-host-scrollable"),this._applicationRef.attachView(D.hostView),new xp([[T]],D.hostView,D)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==e&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const o=this._modalRefs.indexOf(e);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(de),l.LFG(QP),l.LFG(l.FYo),l.LFG(l.R0b))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ek=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(zw))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tk=(()=>{class t{constructor(e,i,o){this._injector=e,this._modalStack=i,this._config=o}open(e,i={}){const o={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static#e=this.\u0275fac=function(i){return new(i||t)(l.LFG(l.zs3),l.LFG(XP),l.LFG(ek))};static#t=this.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),MR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({providers:[tk]})}return t})(),PR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),HR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),GR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),WR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),zR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),ZR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),YR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),KR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),qR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})();new l.OlP("live announcer delay",{providedIn:"root",factory:function yk(){return 100}});let JR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})(),QR=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({})}return t})();const Ek=[eR,tR,rR,sR,IR,NR,MR,PR,QR,HR,GR,WR,zR,ZR,YR,KR,qR,JR];let Dk=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t});static#n=this.\u0275inj=l.cJS({imports:[Ek,eR,tR,rR,sR,IR,NR,MR,PR,QR,HR,GR,WR,zR,ZR,YR,KR,qR,JR]})}return t})();const wk_firebaseConfig={apiKey:"AIzaSyCRHOB5n7pFKCWi_wsuy3Hpq18bq1dX9TI",authDomain:"disznovenywebshop-bb38e.firebaseapp.com",databaseURL:"https://disznovenywebshop-bb38e-default-rtdb.europe-west1.firebasedatabase.app",projectId:"disznovenywebshop-bb38e",storageBucket:"disznovenywebshop-bb38e.appspot.com",messagingSenderId:"608091304372",appId:"1:608091304372:web:cd36365f0db16310c942e1",measurementId:"G-EB1448Y308"};let Ck=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=l.oAB({type:t,bootstrap:[DN]});static#n=this.\u0275inj=l.cJS({imports:[zc,pS,Dk,_i.hO.initializeApp(wk_firebaseConfig),UE,cS]})}return t})();oi().bootstrapModule(Ck).catch(t=>console.error(t))},5619:(st,De,O)=>{O.d(De,{X:()=>Q});var l=O(8645);class Q extends l.x{constructor(te){super(),this._value=te}get value(){return this.getValue()}_subscribe(te){const se=super._subscribe(te);return!se.closed&&te.next(this._value),se}getValue(){const{hasError:te,thrownError:se,_value:de}=this;if(te)throw se;return this._throwIfClosed(),de}next(te){super.next(this._value=te)}}},5592:(st,De,O)=>{O.d(De,{y:()=>Re});var l=O(305),Q=O(7394),x=O(4850),te=O(8407),se=O(2653),de=O(4674),_e=O(1441);let Re=(()=>{class ne{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const We=new ne;return We.source=this,We.operator=Ae,We}subscribe(Ae,We,Pe){const Ye=function $(ne){return ne&&ne instanceof l.Lv||function V(ne){return ne&&(0,de.m)(ne.next)&&(0,de.m)(ne.error)&&(0,de.m)(ne.complete)}(ne)&&(0,Q.Nn)(ne)}(Ae)?Ae:new l.Hp(Ae,We,Pe);return(0,_e.x)(()=>{const{operator:Oe,source:at}=this;Ye.add(Oe?Oe.call(Ye,at):at?this._subscribe(Ye):this._trySubscribe(Ye))}),Ye}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(We){Ae.error(We)}}forEach(Ae,We){return new(We=ue(We))((Pe,Ye)=>{const Oe=new l.Hp({next:at=>{try{Ae(at)}catch(lt){Ye(lt),Oe.unsubscribe()}},error:Ye,complete:Pe});this.subscribe(Oe)})}_subscribe(Ae){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Ae)}[x.L](){return this}pipe(...Ae){return(0,te.U)(Ae)(this)}toPromise(Ae){return new(Ae=ue(Ae))((We,Pe)=>{let Ye;this.subscribe(Oe=>Ye=Oe,Oe=>Pe(Oe),()=>We(Ye))})}}return ne.create=Le=>new ne(Le),ne})();function ue(ne){var Le;return null!==(Le=ne??se.config.Promise)&&void 0!==Le?Le:Promise}},8645:(st,De,O)=>{O.d(De,{x:()=>_e});var l=O(5592),Q=O(7394);const te=(0,O(2306).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=O(9039),de=O(1441);let _e=(()=>{class ue extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const ne=new Re(this,this);return ne.operator=$,ne}_throwIfClosed(){if(this.closed)throw new te}next($){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next($)}})}error($){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:ne}=this;for(;ne.length;)ne.shift().error($)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:ne,isStopped:Le,observers:Ae}=this;return ne||Le?Q.Lc:(this.currentObservers=null,Ae.push($),new Q.w0(()=>{this.currentObservers=null,(0,se.P)(Ae,$)}))}_checkFinalizedStatuses($){const{hasError:ne,thrownError:Le,isStopped:Ae}=this;ne?$.error(Le):Ae&&$.complete()}asObservable(){const $=new l.y;return $.source=this,$}}return ue.create=(V,$)=>new Re(V,$),ue})();class Re extends _e{constructor(V,$){super(),this.destination=V,this.source=$}next(V){var $,ne;null===(ne=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===ne||ne.call($,V)}error(V){var $,ne;null===(ne=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===ne||ne.call($,V)}complete(){var V,$;null===($=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===$||$.call(V)}_subscribe(V){var $,ne;return null!==(ne=null===($=this.source)||void 0===$?void 0:$.subscribe(V))&&void 0!==ne?ne:Q.Lc}}},305:(st,De,O)=>{O.d(De,{Hp:()=>Pe,Lv:()=>ne});var l=O(4674),Q=O(7394),x=O(2653),te=O(3894),se=O(2420);const de=ue("C",void 0,void 0);function ue(oe,me,re){return{kind:oe,value:me,error:re}}var V=O(7599),$=O(1441);class ne extends Q.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,Q.Nn)(me)&&me.add(this)):this.destination=lt}static create(me,re,we){return new Pe(me,re,we)}next(me){this.isStopped?at(function Re(oe){return ue("N",oe,void 0)}(me),this):this._next(me)}error(me){this.isStopped?at(function _e(oe){return ue("E",void 0,oe)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?at(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function Ae(oe,me){return Le.call(oe,me)}class We{constructor(me){this.partialObserver=me}next(me){const{partialObserver:re}=this;if(re.next)try{re.next(me)}catch(we){Ye(we)}}error(me){const{partialObserver:re}=this;if(re.error)try{re.error(me)}catch(we){Ye(we)}else Ye(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(re){Ye(re)}}}class Pe extends ne{constructor(me,re,we){let xe;if(super(),(0,l.m)(me)||!me)xe={next:me??void 0,error:re??void 0,complete:we??void 0};else{let ae;this&&x.config.useDeprecatedNextContext?(ae=Object.create(me),ae.unsubscribe=()=>this.unsubscribe(),xe={next:me.next&&Ae(me.next,ae),error:me.error&&Ae(me.error,ae),complete:me.complete&&Ae(me.complete,ae)}):xe=me}this.destination=new We(xe)}}function Ye(oe){x.config.useDeprecatedSynchronousErrorHandling?(0,$.O)(oe):(0,te.h)(oe)}function at(oe,me){const{onStoppedNotification:re}=x.config;re&&V.z.setTimeout(()=>re(oe,me))}const lt={closed:!0,next:se.Z,error:function Oe(oe){throw oe},complete:se.Z}},7394:(st,De,O)=>{O.d(De,{Lc:()=>de,w0:()=>se,Nn:()=>_e});var l=O(4674);const x=(0,O(2306).d)(ue=>function($){ue(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((ne,Le)=>`${Le+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var te=O(9039);class se{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Ae of $)Ae.remove(this);else $.remove(this);const{initialTeardown:ne}=this;if((0,l.m)(ne))try{ne()}catch(Ae){V=Ae instanceof x?Ae.errors:[Ae]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const Ae of Le)try{Re(Ae)}catch(We){V=V??[],We instanceof x?V=[...V,...We.errors]:V.push(We)}}if(V)throw new x(V)}}add(V){var $;if(V&&V!==this)if(this.closed)Re(V);else{if(V instanceof se){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(V)}}_hasParent(V){const{_parentage:$}=this;return $===V||Array.isArray($)&&$.includes(V)}_addParent(V){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(V),$):$?[$,V]:V}_removeParent(V){const{_parentage:$}=this;$===V?this._parentage=null:Array.isArray($)&&(0,te.P)($,V)}remove(V){const{_finalizers:$}=this;$&&(0,te.P)($,V),V instanceof se&&V._removeParent(this)}}se.EMPTY=(()=>{const ue=new se;return ue.closed=!0,ue})();const de=se.EMPTY;function _e(ue){return ue instanceof se||ue&&"closed"in ue&&(0,l.m)(ue.remove)&&(0,l.m)(ue.add)&&(0,l.m)(ue.unsubscribe)}function Re(ue){(0,l.m)(ue)?ue():ue.unsubscribe()}},2653:(st,De,O)=>{O.d(De,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(st,De,O)=>{O.d(De,{E:()=>Q});const Q=new(O(5592).y)(se=>se.complete())},2459:(st,De,O)=>{O.d(De,{D:()=>me});var l=O(4829),Q=O(3093),x=O(5137),de=O(5592),Re=O(4971),ue=O(4674),V=O(7103);function ne(re,we){if(!re)throw new Error("Iterable cannot be null");return new de.y(xe=>{(0,V.f)(xe,we,()=>{const ae=re[Symbol.asyncIterator]();(0,V.f)(xe,we,()=>{ae.next().then(Y=>{Y.done?xe.complete():xe.next(Y.value)})},0,!0)})})}var Le=O(8382),Ae=O(4026),We=O(4266),Pe=O(3664),Ye=O(5726),Oe=O(9853),at=O(541);function me(re,we){return we?function oe(re,we){if(null!=re){if((0,Le.c)(re))return function te(re,we){return(0,l.Xf)(re).pipe((0,x.R)(we),(0,Q.Q)(we))}(re,we);if((0,We.z)(re))return function _e(re,we){return new de.y(xe=>{let ae=0;return we.schedule(function(){ae===re.length?xe.complete():(xe.next(re[ae++]),xe.closed||this.schedule())})})}(re,we);if((0,Ae.t)(re))return function se(re,we){return(0,l.Xf)(re).pipe((0,x.R)(we),(0,Q.Q)(we))}(re,we);if((0,Ye.D)(re))return ne(re,we);if((0,Pe.T)(re))return function $(re,we){return new de.y(xe=>{let ae;return(0,V.f)(xe,we,()=>{ae=re[Re.h](),(0,V.f)(xe,we,()=>{let Y,je;try{({value:Y,done:je}=ae.next())}catch(dt){return void xe.error(dt)}je?xe.complete():xe.next(Y)},0,!0)}),()=>(0,ue.m)(ae?.return)&&ae.return()})}(re,we);if((0,at.L)(re))return function lt(re,we){return ne((0,at.Q)(re),we)}(re,we)}throw(0,Oe.z)(re)}(re,we):(0,l.Xf)(re)}},4829:(st,De,O)=>{O.d(De,{Xf:()=>Le});var l=O(7582),Q=O(4266),x=O(4026),te=O(5592),se=O(8382),de=O(5726),_e=O(9853),Re=O(3664),ue=O(541),V=O(4674),$=O(3894),ne=O(4850);function Le(oe){if(oe instanceof te.y)return oe;if(null!=oe){if((0,se.c)(oe))return function Ae(oe){return new te.y(me=>{const re=oe[ne.L]();if((0,V.m)(re.subscribe))return re.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(oe);if((0,Q.z)(oe))return function We(oe){return new te.y(me=>{for(let re=0;re<oe.length&&!me.closed;re++)me.next(oe[re]);me.complete()})}(oe);if((0,x.t)(oe))return function Pe(oe){return new te.y(me=>{oe.then(re=>{me.closed||(me.next(re),me.complete())},re=>me.error(re)).then(null,$.h)})}(oe);if((0,de.D)(oe))return Oe(oe);if((0,Re.T)(oe))return function Ye(oe){return new te.y(me=>{for(const re of oe)if(me.next(re),me.closed)return;me.complete()})}(oe);if((0,ue.L)(oe))return function at(oe){return Oe((0,ue.Q)(oe))}(oe)}throw(0,_e.z)(oe)}function Oe(oe){return new te.y(me=>{(function lt(oe,me){var re,we,xe,ae;return(0,l.mG)(this,void 0,void 0,function*(){try{for(re=(0,l.KL)(oe);!(we=yield re.next()).done;)if(me.next(we.value),me.closed)return}catch(Y){xe={error:Y}}finally{try{we&&!we.done&&(ae=re.return)&&(yield ae.call(re))}finally{if(xe)throw xe.error}}me.complete()})})(oe,me).catch(re=>me.error(re))})}},3019:(st,De,O)=>{O.d(De,{T:()=>de});var l=O(7537),Q=O(4829),x=O(6232),te=O(9940),se=O(2459);function de(..._e){const Re=(0,te.yG)(_e),ue=(0,te._6)(_e,1/0),V=_e;return V.length?1===V.length?(0,Q.Xf)(V[0]):(0,l.J)(ue)((0,se.D)(V,Re)):x.E}},2096:(st,De,O)=>{O.d(De,{of:()=>x});var l=O(9940),Q=O(2459);function x(...te){const se=(0,l.yG)(te);return(0,Q.D)(te,se)}},8251:(st,De,O)=>{O.d(De,{x:()=>Q});var l=O(305);function Q(te,se,de,_e,Re){return new x(te,se,de,_e,Re)}class x extends l.Lv{constructor(se,de,_e,Re,ue,V){super(se),this.onFinalize=ue,this.shouldUnsubscribe=V,this._next=de?function($){try{de($)}catch(ne){se.error(ne)}}:super._next,this._error=Re?function($){try{Re($)}catch(ne){se.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch($){se.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},3997:(st,De,O)=>{O.d(De,{x:()=>te});var l=O(2737),Q=O(9360),x=O(8251);function te(de,_e=l.y){return de=de??se,(0,Q.e)((Re,ue)=>{let V,$=!0;Re.subscribe((0,x.x)(ue,ne=>{const Le=_e(ne);($||!de(V,Le))&&($=!1,V=Le,ue.next(ne))}))})}function se(de,_e){return de===_e}},7398:(st,De,O)=>{O.d(De,{U:()=>x});var l=O(9360),Q=O(8251);function x(te,se){return(0,l.e)((de,_e)=>{let Re=0;de.subscribe((0,Q.x)(_e,ue=>{_e.next(te.call(se,ue,Re++))}))})}},7537:(st,De,O)=>{O.d(De,{J:()=>x});var l=O(1631),Q=O(2737);function x(te=1/0){return(0,l.z)(Q.y,te)}},1631:(st,De,O)=>{O.d(De,{z:()=>Re});var l=O(7398),Q=O(4829),x=O(9360),te=O(7103),se=O(8251),_e=O(4674);function Re(ue,V,$=1/0){return(0,_e.m)(V)?Re((ne,Le)=>(0,l.U)((Ae,We)=>V(ne,Ae,Le,We))((0,Q.Xf)(ue(ne,Le))),$):("number"==typeof V&&($=V),(0,x.e)((ne,Le)=>function de(ue,V,$,ne,Le,Ae,We,Pe){const Ye=[];let Oe=0,at=0,lt=!1;const oe=()=>{lt&&!Ye.length&&!Oe&&V.complete()},me=we=>Oe<ne?re(we):Ye.push(we),re=we=>{Ae&&V.next(we),Oe++;let xe=!1;(0,Q.Xf)($(we,at++)).subscribe((0,se.x)(V,ae=>{Le?.(ae),Ae?me(ae):V.next(ae)},()=>{xe=!0},void 0,()=>{if(xe)try{for(Oe--;Ye.length&&Oe<ne;){const ae=Ye.shift();We?(0,te.f)(V,We,()=>re(ae)):re(ae)}oe()}catch(ae){V.error(ae)}}))};return ue.subscribe((0,se.x)(V,me,()=>{lt=!0,oe()})),()=>{Pe?.()}}(ne,Le,ue,$)))}},3093:(st,De,O)=>{O.d(De,{Q:()=>te});var l=O(7103),Q=O(9360),x=O(8251);function te(se,de=0){return(0,Q.e)((_e,Re)=>{_e.subscribe((0,x.x)(Re,ue=>(0,l.f)(Re,se,()=>Re.next(ue),de),()=>(0,l.f)(Re,se,()=>Re.complete(),de),ue=>(0,l.f)(Re,se,()=>Re.error(ue),de)))})}},3020:(st,De,O)=>{O.d(De,{B:()=>se});var l=O(4829),Q=O(8645),x=O(305),te=O(9360);function se(_e={}){const{connector:Re=(()=>new Q.x),resetOnError:ue=!0,resetOnComplete:V=!0,resetOnRefCountZero:$=!0}=_e;return ne=>{let Le,Ae,We,Pe=0,Ye=!1,Oe=!1;const at=()=>{Ae?.unsubscribe(),Ae=void 0},lt=()=>{at(),Le=We=void 0,Ye=Oe=!1},oe=()=>{const me=Le;lt(),me?.unsubscribe()};return(0,te.e)((me,re)=>{Pe++,!Oe&&!Ye&&at();const we=We=We??Re();re.add(()=>{Pe--,0===Pe&&!Oe&&!Ye&&(Ae=de(oe,$))}),we.subscribe(re),!Le&&Pe>0&&(Le=new x.Hp({next:xe=>we.next(xe),error:xe=>{Oe=!0,at(),Ae=de(lt,ue,xe),we.error(xe)},complete:()=>{Ye=!0,at(),Ae=de(lt,V),we.complete()}}),(0,l.Xf)(me).subscribe(Le))})(ne)}}function de(_e,Re,...ue){if(!0===Re)return void _e();if(!1===Re)return;const V=new x.Hp({next:()=>{V.unsubscribe(),_e()}});return(0,l.Xf)(Re(...ue)).subscribe(V)}},5137:(st,De,O)=>{O.d(De,{R:()=>Q});var l=O(9360);function Q(x,te=0){return(0,l.e)((se,de)=>{de.add(x.schedule(()=>se.subscribe(de),te))})}},4664:(st,De,O)=>{O.d(De,{w:()=>te});var l=O(4829),Q=O(9360),x=O(8251);function te(se,de){return(0,Q.e)((_e,Re)=>{let ue=null,V=0,$=!1;const ne=()=>$&&!ue&&Re.complete();_e.subscribe((0,x.x)(Re,Le=>{ue?.unsubscribe();let Ae=0;const We=V++;(0,l.Xf)(se(Le,We)).subscribe(ue=(0,x.x)(Re,Pe=>Re.next(de?de(Le,Pe,We,Ae++):Pe),()=>{ue=null,ne()}))},()=>{$=!0,ne()}))})}},9397:(st,De,O)=>{O.d(De,{b:()=>se});var l=O(4674),Q=O(9360),x=O(8251),te=O(2737);function se(de,_e,Re){const ue=(0,l.m)(de)||_e||Re?{next:de,error:_e,complete:Re}:de;return ue?(0,Q.e)((V,$)=>{var ne;null===(ne=ue.subscribe)||void 0===ne||ne.call(ue);let Le=!0;V.subscribe((0,x.x)($,Ae=>{var We;null===(We=ue.next)||void 0===We||We.call(ue,Ae),$.next(Ae)},()=>{var Ae;Le=!1,null===(Ae=ue.complete)||void 0===Ae||Ae.call(ue),$.complete()},Ae=>{var We;Le=!1,null===(We=ue.error)||void 0===We||We.call(ue,Ae),$.error(Ae)},()=>{var Ae,We;Le&&(null===(Ae=ue.unsubscribe)||void 0===Ae||Ae.call(ue)),null===(We=ue.finalize)||void 0===We||We.call(ue)}))}):te.y}},1954:(st,De,O)=>{O.d(De,{o:()=>se});var l=O(7394);class Q extends l.w0{constructor(_e,Re){super()}schedule(_e,Re=0){return this}}const x={setInterval(de,_e,...Re){const{delegate:ue}=x;return ue?.setInterval?ue.setInterval(de,_e,...Re):setInterval(de,_e,...Re)},clearInterval(de){const{delegate:_e}=x;return(_e?.clearInterval||clearInterval)(de)},delegate:void 0};var te=O(9039);class se extends Q{constructor(_e,Re){super(_e,Re),this.scheduler=_e,this.work=Re,this.pending=!1}schedule(_e,Re=0){var ue;if(this.closed)return this;this.state=_e;const V=this.id,$=this.scheduler;return null!=V&&(this.id=this.recycleAsyncId($,V,Re)),this.pending=!0,this.delay=Re,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId($,this.id,Re),this}requestAsyncId(_e,Re,ue=0){return x.setInterval(_e.flush.bind(_e,this),ue)}recycleAsyncId(_e,Re,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return Re;null!=Re&&x.clearInterval(Re)}execute(_e,Re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(_e,Re);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,Re){let V,ue=!1;try{this.work(_e)}catch($){ue=!0,V=$||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),V}unsubscribe(){if(!this.closed){const{id:_e,scheduler:Re}=this,{actions:ue}=Re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(ue,this),null!=_e&&(this.id=this.recycleAsyncId(Re,_e,null)),this.delay=null,super.unsubscribe()}}}},2631:(st,De,O)=>{O.d(De,{v:()=>x});var l=O(4552);class Q{constructor(se,de=Q.now){this.schedulerActionCtor=se,this.now=de}schedule(se,de=0,_e){return new this.schedulerActionCtor(this,se).schedule(_e,de)}}Q.now=l.l.now;class x extends Q{constructor(se,de=Q.now){super(se,de),this.actions=[],this._active=!1}flush(se){const{actions:de}=this;if(this._active)return void de.push(se);let _e;this._active=!0;do{if(_e=se.execute(se.state,se.delay))break}while(se=de.shift());if(this._active=!1,_e){for(;se=de.shift();)se.unsubscribe();throw _e}}}},6321:(st,De,O)=>{O.d(De,{P:()=>te,z:()=>x});var l=O(1954);const x=new(O(2631).v)(l.o),te=x},4552:(st,De,O)=>{O.d(De,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},7599:(st,De,O)=>{O.d(De,{z:()=>l});const l={setTimeout(Q,x,...te){const{delegate:se}=l;return se?.setTimeout?se.setTimeout(Q,x,...te):setTimeout(Q,x,...te)},clearTimeout(Q){const{delegate:x}=l;return(x?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},4971:(st,De,O)=>{O.d(De,{h:()=>Q});const Q=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(st,De,O)=>{O.d(De,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(st,De,O)=>{O.d(De,{_6:()=>de,jO:()=>te,yG:()=>se});var l=O(4674),Q=O(671);function x(_e){return _e[_e.length-1]}function te(_e){return(0,l.m)(x(_e))?_e.pop():void 0}function se(_e){return(0,Q.K)(x(_e))?_e.pop():void 0}function de(_e,Re){return"number"==typeof x(_e)?_e.pop():Re}},9039:(st,De,O)=>{function l(Q,x){if(Q){const te=Q.indexOf(x);0<=te&&Q.splice(te,1)}}O.d(De,{P:()=>l})},2306:(st,De,O)=>{function l(Q){const te=Q(se=>{Error.call(se),se.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}O.d(De,{d:()=>l})},1441:(st,De,O)=>{O.d(De,{O:()=>te,x:()=>x});var l=O(2653);let Q=null;function x(se){if(l.config.useDeprecatedSynchronousErrorHandling){const de=!Q;if(de&&(Q={errorThrown:!1,error:null}),se(),de){const{errorThrown:_e,error:Re}=Q;if(Q=null,_e)throw Re}}else se()}function te(se){l.config.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=se)}},7103:(st,De,O)=>{function l(Q,x,te,se=0,de=!1){const _e=x.schedule(function(){te(),de?Q.add(this.schedule(null,se)):this.unsubscribe()},se);if(Q.add(_e),!de)return _e}O.d(De,{f:()=>l})},2737:(st,De,O)=>{function l(Q){return Q}O.d(De,{y:()=>l})},4266:(st,De,O)=>{O.d(De,{z:()=>l});const l=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},5726:(st,De,O)=>{O.d(De,{D:()=>Q});var l=O(4674);function Q(x){return Symbol.asyncIterator&&(0,l.m)(x?.[Symbol.asyncIterator])}},4674:(st,De,O)=>{function l(Q){return"function"==typeof Q}O.d(De,{m:()=>l})},8382:(st,De,O)=>{O.d(De,{c:()=>x});var l=O(4850),Q=O(4674);function x(te){return(0,Q.m)(te[l.L])}},3664:(st,De,O)=>{O.d(De,{T:()=>x});var l=O(4971),Q=O(4674);function x(te){return(0,Q.m)(te?.[l.h])}},4026:(st,De,O)=>{O.d(De,{t:()=>Q});var l=O(4674);function Q(x){return(0,l.m)(x?.then)}},541:(st,De,O)=>{O.d(De,{L:()=>te,Q:()=>x});var l=O(7582),Q=O(4674);function x(se){return(0,l.FC)(this,arguments,function*(){const _e=se.getReader();try{for(;;){const{value:Re,done:ue}=yield(0,l.qq)(_e.read());if(ue)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Re)}}finally{_e.releaseLock()}})}function te(se){return(0,Q.m)(se?.getReader)}},671:(st,De,O)=>{O.d(De,{K:()=>Q});var l=O(4674);function Q(x){return x&&(0,l.m)(x.schedule)}},9360:(st,De,O)=>{O.d(De,{A:()=>Q,e:()=>x});var l=O(4674);function Q(te){return(0,l.m)(te?.lift)}function x(te){return se=>{if(Q(se))return se.lift(function(de){try{return te(de,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(st,De,O)=>{function l(){}O.d(De,{Z:()=>l})},8407:(st,De,O)=>{O.d(De,{U:()=>x,z:()=>Q});var l=O(2737);function Q(...te){return x(te)}function x(te){return 0===te.length?l.y:1===te.length?te[0]:function(de){return te.reduce((_e,Re)=>Re(_e),de)}}},3894:(st,De,O)=>{O.d(De,{h:()=>x});var l=O(2653),Q=O(7599);function x(te){Q.z.setTimeout(()=>{const{onUnhandledError:se}=l.config;if(!se)throw te;se(te)})}},9853:(st,De,O)=>{function l(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(De,{z:()=>l})},5879:(st,De,O)=>{O.d(De,{$8M:()=>Qo,$WT:()=>Ts,$Z:()=>Zb,AFp:()=>G_,ALo:()=>KI,AaK:()=>ne,BQk:()=>sh,CHM:()=>wr,CRH:()=>Xy,EJc:()=>A1,EpF:()=>NE,F$t:()=>Xv,F4k:()=>UT,FYo:()=>ev,FiY:()=>wd,Gf:()=>nw,GfV:()=>tv,Gpc:()=>We,HDt:()=>Ym,Hsn:()=>ey,Ikx:()=>wy,JOm:()=>sa,KtG:()=>Ll,LFG:()=>Ct,LMc:()=>gS,LSH:()=>k_,Lbi:()=>vu,Lck:()=>LI,MAs:()=>LT,MGl:()=>Gf,MMx:()=>sp,NdJ:()=>Qv,Ojb:()=>Z_,OlP:()=>rn,Oqu:()=>Nu,P3R:()=>F_,PXZ:()=>nN,Q6J:()=>TE,QGY:()=>RE,Qsj:()=>fs,R0b:()=>Hi,RDi:()=>ff,Rgc:()=>vc,SBq:()=>Nf,SDv:()=>ID,Sil:()=>ZA,Suo:()=>d1,TTD:()=>Ol,TgZ:()=>Yv,Tol:()=>dy,VKq:()=>VD,VuI:()=>hS,W1O:()=>g1,WLB:()=>Fm,X6Q:()=>H1,XFs:()=>qe,Xpm:()=>Dl,Xq5:()=>gE,Xts:()=>Bd,Y36:()=>Zd,YKP:()=>ND,YNc:()=>Wv,Yjl:()=>Sc,Yz7:()=>ct,Z0I:()=>K,ZZ4:()=>vl,_Bn:()=>AD,_UZ:()=>bm,_c5:()=>kw,_uU:()=>my,aQg:()=>P0,c2e:()=>S1,cJS:()=>cn,cg1:()=>Cy,dDg:()=>gp,dqk:()=>Rt,eFA:()=>e_,eJc:()=>e0,ekj:()=>cy,eoX:()=>mp,f3M:()=>Mt,g9A:()=>W_,h0i:()=>Uu,hGG:()=>sS,hij:()=>Cm,iGM:()=>tw,ifc:()=>br,ip1:()=>_l,jDz:()=>MD,kEZ:()=>Hy,kL8:()=>rD,lG2:()=>ko,lcZ:()=>WD,lqb:()=>Gr,lri:()=>fp,n5z:()=>dr,oAB:()=>Na,oxw:()=>ME,q4F:()=>Mb,qFp:()=>mS,qLn:()=>fa,qOj:()=>uE,qZA:()=>ym,rWj:()=>pp,rg0:()=>jc,s9C:()=>Em,sBO:()=>W1,s_b:()=>Um,soG:()=>Ih,tb:()=>D0,tp0:()=>Kl,uIk:()=>Mv,vHH:()=>oe,vpe:()=>Vs,wAp:()=>hh,xi3:()=>zD,xp6:()=>zb,ynx:()=>Jv,z2F:()=>Hu,zSh:()=>B_,zW0:()=>am,zs3:()=>Bs});var l=O(8645),Q=O(7394),x=O(5592),te=O(3019),se=O(5619),de=O(2096),_e=O(3020),Re=O(4664),ue=O(3997);function V(r){for(let s in r)if(r[s]===V)return s;throw Error("Could not find renamed property on target object.")}function $(r,s){for(const a in s)s.hasOwnProperty(a)&&!r.hasOwnProperty(a)&&(r[a]=s[a])}function ne(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(ne).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Le(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const Ae=V({__forward_ref__:V});function We(r){return r.__forward_ref__=We,r.toString=function(){return ne(this())},r}function Pe(r){return Ye(r)?r():r}function Ye(r){return"function"==typeof r&&r.hasOwnProperty(Ae)&&r.__forward_ref__===We}function Oe(r){return r&&!!r.\u0275providers}const lt="https://g.co/ng/security#xss";class oe extends Error{constructor(s,a){super(function me(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,a)),this.code=s}}function re(r){return"string"==typeof r?r:null==r?"":String(r)}function je(r,s){throw new oe(-201,!1)}function Ge(r,s,a,c){throw new Error(`ASSERTION ERROR: ${r}`+(null==c?"":` [Expected=> ${a} ${c} ${s} <=Actual]`))}function ct(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function cn(r){return{providers:r.providers||[],imports:r.imports||[]}}function Tn(r){return q(r,Be)||q(r,un)}function K(r){return null!==Tn(r)}function q(r,s){return r.hasOwnProperty(s)?r[s]:null}function Ie(r){return r&&(r.hasOwnProperty(Xe)||r.hasOwnProperty(Zt))?r[Xe]:null}const Be=V({\u0275prov:V}),Xe=V({\u0275inj:V}),un=V({ngInjectableDef:V}),Zt=V({ngInjectorDef:V});var qe=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(qe||{});let ot;function Yt(r){const s=ot;return ot=r,s}function on(r,s,a){const c=Tn(r);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&qe.Optional?null:void 0!==s?s:void je(ne(r))}const Rt=globalThis,ze={},et="__NG_DI_FLAG__",mt="ngTempTokenPath",j=/\n/gm,J="__source";let Te;function it(r){const s=Te;return Te=r,s}function St(r,s=qe.Default){if(void 0===Te)throw new oe(-203,!1);return null===Te?on(r,void 0,s):Te.get(r,s&qe.Optional?null:void 0,s)}function Ct(r,s=qe.Default){return(function yt(){return ot}()||St)(Pe(r),s)}function Mt(r,s=qe.Default){return Ct(r,Wn(s))}function Wn(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Kt(r){const s=[];for(let a=0;a<r.length;a++){const c=Pe(r[a]);if(Array.isArray(c)){if(0===c.length)throw new oe(900,!1);let d,p=qe.Default;for(let m=0;m<c.length;m++){const b=c[m],w=Es(b);"number"==typeof w?-1===w?d=b.token:p|=w:d=b}s.push(Ct(d,p))}else s.push(Ct(c))}return s}function ui(r,s){return r[et]=s,r.prototype[et]=s,r}function Es(r){return r[et]}function xr(r){return{toString:r}.toString()}var Ds=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Ds||{}),br=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(br||{});const Er={},$t=[],ws=V({\u0275cmp:V}),No=V({\u0275dir:V}),Aa=V({\u0275pipe:V}),Wu=V({\u0275mod:V}),Pr=V({\u0275fac:V}),Ro=V({__NG_ELEMENT_ID__:V}),Mo=V({__NG_ENV_ID__:V});function Dc(r,s,a){let c=r.length;for(;;){const d=r.indexOf(s,a);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const p=s.length;if(d+p===c||r.charCodeAt(d+p)<=32)return d}a=d+1}}function Oo(r,s,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const p=a[c++],m=a[c++],b=a[c++];r.setAttribute(s,m,b,p)}else{const p=d,m=a[++c];nr(p)?r.setProperty(s,p,m):r.setAttribute(s,p,m),c++}}return c}function wc(r){return 3===r||4===r||6===r}function nr(r){return 64===r.charCodeAt(0)}function zs(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let a=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?a=d:0===a||Fi(r,a,d,null,-1===a||2===a?s[++c]:null)}}return r}function Fi(r,s,a,c,d){let p=0,m=r.length;if(-1===s)m=-1;else for(;p<r.length;){const b=r[p++];if("number"==typeof b){if(b===s){m=-1;break}if(b>s){m=p-1;break}}}for(;p<r.length;){const b=r[p];if("number"==typeof b)break;if(b===a){if(null===c)return void(null!==d&&(r[p+1]=d));if(c===r[p+1])return void(r[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==m&&(r.splice(m,0,s),p=m+1),r.splice(p++,0,a),null!==c&&r.splice(p++,0,c),null!==d&&r.splice(p++,0,d)}const Cc="ng-template";function zn(r,s,a){let c=0,d=!0;for(;c<r.length;){let p=r[c++];if("string"==typeof p&&d){const m=r[c++];if(a&&"class"===p&&-1!==Dc(m.toLowerCase(),s,0))return!0}else{if(1===p){for(;c<r.length&&"string"==typeof(p=r[c++]);)if(p.toLowerCase()===s)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function ir(r){return 4===r.type&&r.value!==Cc}function Vp(r,s,a){return s===(4!==r.type||a?r.value:Cc)}function Rh(r,s,a){let c=4;const d=r.attrs||[],p=function Up(r){for(let s=0;s<r.length;s++)if(wc(r[s]))return s;return r.length}(d);let m=!1;for(let b=0;b<s.length;b++){const w=s[b];if("number"!=typeof w){if(!m)if(4&c){if(c=2|1&c,""!==w&&!Vp(r,w,a)||""===w&&1===s.length){if(Li(c))return!1;m=!0}}else{const S=8&c?w:s[++b];if(8&c&&null!==r.attrs){if(!zn(r.attrs,S,a)){if(Li(c))return!1;m=!0}continue}const L=xo(8&c?"class":w,d,ir(r),a);if(-1===L){if(Li(c))return!1;m=!0;continue}if(""!==S){let Z;Z=L>p?"":d[L+1].toLowerCase();const ie=8&c?Z:null;if(ie&&-1!==Dc(ie,S,0)||2&c&&S!==Z){if(Li(c))return!1;m=!0}}}}else{if(!m&&!Li(c)&&!Li(w))return!1;if(m&&Li(w))continue;m=!1,c=w|1&c}}return Li(c)||m}function Li(r){return 0==(1&r)}function xo(r,s,a,c){if(null===s)return-1;let d=0;if(c||!a){let p=!1;for(;d<s.length;){const m=s[d];if(m===r)return d;if(3===m||6===m)p=!0;else{if(1===m||2===m){let b=s[++d];for(;"string"==typeof b;)b=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=p?1:2}return-1}return function Zs(r,s){let a=r.indexOf(4);if(a>-1)for(a++;a<r.length;){const c=r[a];if("number"==typeof c)return-1;if(c===s)return a;a++}return-1}(s,r)}function Tc(r,s,a=!1){for(let c=0;c<s.length;c++)if(Rh(r,s[c],a))return!0;return!1}function Zu(r,s){e:for(let a=0;a<s.length;a++){const c=s[a];if(r.length===c.length){for(let d=0;d<r.length;d++)if(r[d]!==c[d])continue e;return!0}}return!1}function Po(r,s){return r?":not("+s.trim()+")":s}function Cs(r){let s=r[0],a=1,c=2,d="",p=!1;for(;a<r.length;){let m=r[a];if("string"==typeof m)if(2&c){const b=r[++a];d+="["+m+(b.length>0?'="'+b+'"':"")+"]"}else 8&c?d+="."+m:4&c&&(d+=" "+m);else""!==d&&!Li(m)&&(s+=Po(p,d),d=""),c=m,p=p||!Li(c);a++}return""!==d&&(s+=Po(p,d)),s}function Dl(r){return xr(()=>{const s=Ac(r),a={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Ds.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||br.Emulated,styles:r.styles||$t,_:null,schemas:r.schemas||null,tView:null,id:""};Mh(a);const c=r.dependencies;return a.directiveDefs=Fo(c,!1),a.pipeDefs=Fo(c,!0),a.id=function sr(r){let s=0;const a=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const d of a)s=Math.imul(31,s)+d.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(a),a})}function Ic(r){return Gt(r)||Fn(r)}function wl(r){return null!==r}function Na(r){return xr(()=>({type:r.type,bootstrap:r.bootstrap||$t,declarations:r.declarations||$t,imports:r.imports||$t,exports:r.exports||$t,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function Cl(r,s){if(null==r)return Er;const a={};for(const c in r)if(r.hasOwnProperty(c)){let d=r[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=c,s&&(s[d]=p)}return a}function ko(r){return xr(()=>{const s=Ac(r);return Mh(s),s})}function Sc(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Gt(r){return r[ws]||null}function Fn(r){return r[No]||null}function Si(r){return r[Aa]||null}function Ts(r){const s=Gt(r)||Fn(r)||Si(r);return null!==s&&s.standalone}function Ai(r,s){const a=r[Wu]||null;if(!a&&!0===s)throw new Error(`Type ${ne(r)} does not have '\u0275mod' property.`);return a}function Ac(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||Er,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||$t,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cl(r.inputs,s),outputs:Cl(r.outputs)}}function Mh(r){r.features?.forEach(s=>s(r))}function Fo(r,s){if(!r)return null;const a=s?Si:Ic;return()=>("function"==typeof r?r():r).map(c=>a(c)).filter(wl)}const Sn=0,tt=1,bt=2,An=3,Ni=4,Ys=5,di=6,Ra=7,On=8,qr=9,Lo=10,Dt=11,hi=12,Oh=13,Is=14,Nn=15,Nc=16,Ks=17,ti=18,Jr=19,Qr=20,Ss=21,or=22,Ma=23,As=24,Ot=25,Bo=1,Il=2,ni=7,ii=9,fi=11;function ri(r){return Array.isArray(r)&&"object"==typeof r[Bo]}function wi(r){return Array.isArray(r)&&!0===r[Bo]}function Sl(r){return 0!=(4&r.flags)}function Js(r){return r.componentOffset>-1}function Wi(r){return 1==(1&r.flags)}function Bi(r){return!!r.template}function Vo(r){return 0!=(512&r[bt])}function Qs(r,s){return r.hasOwnProperty(Pr)?r[Pr]:null}let Yn=null,Xs=!1;function Vi(r){const s=Yn;return Yn=r,s}const eo={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Pa(r){if(!to(r)||r.dirty){if(!r.producerMustRecompute(r)&&!Fc(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function ka(r){r.dirty=!0,function ed(r){if(void 0===r.liveConsumerNode)return;const s=Xs;Xs=!0;try{for(const a of r.liveConsumerNode)a.dirty||ka(a)}finally{Xs=s}}(r),r.consumerMarkedDirty?.(r)}function td(r){return r&&(r.nextProducerIndex=0),Vi(r)}function si(r,s){if(Vi(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(to(r))for(let a=r.nextProducerIndex;a<r.producerNode.length;a++)Fa(r.producerNode[a],r.producerIndexOfThis[a]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Fc(r){Rs(r);for(let s=0;s<r.producerNode.length;s++){const a=r.producerNode[s],c=r.producerLastReadVersion[s];if(c!==a.version||(Pa(a),c!==a.version))return!0}return!1}function Lc(r){if(Rs(r),to(r))for(let s=0;s<r.producerNode.length;s++)Fa(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function Fa(r,s){if(function La(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),Rs(r),1===r.liveConsumerNode.length)for(let c=0;c<r.producerNode.length;c++)Fa(r.producerNode[c],r.producerIndexOfThis[c]);const a=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[a],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[a],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const c=r.liveConsumerIndexOfThis[s],d=r.liveConsumerNode[s];Rs(d),d.producerIndexOfThis[c]=s}}function to(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Rs(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let rd=null;function jc(r){const s=Vi(null);try{return r()}finally{Vi(s)}}const Hc=()=>{},Bh=(()=>({...eo,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Hc}))();class Vh{constructor(s,a,c){this.previousValue=s,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ol(){return Ua}function Ua(r){return r.type.prototype.ngOnChanges&&(r.setInput=no),Uh}function Uh(){const r=io(this),s=r?.current;if(s){const a=r.previous;if(a===Er)r.previous=s;else for(let c in s)a[c]=s[c];r.current=null,this.ngOnChanges(s)}}function no(r,s,a,c){const d=this.declaredInputs[a],p=io(r)||function od(r,s){return r[Fr]=s}(r,{previous:Er,current:null}),m=p.current||(p.current={}),b=p.previous,w=b[d];m[d]=new Vh(w&&w.currentValue,s,b===Er),r[c]=s}Ol.ngInherit=!0;const Fr="__ngSimpleChanges__";function io(r){return r[Fr]||null}const Dr=function(r,s,a){};function Xt(r){for(;Array.isArray(r);)r=r[Sn];return r}function so(r,s){return Xt(s[r])}function pi(r,s){return Xt(s[r.index])}function Gc(r,s){return r.data[s]}function oo(r,s){return r[s]}function gi(r,s){const a=s[r];return ri(a)?a:a[Sn]}function Ui(r,s){return null==s?null:r[s]}function Wh(r){r[Ks]=0}function Wc(r){1024&r[bt]||(r[bt]|=1024,Kp(r,1))}function xl(r){1024&r[bt]&&(r[bt]&=-1025,Kp(r,-1))}function Kp(r,s){let a=r[An];if(null===a)return;a[Ys]+=s;let c=a;for(a=a[An];null!==a&&(1===s&&1===c[Ys]||-1===s&&0===c[Ys]);)a[Ys]+=s,c=a,a=a[An]}const wt={lFrame:Kn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function mi(){return wt.bindingsEnabled}function Lr(){return null!==wt.skipHydrationRootTNode}function Me(){return wt.lFrame.lView}function Ut(){return wt.lFrame.tView}function wr(r){return wt.lFrame.contextLView=r,r[On]}function Ll(r){return wt.lFrame.contextLView=null,r}function ai(){let r=Bl();for(;null!==r&&64===r.type;)r=r.parent;return r}function Bl(){return wt.lFrame.currentTNode}function zo(){const r=wt.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}function Ms(r,s){const a=wt.lFrame;a.currentTNode=r,a.isParent=s}function ao(){return wt.lFrame.isParent}function Yc(){wt.lFrame.isParent=!1}function ji(){const r=wt.lFrame;let s=r.bindingRootIndex;return-1===s&&(s=r.bindingRootIndex=r.tView.bindingStartIndex),s}function lo(){return wt.lFrame.bindingIndex++}function Os(r){const s=wt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,a}function pd(r){wt.lFrame.inI18n=r}function Vl(r,s){const a=wt.lFrame;a.bindingIndex=a.bindingRootIndex=r,Ul(s)}function Ul(r){wt.lFrame.currentDirectiveIndex=r}function jl(){return wt.lFrame.currentQueryIndex}function md(r){wt.lFrame.currentQueryIndex=r}function _d(r){const s=r[tt];return 2===s.type?s.declTNode:1===s.type?r[di]:null}function Zh(r,s,a){if(a&qe.SkipSelf){let d=s,p=r;for(;!(d=d.parent,null!==d||a&qe.Host||(d=_d(p),null===d||(p=p[Is],10&d.type))););if(null===d)return!1;s=d,r=p}const c=wt.lFrame=Hl();return c.currentTNode=s,c.lView=r,!0}function _i(r){const s=Hl(),a=r[tt];wt.lFrame=s,s.currentTNode=a.firstChild,s.lView=r,s.tView=a,s.contextLView=r,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Hl(){const r=wt.lFrame,s=null===r?null:r.child;return null===s?Kn(r):s}function Kn(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function vt(){const r=wt.lFrame;return wt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const es=vt;function Tt(){const r=vt();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function en(){return wt.lFrame.selectedIndex}function mn(r){wt.lFrame.selectedIndex=r}function En(){const r=wt.lFrame;return Gc(r.tView,r.selectedIndex)}let Cr=!0;function Br(){return Cr}function Vr(r){Cr=r}function Ga(r,s){for(let a=s.directiveStart,c=s.directiveEnd;a<c;a++){const p=r.data[a].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:b,ngAfterViewInit:w,ngAfterViewChecked:S,ngOnDestroy:M}=p;m&&(r.contentHooks??=[]).push(-a,m),b&&((r.contentHooks??=[]).push(a,b),(r.contentCheckHooks??=[]).push(a,b)),w&&(r.viewHooks??=[]).push(-a,w),S&&((r.viewHooks??=[]).push(a,S),(r.viewCheckHooks??=[]).push(a,S)),null!=M&&(r.destroyHooks??=[]).push(a,M)}}function Wa(r,s,a){$l(r,s,3,a)}function Ur(r,s,a,c){(3&r[bt])===a&&$l(r,s,a,c)}function lr(r,s){let a=r[bt];(3&a)===s&&(a&=8191,a+=1,r[bt]=a)}function $l(r,s,a,c){const p=c??-1,m=s.length-1;let b=0;for(let w=void 0!==c?65535&r[Ks]:0;w<m;w++)if("number"==typeof s[w+1]){if(b=s[w],null!=c&&b>=c)break}else s[w]<0&&(r[Ks]+=65536),(b<p||-1==p)&&(Yo(r,a,s,w),r[Ks]=(4294901760&r[Ks])+w+2),w++}function F(r,s){Dr(4,r,s);const a=Vi(null);try{s.call(r)}finally{Vi(a),Dr(5,r,s)}}function Yo(r,s,a,c){const d=a[c]<0,p=a[c+1],b=r[d?-a[c]:a[c]];d?r[bt]>>13<r[Ks]>>16&&(3&r[bt])===s&&(r[bt]+=8192,F(b,p)):F(b,p)}const ns=-1;class is{constructor(s,a,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function qo(r){return r!==ns}function co(r){return 32767&r}function Zi(r,s){let a=function Za(r){return r>>16}(r),c=s;for(;a>0;)c=c[Is],a--;return c}let zl=!0;function Ya(r){const s=zl;return zl=r,s}const Jo=255,Qc=5;let cr=0;const Dn={};function jr(r,s){const a=ur(r,s);if(-1!==a)return a;const c=s[tt];c.firstCreatePass&&(r.injectorIndex=s.length,Ka(c.data,r),Ka(s,null),Ka(c.blueprint,null));const d=Ci(r,s),p=r.injectorIndex;if(qo(d)){const m=co(d),b=Zi(d,s),w=b[tt].data;for(let S=0;S<8;S++)s[p+S]=b[m+S]|w[m+S]}return s[p+8]=d,p}function Ka(r,s){r.push(0,0,0,0,0,0,0,0,s)}function ur(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function Ci(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let a=0,c=null,d=s;for(;null!==d;){if(c=fo(d),null===c)return ns;if(a++,d=d[Is],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return ns}function Tr(r,s,a){!function Xc(r,s,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(Ro)&&(c=a[Ro]),null==c&&(c=a[Ro]=cr++);const d=c&Jo;s.data[r+(d>>Qc)]|=1<<d}(r,s,a)}function rs(r,s,a){if(a&qe.Optional||void 0!==r)return r;je()}function uo(r,s,a,c){if(a&qe.Optional&&void 0===c&&(c=null),!(a&(qe.Self|qe.Host))){const d=r[qr],p=Yt(void 0);try{return d?d.get(s,c,a&qe.Optional):on(s,c,a&qe.Optional)}finally{Yt(p)}}return rs(c,0,a)}function qa(r,s,a,c=qe.Default,d){if(null!==r){if(2048&s[bt]&&!(c&qe.Self)){const m=function Xp(r,s,a,c,d){let p=r,m=s;for(;null!==p&&null!==m&&2048&m[bt]&&!(512&m[bt]);){const b=Jn(p,m,a,c|qe.Self,Dn);if(b!==Dn)return b;let w=p.parent;if(!w){const S=m[Qr];if(S){const M=S.get(a,Dn,c);if(M!==Dn)return M}w=fo(m),m=m[Is]}p=w}return d}(r,s,a,c,Dn);if(m!==Dn)return m}const p=Jn(r,s,a,c,Dn);if(p!==Dn)return p}return uo(s,a,c,d)}function Jn(r,s,a,c,d){const p=function Kh(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(Ro)?r[Ro]:void 0;return"number"==typeof s?s>=0?s&Jo:Yl:s}(a);if("function"==typeof p){if(!Zh(s,r,c))return c&qe.Host?rs(d,0,c):uo(s,a,c,d);try{let m;if(m=p(c),null!=m||c&qe.Optional)return m;je()}finally{es()}}else if("number"==typeof p){let m=null,b=ur(r,s),w=ns,S=c&qe.Host?s[Nn][di]:null;for((-1===b||c&qe.SkipSelf)&&(w=-1===b?Ci(r,s):s[b+8],w!==ns&&nu(c,!1)?(m=s[tt],b=co(w),s=Zi(w,s)):b=-1);-1!==b;){const M=s[tt];if(ss(p,b,M.data)){const L=eu(b,s,a,m,c,S);if(L!==Dn)return L}w=s[b+8],w!==ns&&nu(c,s[tt].data[b+8]===S)&&ss(p,b,s)?(m=M,b=co(w),s=Zi(w,s)):b=-1}}return d}function eu(r,s,a,c,d,p){const m=s[tt],b=m.data[r+8],M=tu(b,m,a,null==c?Js(b)&&zl:c!=m&&0!=(3&b.type),d&qe.Host&&p===b);return null!==M?ho(s,m,M,b):Dn}function tu(r,s,a,c,d){const p=r.providerIndexes,m=s.data,b=1048575&p,w=r.directiveStart,M=p>>20,Z=d?b+M:r.directiveEnd;for(let ie=c?b:b+M;ie<Z;ie++){const Ee=m[ie];if(ie<w&&a===Ee||ie>=w&&Ee.type===a)return ie}if(d){const ie=m[w];if(ie&&Bi(ie)&&ie.type===a)return w}return null}function ho(r,s,a,c){let d=r[a];const p=s.data;if(function vd(r){return r instanceof is}(d)){const m=d;m.resolving&&function xe(r,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new oe(-200,`Circular dependency in DI detected for ${r}${a}`)}(function we(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():re(r)}(p[a]));const b=Ya(m.canSeeViewProviders);m.resolving=!0;const S=m.injectImpl?Yt(m.injectImpl):null;Zh(r,c,qe.Default);try{d=r[a]=m.factory(void 0,p,r,c),s.firstCreatePass&&a>=c.directiveStart&&function Bn(r,s,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=s.type.prototype;if(c){const m=Ua(s);(a.preOrderHooks??=[]).push(r,m),(a.preOrderCheckHooks??=[]).push(r,m)}d&&(a.preOrderHooks??=[]).push(0-r,d),p&&((a.preOrderHooks??=[]).push(r,p),(a.preOrderCheckHooks??=[]).push(r,p))}(a,p[a],s)}finally{null!==S&&Yt(S),Ya(b),m.resolving=!1,es()}}return d}function ss(r,s,a){return!!(a[s+(r>>Qc)]&1<<r)}function nu(r,s){return!(r&qe.Self||r&qe.Host&&s)}class _n{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,c){return qa(this._tNode,this._lView,s,Wn(c),a)}}function Yl(){return new _n(ai(),Me())}function dr(r){return xr(()=>{const s=r.prototype.constructor,a=s[Pr]||yd(s),c=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==c;){const p=d[Pr]||yd(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function yd(r){return Ye(r)?()=>{const s=yd(Pe(r));return s&&s()}:Qs(r)}function fo(r){const s=r[tt],a=s.type;return 2===a?s.declTNode:1===a?r[di]:null}function Qo(r){return function Zl(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const a=r.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const p=a[d];if(wc(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(p===s)return a[d+1];d+=2}}}return null}(ai(),r)}const Xo="__parameters__";function k(r,s,a){return xr(()=>{const c=function A(r){return function(...a){if(r){const c=r(...a);for(const d in c)this[d]=c[d]}}}(s);function d(...p){if(this instanceof d)return c.apply(this,p),this;const m=new d(...p);return b.annotation=m,b;function b(w,S,M){const L=w.hasOwnProperty(Xo)?w[Xo]:Object.defineProperty(w,Xo,{value:[]})[Xo];for(;L.length<=M;)L.push(null);return(L[M]=L[M]||[]).push(m),w}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}function ea(r,s){r.forEach(a=>Array.isArray(a)?ea(a,s):s(a))}function qh(r,s,a){s>=r.length?r.push(a):r.splice(s,0,a)}function bd(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function ta(r,s){const a=[];for(let c=0;c<r;c++)a.push(s);return a}function Ir(r,s,a){let c=Qa(r,s);return c>=0?r[1|c]=a:(c=~c,function tg(r,s,a,c){let d=r.length;if(d==s)r.push(a,c);else if(1===d)r.push(c,r[0]),r[0]=a;else{for(d--,r.push(r[d-1],r[d]);d>s;)r[d]=r[d-2],d--;r[s]=a,r[s+1]=c}}(r,c,s,a)),c}function Ed(r,s){const a=Qa(r,s);if(a>=0)return r[1|a]}function Qa(r,s){return function ng(r,s,a){let c=0,d=r.length>>a;for(;d!==c;){const p=c+(d-c>>1),m=r[p<<a];if(s===m)return p<<a;m>s?d=p:c=p+1}return~(d<<a)}(r,s,1)}const wd=ui(k("Optional"),8),Kl=ui(k("SkipSelf"),4);function Hr(r){return 128==(128&r.flags)}var sa=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(sa||{});const Id=/^>|^->|<!--|-->|--!>|<!-$/g,mo=/(<|>)/g,ls="\u200b$1\u200b";const Sr=new Map;let w_=0;const _o="__ngContext__";function Ri(r,s){ri(s)?(r[_o]=s[Jr],function hr(r){Sr.set(r[Jr],r)}(s)):r[_o]=s}let H;function W(r,s){return H(r,s)}function Ue(r){const s=r[An];return wi(s)?s[An]:s}function Mn(r){return il(r[hi])}function $r(r){return il(r[Ni])}function il(r){for(;null!==r&&!wi(r);)r=r[Ni];return r}function la(r,s,a,c,d){if(null!=c){let p,m=!1;wi(c)?p=c:ri(c)&&(m=!0,c=c[Sn]);const b=Xt(c);0===r&&null!==a?null==d?eb(s,a,b):ua(s,a,b,d||null,!0):1===r&&null!==a?ua(s,a,b,d||null,!0):2===r?function pu(r,s,a){const c=Md(r,s);c&&function Rd(r,s,a,c){r.removeChild(s,a,c)}(r,c,s,a)}(s,b,m):3===r&&s.destroyNode(b),null!=p&&function hC(r,s,a,c,d){const p=a[ni];p!==Xt(a)&&la(s,r,c,p,d);for(let b=fi;b<a.length;b++){const w=a[b];da(w[tt],w,r,s,c,p)}}(s,r,p,a,d)}}function cs(r,s){return r.createText(s)}function ca(r,s){return r.createComment(function uu(r){return r.replace(Id,s=>s.replace(mo,ls))}(s))}function Xl(r,s,a){return r.createElement(s,a)}function vg(r,s){const a=r[ii],c=a.indexOf(s);xl(s),a.splice(c,1)}function Nd(r,s){if(r.length<=fi)return;const a=fi+s,c=r[a];if(c){const d=c[Nc];null!==d&&d!==r&&vg(d,c),s>0&&(r[a-1][Ni]=c[Ni]);const p=bd(r,fi+s);!function Ad(r,s){da(r,s,s[Dt],2,null,null),s[Sn]=null,s[di]=null}(c[tt],c);const m=p[ti];null!==m&&m.detachView(p[tt]),c[An]=null,c[Ni]=null,c[bt]&=-129}return c}function S_(r,s){if(!(256&s[bt])){const a=s[Dt];s[Ma]&&Lc(s[Ma]),s[As]&&Lc(s[As]),a.destroyNode&&da(r,s,a,3,null,null),function hu(r){let s=r[hi];if(!s)return lf(r[tt],r);for(;s;){let a=null;if(ri(s))a=s[hi];else{const c=s[fi];c&&(a=c)}if(!a){for(;s&&!s[Ni]&&s!==r;)ri(s)&&lf(s[tt],s),s=s[An];null===s&&(s=r),ri(s)&&lf(s[tt],s),a=s&&s[Ni]}s=a}}(s)}}function lf(r,s){if(!(256&s[bt])){s[bt]&=-129,s[bt]|=256,function yg(r,s){let a;if(null!=r&&null!=(a=r.destroyHooks))for(let c=0;c<a.length;c+=2){const d=s[a[c]];if(!(d instanceof is)){const p=a[c+1];if(Array.isArray(p))for(let m=0;m<p.length;m+=2){const b=d[p[m]],w=p[m+1];Dr(4,b,w);try{w.call(b)}finally{Dr(5,b,w)}}else{Dr(4,d,p);try{p.call(d)}finally{Dr(5,d,p)}}}}}(r,s),function uC(r,s){const a=r.cleanup,c=s[Ra];if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const m=a[p+3];m>=0?c[m]():c[-m].unsubscribe(),p+=2}else a[p].call(c[a[p+1]]);null!==c&&(s[Ra]=null);const d=s[Ss];if(null!==d){s[Ss]=null;for(let p=0;p<d.length;p++)(0,d[p])()}}(r,s),1===s[tt].type&&s[Dt].destroy();const a=s[Nc];if(null!==a&&wi(s[An])){a!==s[An]&&vg(a,s);const c=s[ti];null!==c&&c.detachView(r)}!function du(r){Sr.delete(r[Jr])}(s)}}function bg(r,s,a){return A_(r,s.parent,a)}function A_(r,s,a){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return a[Sn];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:p}=r.data[c.directiveStart+d];if(p===br.None||p===br.Emulated)return null}return pi(c,a)}}function ua(r,s,a,c,d){r.insertBefore(s,a,c,d)}function eb(r,s,a){r.appendChild(s,a)}function cf(r,s,a,c,d){null!==c?ua(r,s,a,c,d):eb(r,s,a)}function Md(r,s){return r.parentNode(s)}function nb(r,s,a){return ib(r,s,a)}function N_(r,s,a){return 40&r.type?pi(r,a):null}let R_,nc,ds,pf,ib=N_;function rb(r,s){ib=r,R_=s}function us(r,s,a,c){const d=bg(r,c,s),p=s[Dt],b=nb(c.parent||s[di],c,s);if(null!=d)if(Array.isArray(a))for(let w=0;w<a.length;w++)cf(p,d,a[w],b,!1);else cf(p,d,a,b,!1);void 0!==R_&&R_(p,c,s,a,d)}function fu(r,s){if(null!==s){const a=s.type;if(3&a)return pi(s,r);if(4&a)return uf(-1,r[s.index]);if(8&a){const c=s.child;if(null!==c)return fu(r,c);{const d=r[s.index];return wi(d)?uf(-1,d):Xt(d)}}if(32&a)return W(s,r)()||Xt(r[s.index]);{const c=Eg(r,s);return null!==c?Array.isArray(c)?c[0]:fu(Ue(r[Nn]),c):fu(r,s.next)}}return null}function Eg(r,s){return null!==s?r[Nn][di].projection[s.projection]:null}function uf(r,s){const a=fi+r+1;if(a<s.length){const c=s[a],d=c[tt].firstChild;if(null!==d)return fu(c,d)}return s[ni]}function sl(r,s,a,c,d,p,m){for(;null!=a;){const b=c[a.index],w=a.type;if(m&&0===s&&(b&&Ri(Xt(b),c),a.flags|=2),32!=(32&a.flags))if(8&w)sl(r,s,a.child,c,d,p,!1),la(s,r,d,b,p);else if(32&w){const S=W(a,c);let M;for(;M=S();)la(s,r,d,M,p);la(s,r,d,b,p)}else 16&w?sb(r,s,c,a,d,p):la(s,r,d,b,p);a=m?a.projectionNext:a.next}}function da(r,s,a,c,d,p){sl(a,c,r.firstChild,s,d,p,!1)}function sb(r,s,a,c,d,p){const m=a[Nn],w=m[di].projection[c.projection];if(Array.isArray(w))for(let S=0;S<w.length;S++)la(s,r,d,w[S],p);else{let S=w;const M=m[An];Hr(c)&&(S.flags|=128),sl(r,s,S,M,d,p,!0)}}function ob(r,s,a){""===a?r.removeAttribute(s,"class"):r.setAttribute(s,"class",a)}function hf(r,s,a){const{mergedAttrs:c,classes:d,styles:p}=a;null!==c&&Oo(r,s,c),null!==d&&ob(r,s,d),null!==p&&function fC(r,s,a){r.setAttribute(s,"style",a)}(r,s,p)}function ol(r){return function Dg(){if(void 0===nc&&(nc=null,Rt.trustedTypes))try{nc=Rt.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return nc}()?.createHTML(r)||r}function ff(r){ds=r}function ic(){if(void 0!==ds)return ds;if(typeof document<"u")return document;throw new oe(210,!1)}function al(r){return function gf(){if(void 0===pf&&(pf=null,Rt.trustedTypes))try{pf=Rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return pf}()?.createScriptURL(r)||r}class wg{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lt})`}}function sc(r){return r instanceof wg?r.changingThisBreaksApplicationSecurity:r}function mf(r,s){const a=function mC(r){return r instanceof wg&&r.getTypeName()||null}(r);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${lt})`)}return a===s}class yC{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(ol(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class bC{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=ol(s),a}}const DC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Pd(r){return(r=String(r)).match(DC)?r:"unsafe:"+r}function vo(r){const s={};for(const a of r.split(","))s[a]=!0;return s}function kd(...r){const s={};for(const a of r)for(const c in a)a.hasOwnProperty(c)&&(s[c]=!0);return s}const _f=vo("area,br,col,hr,img,wbr"),cb=vo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tg=vo("rp,rt"),x_=kd(_f,kd(cb,vo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),kd(Tg,vo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),kd(Tg,cb)),Ig=vo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),db=kd(Ig,vo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),vo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Fd=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(Fd||{});function k_(r){const s=Ld();return s?s.sanitize(Fd.URL,r)||"":mf(r,"URL")?sc(r):Pd(re(r))}function fb(r){const s=Ld();if(s)return al(s.sanitize(Fd.RESOURCE_URL,r)||"");if(mf(r,"ResourceURL"))return al(sc(r));throw new oe(904,!1)}function F_(r,s,a){return function OC(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?fb:k_}(s,a)(r)}function Ld(){const r=Me();return r&&r[Lo].sanitizer}class rn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=ct({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Bd=new rn("ENVIRONMENT_INITIALIZER"),gb=new rn("INJECTOR",-1),mb=new rn("INJECTOR_DEF_TYPES");class L_{get(s,a=ze){if(a===ze){const c=new Error(`NullInjectorError: No provider for ${ne(s)}!`);throw c.name="NullInjectorError",c}return a}}function _b(...r){return{\u0275providers:vb(0,r),\u0275fromNgModule:!0}}function vb(r,...s){const a=[],c=new Set;let d;const p=m=>{a.push(m)};return ea(s,m=>{const b=m;yf(b,p,[],c)&&(d||=[],d.push(b))}),void 0!==d&&yb(d,p),a}function yb(r,s){for(let a=0;a<r.length;a++){const{ngModule:c,providers:d}=r[a];Mg(d,p=>{s(p,c)})}}function yf(r,s,a,c){if(!(r=Pe(r)))return!1;let d=null,p=Ie(r);const m=!p&&Gt(r);if(p||m){if(m&&!m.standalone)return!1;d=r}else{const w=r.ngModule;if(p=Ie(w),!p)return!1;d=w}const b=c.has(d);if(m){if(b)return!1;if(c.add(d),m.dependencies){const w="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const S of w)yf(S,s,a,c)}}else{if(!p)return!1;{if(null!=p.imports&&!b){let S;c.add(d);try{ea(p.imports,M=>{yf(M,s,a,c)&&(S||=[],S.push(M))})}finally{}void 0!==S&&yb(S,s)}if(!b){const S=Qs(d)||(()=>new d);s({provide:d,useFactory:S,deps:$t},d),s({provide:mb,useValue:d,multi:!0},d),s({provide:Bd,useValue:()=>Ct(d),multi:!0},d)}const w=p.providers;if(null!=w&&!b){const S=r;Mg(w,M=>{s(M,S)})}}}return d!==r&&void 0!==r.providers}function Mg(r,s){for(let a of r)Oe(a)&&(a=a.\u0275providers),Array.isArray(a)?Mg(a,s):s(a)}const bb=V({provide:String,useValue:V});function ha(r){return null!==r&&"object"==typeof r&&bb in r}function _u(r){return"function"==typeof r}const B_=new rn("Set Injector scope."),Df={},V_={};let U_;function yo(){return void 0===U_&&(U_=new L_),U_}class Gr{}class Og extends Gr{get destroyed(){return this._destroyed}constructor(s,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,oc(s,m=>this.processProvider(m)),this.records.set(gb,Vd(void 0,this)),d.has("environment")&&this.records.set(Gr,Vd(void 0,this));const p=this.records.get(B_);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(mb.multi,$t,qe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of s)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=it(this),c=Yt(void 0);try{return s()}finally{it(a),Yt(c)}}get(s,a=ze,c=qe.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(Mo))return s[Mo](this);c=Wn(c);const p=it(this),m=Yt(void 0);try{if(!(c&qe.SkipSelf)){let w=this.records.get(s);if(void 0===w){const S=function FC(r){return"function"==typeof r||"object"==typeof r&&r instanceof rn}(s)&&Tn(s);w=S&&this.injectableDefInScope(S)?Vd(j_(s),Df):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(c&qe.Self?yo():this.parent).get(s,a=c&qe.Optional&&a===ze?null:a)}catch(b){if("NullInjectorError"===b.name){if((b[mt]=b[mt]||[]).unshift(ne(s)),p)throw b;return function Ao(r,s,a,c){const d=r[mt];throw s[J]&&d.unshift(s[J]),r.message=function Ec(r,s,a,c=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let d=ne(s);if(Array.isArray(s))d=s.map(ne).join(" -> ");else if("object"==typeof s){let p=[];for(let m in s)if(s.hasOwnProperty(m)){let b=s[m];p.push(m+":"+("string"==typeof b?JSON.stringify(b):ne(b)))}d=`{${p.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${r.replace(j,"\n  ")}`}("\n"+r.message,d,a,c),r.ngTokenPath=d,r[mt]=null,r}(b,s,"R3InjectorError",this.source)}throw b}finally{Yt(m),it(p)}}resolveInjectorInitializers(){const s=it(this),a=Yt(void 0);try{const d=this.get(Bd.multi,$t,qe.Self);for(const p of d)p()}finally{it(s),Yt(a)}}toString(){const s=[],a=this.records;for(const c of a.keys())s.push(ne(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processProvider(s){let a=_u(s=Pe(s))?s:Pe(s&&s.provide);const c=function xg(r){return ha(r)?Vd(void 0,r.useValue):Vd(H_(r),Df)}(s);if(_u(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Vd(void 0,Df,!0),d.factory=()=>Kt(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,c)}hydrate(s,a){return a.value===Df&&(a.value=V_,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Pg(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Pe(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function j_(r){const s=Tn(r),a=null!==s?s.factory:Qs(r);if(null!==a)return a;if(r instanceof rn)throw new oe(204,!1);if(r instanceof Function)return function kC(r){const s=r.length;if(s>0)throw ta(s,"?"),new oe(204,!1);const a=function fe(r){return r&&(r[Be]||r[un])||null}(r);return null!==a?()=>a.factory(r):()=>new r}(r);throw new oe(204,!1)}function H_(r,s,a){let c;if(_u(r)){const d=Pe(r);return Qs(d)||j_(d)}if(ha(r))c=()=>Pe(r.useValue);else if(function Ef(r){return!(!r||!r.useFactory)}(r))c=()=>r.useFactory(...Kt(r.deps||[]));else if(function bf(r){return!(!r||!r.useExisting)}(r))c=()=>Ct(Pe(r.useExisting));else{const d=Pe(r&&(r.useClass||r.provide));if(!function $_(r){return!!r.deps}(r))return Qs(d)||j_(d);c=()=>new d(...Kt(r.deps))}return c}function Vd(r,s,a=!1){return{factory:r,value:s,multi:a?[]:void 0}}function oc(r,s){for(const a of r)Array.isArray(a)?oc(a,s):a&&Oe(a)?oc(a.\u0275providers,s):s(a)}const G_=new rn("AppId",{providedIn:"root",factory:()=>Eb}),Eb="ng",W_=new rn("Platform Initializer"),vu=new rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Z_=new rn("CSP nonce",{providedIn:"root",factory:()=>ic().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Cb=(r,s,a)=>null;function Q_(r,s,a=!1){return Cb(r,s,a)}class Sf{}class Ab{}class Af{resolveComponentFactory(s){throw function Nb(r){const s=Error(`No component factory found for ${ne(r)}.`);return s.ngComponent=r,s}(s)}}let Hg=(()=>{class r{static#e=this.NULL=new Af}return r})();function Ls(){return Du(ai(),Me())}function Du(r,s){return new Nf(pi(r,s))}let Nf=(()=>{class r{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=Ls}return r})();function $g(r){return r instanceof Nf?r.nativeElement:r}class ev{}let fs=(()=>{class r{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Rb(){const r=Me(),a=gi(ai().index,r);return(ri(a)?a:r)[Dt]}()}return r})(),UC=(()=>{class r{static#e=this.\u0275prov=ct({token:r,providedIn:"root",factory:()=>null})}return r})();class tv{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Mb=new tv("16.2.8"),nv={};function kb(r,s=null,a=null,c){const d=Fb(r,s,a,c);return d.resolveInjectorInitializers(),d}function Fb(r,s=null,a=null,c,d=new Set){const p=[a||$t,_b(r)];return c=c||("object"==typeof r?void 0:ne(r)),new Og(p,s||yo(),c||null,d)}let Bs=(()=>{class r{static#e=this.THROW_IF_NOT_FOUND=ze;static#t=this.NULL=new L_;static create(a,c){if(Array.isArray(a))return kb({name:""},c,a,"");{const d=a.name??"";return kb({name:d},a.parent,a.providers,d)}}static#n=this.\u0275prov=ct({token:r,providedIn:"any",factory:()=>Ct(gb)});static#i=this.__NG_ELEMENT_ID__=-1}return r})();function sv(r){return r.ngOriginalError}class fa{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&sv(s);for(;a&&sv(a);)a=sv(a);return a||null}}function ov(r){return s=>{setTimeout(r,void 0,s)}}const Vs=class lc extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,c){let d=s,p=a||(()=>null),m=c;if(s&&"object"==typeof s){const w=s;d=w.next?.bind(w),p=w.error?.bind(w),m=w.complete?.bind(w)}this.__isAsync&&(p=ov(p),d&&(d=ov(d)),m&&(m=ov(m)));const b=super.subscribe({next:d,error:p,complete:m});return s instanceof Q.w0&&s.add(b),b}};function Of(...r){}class Hi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vs(!1),this.onMicrotaskEmpty=new Vs(!1),this.onStable=new Vs(!1),this.onError=new Vs(!1),typeof Zone>"u")throw new oe(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function $C(){const r="function"==typeof Rt.requestAnimationFrame;let s=Rt[r?"requestAnimationFrame":"setTimeout"],a=Rt[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Zg(r){const s=()=>{!function Vb(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Rt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Pf(r),r.isCheckStableRunning=!0,zg(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Pf(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,p,m,b)=>{if(function Hb(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(b))return a.invokeTask(d,p,m,b);try{return Yg(r),a.invokeTask(d,p,m,b)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||r.shouldCoalesceRunChangeDetection)&&s(),Ub(r)}},onInvoke:(a,c,d,p,m,b,w)=>{try{return Yg(r),a.invoke(d,p,m,b,w)}finally{r.shouldCoalesceRunChangeDetection&&s(),Ub(r)}},onHasTask:(a,c,d,p)=>{a.hasTask(d,p),c===d&&("microTask"==p.change?(r._hasPendingMicrotasks=p.microTask,Pf(r),zg(r)):"macroTask"==p.change&&(r.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,c,d,p)=>(a.handleError(d,p),r.runOutsideAngular(()=>r.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hi.isInAngularZone())throw new oe(909,!1)}static assertNotInAngularZone(){if(Hi.isInAngularZone())throw new oe(909,!1)}run(s,a,c){return this._inner.run(s,a,c)}runTask(s,a,c,d){const p=this._inner,m=p.scheduleEventTask("NgZoneEvent: "+d,s,Bb,Of,Of);try{return p.runTask(m,a,c)}finally{p.cancelTask(m)}}runGuarded(s,a,c){return this._inner.runGuarded(s,a,c)}runOutsideAngular(s){return this._outer.run(s)}}const Bb={};function zg(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Pf(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function Yg(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Ub(r){r._nesting--,zg(r)}class GC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vs,this.onMicrotaskEmpty=new Vs,this.onStable=new Vs,this.onError=new Vs}run(s,a,c){return s.apply(a,c)}runGuarded(s,a,c){return s.apply(a,c)}runOutsideAngular(s){return s()}runTask(s,a,c,d){return s.apply(a,c)}}const Kg=new rn("",{providedIn:"root",factory:jb});function jb(){const r=Mt(Hi);let s=!0;const a=new x.y(d=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{d.next(s),d.complete()})}),c=new x.y(d=>{let p;r.runOutsideAngular(()=>{p=r.onStable.subscribe(()=>{Hi.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,d.next(!0))})})});const m=r.onUnstable.subscribe(()=>{Hi.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{d.next(!1)}))});return()=>{p.unsubscribe(),m.unsubscribe()}});return(0,te.T)(a,c.pipe((0,_e.B)()))}function pa(r){return r instanceof Function?r():r}let cl=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ct({token:r,providedIn:"root",factory:()=>new r})}return r})();function Wd(r){for(;r;){r[bt]|=64;const s=Ue(r);if(Vo(r)&&!s)return r;r=s}return null}const zC=new rn("",{providedIn:"root",factory:()=>!1});let Lf=null;function uv(r,s){return r[s]??Wb()}function dv(r,s){const a=Wb();a.producerNode?.length&&(r[s]=Lf,a.lView=r,Lf=hv())}const bo={...eo,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{Wd(r.lView)},lView:null};function hv(){return Object.create(bo)}function Wb(){return Lf??=hv(),Lf}const Pt={};function zb(r){fv(Ut(),Me(),en()+r,!1)}function fv(r,s,a,c){if(!c)if(3==(3&s[bt])){const p=r.preOrderCheckHooks;null!==p&&Wa(s,p,a)}else{const p=r.preOrderHooks;null!==p&&Ur(s,p,0,a)}mn(a)}function Zd(r,s=qe.Default){const a=Me();return null===a?Ct(r,s):qa(ai(),a,Pe(r),s)}function Zb(){throw new Error("invalid")}function Xg(r,s,a,c,d,p,m,b,w,S,M){const L=s.blueprint.slice();return L[Sn]=d,L[bt]=140|c,(null!==S||r&&2048&r[bt])&&(L[bt]|=2048),Wh(L),L[An]=L[Is]=r,L[On]=a,L[Lo]=m||r&&r[Lo],L[Dt]=b||r&&r[Dt],L[qr]=w||r&&r[qr]||null,L[di]=p,L[Jr]=function Ji(){return w_++}(),L[or]=M,L[Qr]=S,L[Nn]=2==s.type?r[Nn]:L,L}function Yd(r,s,a,c,d){let p=r.data[s];if(null===p)p=pv(r,s,a,c,d),function fd(){return wt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=c,p.attrs=d;const m=zo();p.injectorIndex=null===m?-1:m.injectorIndex}return Ms(p,!0),p}function pv(r,s,a,c,d){const p=Bl(),m=ao(),w=r.data[s]=function Jb(r,s,a,c,d,p){let m=s?s.injectorIndex:-1,b=0;return Lr()&&(b|=128),{type:a,index:c,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:b,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?p:p&&p.parent,a,s,c,d);return null===r.firstChild&&(r.firstChild=w),null!==p&&(m?null==p.child&&null!==w.parent&&(p.child=w):null===p.next&&(p.next=w,w.prev=p)),w}function Bf(r,s,a,c){if(0===a)return-1;const d=s.length;for(let p=0;p<a;p++)s.push(c),r.blueprint.push(c),r.data.push(null);return d}function Yb(r,s,a,c,d){const p=uv(s,Ma),m=en(),b=2&c;try{mn(-1),b&&s.length>Ot&&fv(r,s,Ot,!1),Dr(b?2:0,d);const S=b?p:null,M=td(S);try{null!==S&&(S.dirty=!1),a(c,d)}finally{si(S,M)}}finally{b&&null===s[Ma]&&dv(s,Ma),mn(m),Dr(b?3:1,d)}}function gv(r,s,a){if(Sl(s)){const c=Vi(null);try{const p=s.directiveEnd;for(let m=s.directiveStart;m<p;m++){const b=r.data[m];b.contentQueries&&b.contentQueries(1,a[m],m)}}finally{Vi(c)}}}function mv(r,s,a){mi()&&(function cT(r,s,a,c){const d=a.directiveStart,p=a.directiveEnd;Js(a)&&function oA(r,s,a){const c=pi(s,r),d=Kb(a);let m=16;a.signals?m=4096:a.onPush&&(m=64);const b=em(r,Xg(r,d,null,m,c,s,null,r[Lo].rendererFactory.createRenderer(c,a),null,null,null));r[s.index]=b}(s,a,r.data[d+a.componentOffset]),r.firstCreatePass||jr(a,s),Ri(c,s);const m=a.initialInputs;for(let b=d;b<p;b++){const w=r.data[b],S=ho(s,r,b,a);Ri(S,s),null!==m&&gT(0,b-d,S,w,0,m),Bi(w)&&(gi(a.index,s)[On]=ho(s,r,b,a))}}(r,s,a,pi(a,s)),64==(64&a.flags)&&tE(r,s,a))}function _v(r,s,a=pi){const c=s.localNames;if(null!==c){let d=s.index+1;for(let p=0;p<c.length;p+=2){const m=c[p+1],b=-1===m?a(s,r):r[m];r[d++]=b}}}function Kb(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=vv(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function vv(r,s,a,c,d,p,m,b,w,S,M){const L=Ot+c,Z=L+d,ie=function eT(r,s){const a=[];for(let c=0;c<s;c++)a.push(c<r?null:Pt);return a}(L,Z),Ee="function"==typeof S?S():S;return ie[tt]={type:r,blueprint:ie,template:a,queries:null,viewQuery:b,declTNode:s,data:ie.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:Ee,incompleteFirstPass:!1,ssrId:M}}let qb=r=>null;function Qb(r,s,a,c){for(let d in r)if(r.hasOwnProperty(d)){a=null===a?{}:a;const p=r[d];null===c?bv(a,s,d,p):c.hasOwnProperty(d)&&bv(a,s,c[d],p)}return a}function bv(r,s,a,c){r.hasOwnProperty(a)?r[a].push(s,c):r[a]=[s,c]}function gs(r,s,a,c,d,p,m,b){const w=pi(s,a);let M,S=s.inputs;!b&&null!=S&&(M=S[c])?(Tv(r,a,M,c,d),Js(s)&&function oT(r,s){const a=gi(s,r);16&a[bt]||(a[bt]|=64)}(a,s.index)):3&s.type&&(c=function sT(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(c),d=null!=m?m(d,s.value||"",c):d,p.setProperty(w,c,d))}function Ev(r,s,a,c){if(mi()){const d=null===c?null:{"":-1},p=function dT(r,s){const a=r.directiveRegistry;let c=null,d=null;if(a)for(let p=0;p<a.length;p++){const m=a[p];if(Tc(s,m.selectors,!1))if(c||(c=[]),Bi(m))if(null!==m.findHostDirectiveDefs){const b=[];d=d||new Map,m.findHostDirectiveDefs(m,b,d),c.unshift(...b,m),Dv(r,s,b.length)}else c.unshift(m),Dv(r,s,0);else d=d||new Map,m.findHostDirectiveDefs?.(m,c,d),c.push(m)}return null===c?null:[c,d]}(r,a);let m,b;null===p?m=b=null:[m,b]=p,null!==m&&aT(r,s,a,m,d,b),d&&function hT(r,s,a){if(s){const c=r.localNames=[];for(let d=0;d<s.length;d+=2){const p=a[s[d+1]];if(null==p)throw new oe(-301,!1);c.push(s[d],p)}}}(a,c,d)}a.mergedAttrs=zs(a.mergedAttrs,a.attrs)}function aT(r,s,a,c,d,p){for(let S=0;S<c.length;S++)Tr(jr(a,s),r,c[S].type);!function pT(r,s,a){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+a,r.providerIndexes=s}(a,r.data.length,c.length);for(let S=0;S<c.length;S++){const M=c[S];M.providersResolver&&M.providersResolver(M)}let m=!1,b=!1,w=Bf(r,s,c.length,null);for(let S=0;S<c.length;S++){const M=c[S];a.mergedAttrs=zs(a.mergedAttrs,M.hostAttrs),sA(r,a,s,w,M),fT(w,M,d),null!==M.contentQueries&&(a.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(a.flags|=64);const L=M.type.prototype;!m&&(L.ngOnChanges||L.ngOnInit||L.ngDoCheck)&&((r.preOrderHooks??=[]).push(a.index),m=!0),!b&&(L.ngOnChanges||L.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(a.index),b=!0),w++}!function rT(r,s,a){const d=s.directiveEnd,p=r.data,m=s.attrs,b=[];let w=null,S=null;for(let M=s.directiveStart;M<d;M++){const L=p[M],Z=a?a.get(L):null,Ee=Z?Z.outputs:null;w=Qb(L.inputs,M,w,Z?Z.inputs:null),S=Qb(L.outputs,M,S,Ee);const Ve=null===w||null===m||ir(s)?null:mT(w,M,m);b.push(Ve)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=8),w.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=b,s.inputs=w,s.outputs=S}(r,a,p)}function tE(r,s,a){const c=a.directiveStart,d=a.directiveEnd,p=a.index,m=function Qp(){return wt.lFrame.currentDirectiveIndex}();try{mn(p);for(let b=c;b<d;b++){const w=r.data[b],S=s[b];Ul(b),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&uT(w,S)}}finally{mn(-1),Ul(m)}}function uT(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function Dv(r,s,a){s.componentOffset=a,(r.components??=[]).push(s.index)}function fT(r,s,a){if(a){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)a[s.exportAs[c]]=r;Bi(s)&&(a[""]=r)}}function sA(r,s,a,c,d){r.data[c]=d;const p=d.factory||(d.factory=Qs(d.type)),m=new is(p,Bi(d),Zd);r.blueprint[c]=m,a[c]=m,function eE(r,s,a,c,d){const p=d.hostBindings;if(p){let m=r.hostBindingOpCodes;null===m&&(m=r.hostBindingOpCodes=[]);const b=~s.index;(function lT(r){let s=r.length;for(;s>0;){const a=r[--s];if("number"==typeof a&&a<0)return a}return 0})(m)!=b&&m.push(b),m.push(a,c,p)}}(r,s,c,Bf(r,a,d.hostVars,Pt),d)}function ga(r,s,a,c,d,p){const m=pi(r,s);!function wv(r,s,a,c,d,p,m){if(null==p)r.removeAttribute(s,d,a);else{const b=null==m?re(p):m(p,c||"",d);r.setAttribute(s,d,b,a)}}(s[Dt],m,p,r.value,a,c,d)}function gT(r,s,a,c,d,p){const m=p[s];if(null!==m)for(let b=0;b<m.length;)Cv(c,a,m[b++],m[b++],m[b++])}function Cv(r,s,a,c,d){const p=Vi(null);try{const m=r.inputTransforms;null!==m&&m.hasOwnProperty(c)&&(d=m[c].call(s,d)),null!==r.setInput?r.setInput(s,d,a,c):s[c]=d}finally{Vi(p)}}function mT(r,s,a){let c=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(r.hasOwnProperty(p)){null===c&&(c=[]);const m=r[p];for(let b=0;b<m.length;b+=2)if(m[b]===s){c.push(p,m[b+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function nE(r,s,a,c){return[r,!0,!1,s,null,0,c,a,null,null,null]}function iE(r,s){const a=r.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const p=a[c+1];if(-1!==p){const m=r.data[p];md(a[c]),m.contentQueries(2,s[p],p)}}}function em(r,s){return r[hi]?r[Oh][Ni]=s:r[hi]=s,r[Oh]=s,s}function ma(r,s,a){md(0);const c=Vi(null);try{s(r,a)}finally{Vi(c)}}function Wr(r){return r[Ra]||(r[Ra]=[])}function Kd(r){return r.cleanup||(r.cleanup=[])}function sE(r,s){const a=r[qr],c=a?a.get(fa,null):null;c&&c.handleError(s)}function Tv(r,s,a,c,d){for(let p=0;p<a.length;){const m=a[p++],b=a[p++];Cv(r.data[m],s[m],c,b,d)}}function Hn(r,s){const a=gi(s,r),c=a[tt];!function $i(r,s){for(let a=s.length;a<r.blueprint.length;a++)s.push(r.blueprint[a])}(c,a);const d=a[Sn];null!==d&&null===a[or]&&(a[or]=Q_(d,a[qr])),qd(c,a,a[On])}function qd(r,s,a){_i(s);try{const c=r.viewQuery;null!==c&&ma(1,c,a);const d=r.template;null!==d&&Yb(r,s,d,1,a),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&iE(r,s),r.staticViewQueries&&ma(2,r.viewQuery,a);const p=r.components;null!==p&&function _T(r,s){for(let a=0;a<s.length;a++)Hn(r,s[a])}(s,p)}catch(c){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),c}finally{s[bt]&=-5,Tt()}}let oE=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(a,c,d){const p=typeof Zone>"u"?null:Zone.current,m=function Yp(r,s,a){const c=Object.create(Bh);a&&(c.consumerAllowSignalWrites=!0),c.fn=r,c.schedule=s;const d=m=>{c.cleanupFn=m};return c.ref={notify:()=>ka(c),run:()=>{if(c.dirty=!1,c.hasRun&&!Fc(c))return;c.hasRun=!0;const m=td(c);try{c.cleanupFn(),c.cleanupFn=Hc,c.fn(d)}finally{si(c,m)}},cleanup:()=>c.cleanupFn()},c.ref}(a,S=>{this.all.has(S)&&this.queue.set(S,p)},d);let b;this.all.add(m),m.notify();const w=()=>{m.cleanup(),b?.(),this.all.delete(m),this.queue.delete(m)};return b=c?.onDestroy(w),{destroy:w}}flush(){if(0!==this.queue.size)for(const[a,c]of this.queue)this.queue.delete(a),c?c.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ct({token:r,providedIn:"root",factory:()=>new r})}return r})();function tm(r,s,a){let c=a?r.styles:null,d=a?r.classes:null,p=0;if(null!==s)for(let m=0;m<s.length;m++){const b=s[m];"number"==typeof b?p=b:1==p?d=Le(d,b):2==p&&(c=Le(c,b+": "+s[++m]+";"))}a?r.styles=c:r.stylesWithoutHost=c,a?r.classes=d:r.classesWithoutHost=d}function hc(r,s,a,c,d=!1){for(;null!==a;){const p=s[a.index];null!==p&&c.push(Xt(p)),wi(p)&&Ii(p,c);const m=a.type;if(8&m)hc(r,s,a.child,c);else if(32&m){const b=W(a,s);let w;for(;w=b();)c.push(w)}else if(16&m){const b=Eg(s,a);if(Array.isArray(b))c.push(...b);else{const w=Ue(s[Nn]);hc(w[tt],w,b,c,!0)}}a=d?a.projectionNext:a.next}return c}function Ii(r,s){for(let a=fi;a<r.length;a++){const c=r[a],d=c[tt].firstChild;null!==d&&hc(c[tt],c,d,s)}r[ni]!==r[Sn]&&s.push(r[ni])}function ms(r,s,a,c=!0){const d=s[Lo],p=d.rendererFactory,m=d.afterRenderEventManager;p.begin?.(),m?.begin();try{Iv(r,s,r.template,a)}catch(w){throw c&&sE(s,w),w}finally{p.end?.(),d.effectManager?.flush(),m?.end()}}function Iv(r,s,a,c){const d=s[bt];if(256!=(256&d)){s[Lo].effectManager?.flush(),_i(s);try{Wh(s),function hd(r){return wt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==a&&Yb(r,s,a,2,c);const m=3==(3&d);if(m){const S=r.preOrderCheckHooks;null!==S&&Wa(s,S,null)}else{const S=r.preOrderHooks;null!==S&&Ur(s,S,0,null),lr(s,0)}if(function fc(r){for(let s=Mn(r);null!==s;s=$r(s)){if(!s[Il])continue;const a=s[ii];for(let c=0;c<a.length;c++){Wc(a[c])}}}(s),lE(s,2),null!==r.contentQueries&&iE(r,s),m){const S=r.contentCheckHooks;null!==S&&Wa(s,S)}else{const S=r.contentHooks;null!==S&&Ur(s,S,1),lr(s,1)}!function XC(r,s){const a=r.hostBindingOpCodes;if(null===a)return;const c=uv(s,As);try{for(let d=0;d<a.length;d++){const p=a[d];if(p<0)mn(~p);else{const m=p,b=a[++d],w=a[++d];Vl(b,m),c.dirty=!1;const S=td(c);try{w(2,s[m])}finally{si(c,S)}}}}finally{null===s[As]&&dv(s,As),mn(-1)}}(r,s);const b=r.components;null!==b&&im(s,b,0);const w=r.viewQuery;if(null!==w&&ma(2,w,c),m){const S=r.viewCheckHooks;null!==S&&Wa(s,S)}else{const S=r.viewHooks;null!==S&&Ur(s,S,2),lr(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[bt]&=-73,xl(s)}finally{Tt()}}}function lE(r,s){for(let a=Mn(r);null!==a;a=$r(a))for(let c=fi;c<a.length;c++)Sv(a[c],s)}function Us(r,s,a){Sv(gi(s,r),a)}function Sv(r,s){if(!function Wo(r){return 128==(128&r[bt])}(r))return;const a=r[tt],c=r[bt];if(80&c&&0===s||1024&c||2===s)Iv(a,r,a.template,r[On]);else if(r[Ys]>0){lE(r,1);const d=a.components;null!==d&&im(r,d,1)}}function im(r,s,a){for(let c=0;c<s.length;c++)Us(r,s[c],a)}class Jd{get rootNodes(){const s=this._lView,a=s[tt];return hc(a,s,a.firstChild,[])}constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[On]}set context(s){this._lView[On]=s}get destroyed(){return 256==(256&this._lView[bt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[An];if(wi(s)){const a=s[8],c=a?a.indexOf(this):-1;c>-1&&(Nd(s,c),bd(a,c))}this._attachedToViewContainer=!1}S_(this._lView[tt],this._lView)}onDestroy(s){!function bn(r,s){if(256==(256&r[bt]))throw new oe(911,!1);null===r[Ss]&&(r[Ss]=[]),r[Ss].push(s)}(this._lView,s)}markForCheck(){Wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[bt]&=-129}reattach(){this._lView[bt]|=128}detectChanges(){ms(this._lView[tt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sf(r,s){da(r,s,s[Dt],2,null,null)}(this._lView[tt],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new oe(902,!1);this._appRef=s}}class rm extends Jd{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;ms(s[tt],s,s[On],!1)}checkNoChanges(){}get context(){return null}}class cE extends Hg{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Gt(s);return new sm(a,this.ngModule)}}function vT(r){const s=[];for(let a in r)r.hasOwnProperty(a)&&s.push({propName:r[a],templateName:a});return s}class Av{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,c){c=Wn(c);const d=this.injector.get(s,nv,c);return d!==nv||a===nv?d:this.parentInjector.get(s,a,c)}}class sm extends Ab{get inputs(){const s=this.componentDef,a=s.inputTransforms,c=vT(s.inputs);if(null!==a)for(const d of c)a.hasOwnProperty(d.propName)&&(d.transform=a[d.propName]);return c}get outputs(){return vT(this.componentDef.outputs)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Yu(r){return r.map(Cs).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,c,d){let p=(d=d||this.ngModule)instanceof Gr?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const m=p?new Av(s,p):s,b=m.get(ev,null);if(null===b)throw new oe(407,!1);const L={rendererFactory:b,sanitizer:m.get(UC,null),effectManager:m.get(oE,null),afterRenderEventManager:m.get(cl,null)},Z=b.createRenderer(null,this.componentDef),ie=this.componentDef.selectors[0][0]||"div",Ee=c?function tT(r,s,a,c){const p=c.get(zC,!1)||a===br.ShadowDom,m=r.selectRootElement(s,p);return function nT(r){qb(r)}(m),m}(Z,c,this.componentDef.encapsulation,m):Xl(Z,ie,function yT(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(ie)),_t=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ke=null;null!==Ee&&(ke=Q_(Ee,m,!0));const Et=vv(0,null,null,1,0,null,null,null,null,null,null),Wt=Xg(null,Et,null,_t,null,null,L,Z,m,null,ke);let yn,kn;_i(Wt);try{const ki=this.componentDef;let vr,Nr=null;ki.findHostDirectiveDefs?(vr=[],Nr=new Map,ki.findHostDirectiveDefs(ki,vr,Nr),vr.push(ki)):vr=[ki];const B0=function bT(r,s){const a=r[tt],c=Ot;return r[c]=s,Yd(a,c,2,"#host",null)}(Wt,Ee),Cp=function ET(r,s,a,c,d,p,m){const b=d[tt];!function lA(r,s,a,c){for(const d of r)s.mergedAttrs=zs(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(tm(s,s.mergedAttrs,!0),null!==a&&hf(c,a,s))}(c,r,s,m);let w=null;null!==s&&(w=Q_(s,d[qr]));const S=p.rendererFactory.createRenderer(s,a);let M=16;a.signals?M=4096:a.onPush&&(M=64);const L=Xg(d,Kb(a),null,M,d[r.index],r,p,S,null,null,w);return b.firstCreatePass&&Dv(b,r,c.length-1),em(d,L),d[r.index]=L}(B0,Ee,ki,vr,Wt,L,Z);kn=Gc(Et,Ot),Ee&&function uA(r,s,a,c){if(c)Oo(r,a,["ng-version",Mb.full]);else{const{attrs:d,classes:p}=function rr(r){const s=[],a=[];let c=1,d=2;for(;c<r.length;){let p=r[c];if("string"==typeof p)2===d?""!==p&&s.push(p,r[++c]):8===d&&a.push(p);else{if(!Li(d))break;d=p}c++}return{attrs:s,classes:a}}(s.selectors[0]);d&&Oo(r,a,d),p&&p.length>0&&ob(r,a,p.join(" "))}}(Z,ki,Ee,c),void 0!==a&&function dA(r,s,a){const c=r.projection=[];for(let d=0;d<s.length;d++){const p=a[d];c.push(null!=p?Array.from(p):null)}}(kn,this.ngContentSelectors,a),yn=function cA(r,s,a,c,d,p){const m=ai(),b=d[tt],w=pi(m,d);aT(b,d,m,a,null,c);for(let M=0;M<a.length;M++)Ri(ho(d,b,m.directiveStart+M,m),d);tE(b,d,m),w&&Ri(w,d);const S=ho(d,b,m.directiveStart+m.componentOffset,m);if(r[On]=d[On]=S,null!==p)for(const M of p)M(S,s);return gv(b,m,r),S}(Cp,ki,vr,Nr,Wt,[hA]),qd(Et,Wt,null)}finally{Tt()}return new aA(this.componentType,yn,Du(kn,Wt),Wt,kn)}}class aA extends Sf{constructor(s,a,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new rm(d),this.componentType=s}setInput(s,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const p=this._rootLView;Tv(p[tt],p,d,s,a),this.previousInputValues.set(s,a),Wd(gi(this._tNode.index,p))}}get injector(){return new _n(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function hA(){const r=ai();Ga(Me()[tt],r)}function uE(r){let s=function DT(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),a=!0;const c=[r];for(;s;){let d;if(Bi(r))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new oe(903,!1);d=s.\u0275dir}if(d){if(a){c.push(d);const m=r;m.inputs=Qd(r.inputs),m.inputTransforms=Qd(r.inputTransforms),m.declaredInputs=Qd(r.declaredInputs),m.outputs=Qd(r.outputs);const b=d.hostBindings;b&&wT(r,b);const w=d.viewQuery,S=d.contentQueries;if(w&&Nv(r,w),S&&dE(r,S),$(r.inputs,d.inputs),$(r.declaredInputs,d.declaredInputs),$(r.outputs,d.outputs),null!==d.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),$(m.inputTransforms,d.inputTransforms)),Bi(d)&&d.data.animation){const M=r.data;M.animation=(M.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let m=0;m<p.length;m++){const b=p[m];b&&b.ngInherit&&b(r),b===uE&&(a=!1)}}s=Object.getPrototypeOf(s)}!function fA(r){let s=0,a=null;for(let c=r.length-1;c>=0;c--){const d=r[c];d.hostVars=s+=d.hostVars,d.hostAttrs=zs(d.hostAttrs,a=zs(a,d.hostAttrs))}}(c)}function Qd(r){return r===Er?{}:r===$t?[]:r}function Nv(r,s){const a=r.viewQuery;r.viewQuery=a?(c,d)=>{s(c,d),a(c,d)}:s}function dE(r,s){const a=r.contentQueries;r.contentQueries=a?(c,d,p)=>{s(c,d,p),a(c,d,p)}:s}function wT(r,s){const a=r.hostBindings;r.hostBindings=a?(c,d)=>{s(c,d),a(c,d)}:s}function am(r){return s=>{s.findHostDirectiveDefs=hE,s.hostDirectives=(Array.isArray(r)?r:r()).map(a=>"function"==typeof a?{directive:Pe(a),inputs:Er,outputs:Er}:{directive:Pe(a.directive),inputs:fE(a.inputs),outputs:fE(a.outputs)})}}function hE(r,s,a){if(null!==r.hostDirectives)for(const c of r.hostDirectives){const d=Fn(c.directive);TT(d.declaredInputs,c.inputs),hE(d,s,a),a.set(d,c),s.push(d)}}function fE(r){if(void 0===r||0===r.length)return Er;const s={};for(let a=0;a<r.length;a+=2)s[r[a]]=r[a+1];return s}function TT(r,s){for(const a in s)s.hasOwnProperty(a)&&(r[s[a]]=r[a])}function gE(r){const s=r.inputConfig,a={};for(const c in s)if(s.hasOwnProperty(c)){const d=s[c];Array.isArray(d)&&d[2]&&(a[c]=d[2])}r.inputTransforms=a}function lm(r){return!!Vf(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Vf(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function _s(r,s,a){return r[s]=a}function Gi(r,s,a){return!Object.is(r[s],a)&&(r[s]=a,!0)}function wu(r,s,a,c){const d=Gi(r,s,a);return Gi(r,s+1,c)||d}function Mv(r,s,a,c){const d=Me();return Gi(d,lo(),s)&&(Ut(),ga(En(),d,r,s,a,c)),Mv}function _a(r,s,a,c){return Gi(r,lo(),a)?s+re(a)+c:Pt}function Wv(r,s,a,c,d,p,m,b){const w=Me(),S=Ut(),M=r+Ot,L=S.firstCreatePass?function wE(r,s,a,c,d,p,m,b,w){const S=s.consts,M=Yd(s,r,4,m||null,Ui(S,b));Ev(s,a,M,Ui(S,w)),Ga(s,M);const L=M.tView=vv(2,M,c,d,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,S,null);return null!==s.queries&&(s.queries.template(s,M),L.queries=s.queries.embeddedTView(M)),M}(M,S,w,s,a,c,d,p,m):S.data[M];Ms(L,!1);const Z=zv(S,w,L,r);Br()&&us(S,w,Z,L),Ri(Z,w),em(w,w[M]=nE(Z,w,Z,L)),Wi(L)&&mv(S,w,L),null!=m&&_v(w,L,b)}let zv=function Zv(r,s,a,c){return Vr(!0),s[Dt].createComment("")};function LT(r){return oo(function zh(){return wt.lFrame.contextLView}(),Ot+r)}function TE(r,s,a){const c=Me();return Gi(c,lo(),s)&&gs(Ut(),En(),c,r,s,c[Dt],a,!1),TE}function $f(r,s,a,c,d){const m=d?"class":"style";Tv(r,a,s.inputs[m],m,c)}function Yv(r,s,a,c){const d=Me(),p=Ut(),m=Ot+r,b=d[Dt],w=p.firstCreatePass?function _A(r,s,a,c,d,p){const m=s.consts,w=Yd(s,r,2,c,Ui(m,d));return Ev(s,a,w,Ui(m,p)),null!==w.attrs&&tm(w,w.attrs,!1),null!==w.mergedAttrs&&tm(w,w.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,w),w}(m,p,d,s,a,c):p.data[m],S=IE(p,d,w,b,s,r);d[m]=S;const M=Wi(w);return Ms(w,!0),hf(b,S,w),32!=(32&w.flags)&&Br()&&us(p,d,S,w),0===function Pl(){return wt.lFrame.elementDepthCount}()&&Ri(S,d),function oi(){wt.lFrame.elementDepthCount++}(),M&&(mv(p,d,w),gv(p,w,d)),null!==c&&_v(d,w),Yv}function ym(){let r=ai();ao()?Yc():(r=r.parent,Ms(r,!1));const s=r;(function zc(r){return wt.skipHydrationRootTNode===r})(s)&&function Zc(){wt.skipHydrationRootTNode=null}(),function dd(){wt.lFrame.elementDepthCount--}();const a=Ut();return a.firstCreatePass&&(Ga(a,r),Sl(r)&&a.queries.elementEnd(r)),null!=s.classesWithoutHost&&function Jc(r){return 0!=(8&r.flags)}(s)&&$f(a,s,Me(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Ko(r){return 0!=(16&r.flags)}(s)&&$f(a,s,Me(),s.stylesWithoutHost,!1),ym}function bm(r,s,a,c){return Yv(r,s,a,c),ym(),bm}let IE=(r,s,a,c,d,p)=>(Vr(!0),Xl(c,d,function $a(){return wt.lFrame.currentNamespace}()));function Jv(r,s,a){const c=Me(),d=Ut(),p=r+Ot,m=d.firstCreatePass?function qv(r,s,a,c,d){const p=s.consts,m=Ui(p,c),b=Yd(s,r,8,"ng-container",m);return null!==m&&tm(b,m,!0),Ev(s,a,b,Ui(p,d)),null!==s.queries&&s.queries.elementStart(s,b),b}(p,d,c,s,a):d.data[p];Ms(m,!0);const b=AE(d,c,m,r);return c[p]=b,Br()&&us(d,c,b,m),Ri(b,c),Wi(m)&&(mv(d,c,m),gv(d,m,c)),null!=a&&_v(c,m),Jv}function sh(){let r=ai();const s=Ut();return ao()?Yc():(r=r.parent,Ms(r,!1)),s.firstCreatePass&&(Ga(s,r),Sl(r)&&s.queries.elementEnd(r)),sh}let AE=(r,s,a,c)=>(Vr(!0),ca(s[Dt],""));function NE(){return Me()}function RE(r){return!!r&&"function"==typeof r.then}function UT(r){return!!r&&"function"==typeof r.subscribe}function Qv(r,s,a,c){const d=Me(),p=Ut(),m=ai();return function HT(r,s,a,c,d,p,m){const b=Wi(c),S=r.firstCreatePass&&Kd(r),M=s[On],L=Wr(s);let Z=!0;if(3&c.type||m){const Ve=pi(c,s),nt=m?m(Ve):Ve,_t=L.length,ke=m?Wt=>m(Xt(Wt[c.index])):c.index;let Et=null;if(!m&&b&&(Et=function yA(r,s,a,c){const d=r.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const m=d[p];if(m===a&&d[p+1]===c){const b=s[Ra],w=d[p+2];return b.length>w?b[w]:null}"string"==typeof m&&(p+=2)}return null}(r,s,d,c.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=p,Et.__ngLastListenerFn__=p,Z=!1;else{p=GT(c,s,M,p,!1);const Wt=a.listen(nt,d,p);L.push(p,Wt),S&&S.push(d,ke,_t,_t+1)}}else p=GT(c,s,M,p,!1);const ie=c.outputs;let Ee;if(Z&&null!==ie&&(Ee=ie[d])){const Ve=Ee.length;if(Ve)for(let nt=0;nt<Ve;nt+=2){const yn=s[Ee[nt]][Ee[nt+1]].subscribe(p),kn=L.length;L.push(p,yn),S&&S.push(d,c.index,kn,-(kn+1))}}}(p,d,d[Dt],m,r,s,c),Qv}function $T(r,s,a,c){try{return Dr(6,s,a),!1!==a(c)}catch(d){return sE(r,d),!1}finally{Dr(7,s,a)}}function GT(r,s,a,c,d){return function p(m){if(m===Function)return c;Wd(r.componentOffset>-1?gi(r.index,s):s);let w=$T(s,a,c,m),S=p.__ngNextListenerFn__;for(;S;)w=$T(s,a,S,m)&&w,S=S.__ngNextListenerFn__;return d&&!1===w&&m.preventDefault(),w}}function ME(r=1){return function Ha(r){return(wt.lFrame.contextLView=function xn(r,s){for(;r>0;)s=s[Is],r--;return s}(r,wt.lFrame.contextLView))[On]}(r)}function WT(r,s){let a=null;const c=function zu(r){const s=r.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(r);for(let d=0;d<s.length;d++){const p=s[d];if("*"!==p){if(null===c?Tc(r,p,!0):Zu(c,p))return d}else a=d}return a}function Xv(r){const s=Me()[Nn][di];if(!s.projection){const c=s.projection=ta(r?r.length:1,null),d=c.slice();let p=s.child;for(;null!==p;){const m=r?WT(p,r):0;null!==m&&(d[m]?d[m].projectionNext=p:c[m]=p,d[m]=p),p=p.next}}}function ey(r,s=0,a){const c=Me(),d=Ut(),p=Yd(d,Ot+r,16,null,a||null);null===p.projection&&(p.projection=s),Yc(),(!c[or]||Lr())&&32!=(32&p.flags)&&function tc(r,s,a){sb(s[Dt],0,s,a,bg(r,a,s),nb(a.parent||s[di],a,s))}(d,c,p)}function Em(r,s,a){return Gf(r,"",s,"",a),Em}function Gf(r,s,a,c,d){const p=Me(),m=_a(p,s,a,c);return m!==Pt&&gs(Ut(),En(),p,r,m,p[Dt],d,!1),Gf}function Wf(r,s){return r<<17|s<<2}function hl(r){return r>>17&32767}function oy(r){return 2|r}function gc(r){return(131068&r)>>2}function ay(r,s){return-131069&r|s<<2}function Dm(r){return 1|r}function kE(r,s,a,c,d){const p=r[a+1],m=null===s;let b=c?hl(p):gc(p),w=!1;for(;0!==b&&(!1===w||m);){const M=r[b+1];FE(r[b],s)&&(w=!0,r[b+1]=c?Dm(M):oy(M)),b=c?hl(M):gc(M)}w&&(r[a+1]=c?oy(p):Dm(p))}function FE(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Qa(r,s)>=0}const Oi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function LE(r){return r.substring(Oi.key,Oi.keyEnd)}function VE(r,s){const a=Oi.textEnd;return a===s?-1:(s=Oi.keyEnd=function Do(r,s,a){for(;s<a&&r.charCodeAt(s)>32;)s++;return s}(r,Oi.key=s,a),oh(r,s,a))}function oh(r,s,a){for(;s<a&&r.charCodeAt(s)<=32;)s++;return s}function cy(r,s){return function ys(r,s,a,c){const d=Me(),p=Ut(),m=Os(2);p.firstUpdatePass&&ah(p,r,m,c),s!==Pt&&Gi(d,m,s)&&lh(p,p.data[en()],d,d[Dt],r,d[m+1]=function gy(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=ne(sc(r)))),r}(s,a),c,m)}(r,s,null,!0),cy}function dy(r){!function wo(r,s,a,c){const d=Ut(),p=Os(2);d.firstUpdatePass&&ah(d,null,p,c);const m=Me();if(a!==Pt&&Gi(m,p,a)){const b=d.data[en()];if(zE(b,c)&&!hy(d,p)){let w=c?b.classesWithoutHost:b.stylesWithoutHost;null!==w&&(a=Le(w,a||"")),$f(d,b,m,a,c)}else!function Xi(r,s,a,c,d,p,m,b){d===Pt&&(d=$t);let w=0,S=0,M=0<d.length?d[0]:null,L=0<p.length?p[0]:null;for(;null!==M||null!==L;){const Z=w<d.length?d[w+1]:void 0,ie=S<p.length?p[S+1]:void 0;let Ve,Ee=null;M===L?(w+=2,S+=2,Z!==ie&&(Ee=L,Ve=ie)):null===L||null!==M&&M<L?(w+=2,Ee=M):(S+=2,Ee=L,Ve=ie),null!==Ee&&lh(r,s,a,c,Ee,Ve,m,b),M=w<d.length?d[w]:null,L=S<p.length?p[S]:null}}(d,b,m,m[Dt],m[p+1],m[p+1]=function fy(r,s,a){if(null==a||""===a)return $t;const c=[],d=sc(a);if(Array.isArray(d))for(let p=0;p<d.length;p++)r(c,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&r(c,p,d[p]);else"string"==typeof d&&s(c,d);return c}(r,s,a),c,p)}}(WE,ba,r,!0)}function ba(r,s){for(let a=function QT(r){return function UE(r){Oi.key=0,Oi.keyEnd=0,Oi.value=0,Oi.valueEnd=0,Oi.textEnd=r.length}(r),VE(r,oh(r,0,Oi.textEnd))}(s);a>=0;a=VE(s,a))Ir(r,LE(s),!0)}function hy(r,s){return s>=r.expandoStartIndex}function ah(r,s,a,c){const d=r.data;if(null===d[a+1]){const p=d[en()],m=hy(r,a);zE(p,c)&&null===s&&!m&&(s=!1),s=function iI(r,s,a,c){const d=function gd(r){const s=wt.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let p=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(a=Au(a=Su(null,r,s,a,c),s.attrs,c),p=null);else{const m=s.directiveStylingLast;if(-1===m||r[m]!==d)if(a=Su(d,r,s,a,c),null===p){let w=function Zf(r,s,a){const c=a?s.classBindings:s.styleBindings;if(0!==gc(c))return r[hl(c)]}(r,s,c);void 0!==w&&Array.isArray(w)&&(w=Su(null,r,s,w[1],c),w=Au(w,s.attrs,c),function GE(r,s,a,c){r[hl(a?s.classBindings:s.styleBindings)]=c}(r,s,c,w))}else p=function rI(r,s,a){let c;const d=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<d;p++)c=Au(c,r[p].hostAttrs,a);return Au(c,s.attrs,a)}(r,s,c)}return void 0!==p&&(c?s.residualClasses=p:s.residualStyles=p),a}(d,p,s,c),function qT(r,s,a,c,d,p){let m=p?s.classBindings:s.styleBindings,b=hl(m),w=gc(m);r[c]=a;let M,S=!1;if(Array.isArray(a)?(M=a[1],(null===M||Qa(a,M)>0)&&(S=!0)):M=a,d)if(0!==w){const Z=hl(r[b+1]);r[c+1]=Wf(Z,b),0!==Z&&(r[Z+1]=ay(r[Z+1],c)),r[b+1]=function zf(r,s){return 131071&r|s<<17}(r[b+1],c)}else r[c+1]=Wf(b,0),0!==b&&(r[b+1]=ay(r[b+1],c)),b=c;else r[c+1]=Wf(w,0),0===b?b=c:r[w+1]=ay(r[w+1],c),w=c;S&&(r[c+1]=oy(r[c+1])),kE(r,M,c,!0),kE(r,M,c,!1),function JT(r,s,a,c,d){const p=d?r.residualClasses:r.residualStyles;null!=p&&"string"==typeof s&&Qa(p,s)>=0&&(a[c+1]=Dm(a[c+1]))}(s,M,r,c,p),m=Wf(b,w),p?s.classBindings=m:s.styleBindings=m}(d,p,s,a,m,c)}}function Su(r,s,a,c,d){let p=null;const m=a.directiveEnd;let b=a.directiveStylingLast;for(-1===b?b=a.directiveStart:b++;b<m&&(p=s[b],c=Au(c,p.hostAttrs,d),p!==r);)b++;return null!==r&&(a.directiveStylingLast=b),c}function Au(r,s,a){const c=a?1:2;let d=-1;if(null!==s)for(let p=0;p<s.length;p++){const m=s[p];"number"==typeof m?d=m:d===c&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Ir(r,m,!!a||s[++p]))}return void 0===r?null:r}function WE(r,s,a){const c=String(s);""!==c&&!c.includes(" ")&&Ir(r,c,a)}function lh(r,s,a,c,d,p,m,b){if(!(3&s.type))return;const w=r.data,S=w[b+1],M=function ZT(r){return 1==(1&r)}(S)?xi(w,s,a,d,gc(S),m):void 0;Ea(M)||(Ea(p)||function PE(r){return 2==(2&r)}(S)&&(p=xi(w,null,a,d,b,m)),function df(r,s,a,c,d){if(s)d?r.addClass(a,c):r.removeClass(a,c);else{let p=-1===c.indexOf("-")?void 0:sa.DashCase;null==d?r.removeStyle(a,c,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=sa.Important),r.setStyle(a,c,d,p))}}(c,m,so(en(),a),d,p))}function xi(r,s,a,c,d,p){const m=null===s;let b;for(;d>0;){const w=r[d],S=Array.isArray(w),M=S?w[1]:w,L=null===M;let Z=a[d+1];Z===Pt&&(Z=L?$t:void 0);let ie=L?Ed(Z,c):M===c?Z:void 0;if(S&&!Ea(ie)&&(ie=Ed(w,c)),Ea(ie)&&(b=ie,m))return b;const Ee=r[d+1];d=m?hl(Ee):gc(Ee)}if(null!==s){let w=p?s.residualClasses:s.residualStyles;null!=w&&(b=Ed(w,c))}return b}function Ea(r){return void 0!==r}function zE(r,s){return 0!=(r.flags&(s?8:16))}function my(r,s=""){const a=Me(),c=Ut(),d=r+Ot,p=c.firstCreatePass?Yd(c,d,1,s,null):c.data[d],m=wm(c,a,p,s,r);a[d]=m,Br()&&us(c,a,m,p),Ms(p,!1)}let wm=(r,s,a,c,d)=>(Vr(!0),cs(s[Dt],c));function Nu(r){return Cm("",r,""),Nu}function Cm(r,s,a){const c=Me(),d=_a(c,r,s,a);return d!==Pt&&function ul(r,s,a){const c=so(s,r);!function rl(r,s,a){r.setValue(s,a)}(r[Dt],c,a)}(c,en(),d),Cm}function wy(r,s,a){const c=Me();return Gi(c,lo(),s)&&gs(Ut(),En(),c,r,s,c[Dt],a,!0),wy}const pl=void 0;var dI=["en",[["a","p"],["AM","PM"],pl],[["AM","PM"],pl,pl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pl,"{1} 'at' {0}",pl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uI(r){const a=Math.floor(Math.abs(r)),c=r.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let dh={};function Cy(r){const s=function Ou(r){return r.toLowerCase().replace(/_/g,"-")}(r);let a=Ty(s);if(a)return a;const c=s.split("-")[0];if(a=Ty(c),a)return a;if("en"===c)return dI;throw new oe(701,!1)}function rD(r){return Cy(r)[hh.PluralCase]}function Ty(r){return r in dh||(dh[r]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[r]),dh[r]}var hh=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(hh||{});const xu="en-US",mc={marker:"element"},fh={marker:"ICU"};var Ar=function(r){return r[r.SHIFT=2]="SHIFT",r[r.APPEND_EAGERLY=1]="APPEND_EAGERLY",r[r.COMMENT=2]="COMMENT",r}(Ar||{});let oD=xu;function Qf(r){(function Je(r,s){null==r&&Ge(s,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(oD=r.toLowerCase().replace(/_/g,"-"))}function aD(r,s,a){const c=s.insertBeforeIndex,d=Array.isArray(c)?c[0]:c;return null===d?N_(r,0,a):Xt(a[d])}function lD(r,s,a,c,d){const p=s.insertBeforeIndex;if(Array.isArray(p)){let m=c,b=null;if(3&s.type||(b=m,m=d),null!==m&&-1===s.componentOffset)for(let w=1;w<p.length;w++)ua(r,m,a[p[w]],b,!1)}}function Iy(r,s){if(r.push(s),r.length>1)for(let a=r.length-2;a>=0;a--){const c=r[a];ph(c)||mI(c,s)&&null===Sy(c)&&_I(c,s.index)}}function ph(r){return!(64&r.type)}function mI(r,s){return ph(s)||r.index>s.index}function Sy(r){const s=r.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function _I(r,s){const a=r.insertBeforeIndex;Array.isArray(a)?a[0]=s:(rb(aD,lD),r.insertBeforeIndex=s)}function Da(r,s,a){const c=pv(r,a,64,null,null);return Iy(s,c),c}function pD(){const r=[];let a,c,s=-1;function p(b,w){s=0;const S=function Pu(r,s){const a=s[r.currentCaseLViewIndex];return null===a?a:a<0?~a:a}(b,w);c=null!==S?b.remove[S]:$t}function m(){if(s<c.length){const b=c[s++];return b>0?a[b]:(r.push(s,c),p(a[tt].data[~b],a),m())}return 0===r.length?null:(c=r.pop(),s=r.pop(),m())}return function d(b,w){for(a=w;r.length;)r.pop();return p(b.value,w),m}}const tp=/\ufffd(\d+):?\d*\ufffd/gi,Ny=/\ufffd(\d+)\ufffd/,wa=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ca="\ufffd",_D=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,vD=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,wI=/\uE500/g;function np(r,s,a,c,d,p,m){const b=Bf(r,c,1,null);let w=b<<Ar.SHIFT,S=zo();s===S&&(S=null),null===S&&(w|=Ar.APPEND_EAGERLY),m&&(w|=Ar.COMMENT,function Fe(r){void 0===H&&(H=r())}(pD)),d.push(w,null===p?"":p);const M=pv(r,b,m?32:1,null===p?"":p,null);Iy(a,M);const L=M.index;return Ms(M,!1),null!==S&&s!==S&&function Xf(r,s){let a=r.insertBeforeIndex;null===a?(rb(aD,lD),a=r.insertBeforeIndex=[null,s]):(function fn(r,s,a){r!=s&&Ge(a,r,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(S,L),M}function yD(r,s,a,c,d,p,m){const b=m.match(tp),w=np(r,s,a,p,c,b?null:m,!1);b&&bh(d,m,w.index,null,0,null)}function bh(r,s,a,c,d,p){const m=r.length,b=m+1;r.push(null,null);const w=m+2,S=s.split(tp);let M=0;for(let L=0;L<S.length;L++){const Z=S[L];if(1&L){const ie=d+parseInt(Z,10);r.push(-1-ie),M|=Rm(ie)}else""!==Z&&r.push(Z)}return r.push(a<<2|(c?1:0)),c&&r.push(c,p),r[m]=M,r[b]=r.length-w,M}function Rm(r){return 1<<Math.min(r,31)}function bD(r){let s,p,a="",c=0,d=!1;for(;null!==(s=_D.exec(r));)d?s[0]===`${Ca}/*${p}${Ca}`&&(c=s.index,d=!1):(a+=r.substring(c,s.index+s[0].length),p=s[1],d=!0);return a+=r.slice(c),a}function xy(r,s,a,c,d,p){let m=0;const b={type:d.type,currentCaseLViewIndex:Bf(r,s,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function wD(r,s,a){r.push(Rm(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,d,p),function cD(r,s,a){const c=r.data[s];null===c?r.data[s]=a:c.value=a}(r,p,b);const w=d.values;for(let S=0;S<w.length;S++){const M=w[S],L=[];for(let Z=0;Z<M.length;Z++){const ie=M[Z];if("string"!=typeof ie){const Ee=L.push(ie)-1;M[Z]=`\x3c!--\ufffd${Ee}\ufffd--\x3e`}}m=SI(r,b,s,a,c,d.cases[S],M.join(""),L)|m}m&&function AI(r,s,a){r.push(s,1,a<<2|3)}(a,m,p)}function II(r){const s=[],a=[];let c=1,d=0;const p=Fu(r=r.replace(wa,function(m,b,w){return c="select"===w?0:1,d=parseInt(b.slice(1),10),""}));for(let m=0;m<p.length;){let b=p[m++].trim();1===c&&(b=b.replace(/\s*(?:=)?(\w+)\s*/,"$1")),b.length&&s.push(b);const w=Fu(p[m++]);s.length>a.length&&a.push(w)}return{type:c,mainBinding:d,cases:s,values:a}}function Fu(r){if(!r)return[];let s=0;const a=[],c=[],d=/[{}]/g;let p;for(d.lastIndex=0;p=d.exec(r);){const b=p.index;if("}"==p[0]){if(a.pop(),0==a.length){const w=r.substring(s,b);wa.test(w)?c.push(II(w)):c.push(w),s=b+1}}else{if(0==a.length){const w=r.substring(s,b);c.push(w),s=b+1}a.push("{")}}const m=r.substring(s);return c.push(m),c}function SI(r,s,a,c,d,p,m,b){const w=[],S=[],M=[];s.cases.push(p),s.create.push(w),s.remove.push(S),s.update.push(M);const Z=function lb(r){const s=new bC(r);return function EC(){try{return!!(new window.DOMParser).parseFromString(ol(""),"text/html")}catch{return!1}}()?new yC(s):s}(ic()).getInertBodyElement(m),ie=function Ng(r){return"content"in r&&function P_(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}(Z)||Z;return ie?ED(r,s,a,c,w,S,M,ie,d,b,0):0}function ED(r,s,a,c,d,p,m,b,w,S,M){let L=0,Z=b.firstChild;for(;Z;){const ie=Bf(r,a,1,null);switch(Z.nodeType){case Node.ELEMENT_NODE:const Ee=Z,Ve=Ee.tagName.toLowerCase();if(x_.hasOwnProperty(Ve)){xm(d,mc,Ve,w,ie),r.data[ie]=Ve;const Et=Ee.attributes;for(let Wt=0;Wt<Et.length;Wt++){const yn=Et.item(Wt),kn=yn.name.toLowerCase();yn.value.match(tp)?db.hasOwnProperty(kn)&&bh(m,yn.value,ie,yn.name,0,Ig[kn]?Pd:null):CD(d,ie,yn)}L=ED(r,s,a,c,d,p,m,Z,ie,S,M+1)|L,Om(p,ie,M)}break;case Node.TEXT_NODE:const nt=Z.textContent||"",_t=nt.match(tp);xm(d,null,_t?"":nt,w,ie),Om(p,ie,M),_t&&(L=bh(m,nt,ie,null,0,null)|L);break;case Node.COMMENT_NODE:const ke=Ny.exec(Z.textContent||"");if(ke){const Wt=S[parseInt(ke[1],10)];xm(d,fh,"",w,ie),xy(r,a,c,w,Wt,ie),DD(p,ie,M)}}Z=Z.nextSibling}return L}function Om(r,s,a){0===a&&r.push(s)}function DD(r,s,a){0===a&&(r.push(~s),r.push(s))}function xm(r,s,a,c,d){null!==s&&r.push(s),r.push(a,d,function Nm(r,s,a){return r|s<<17|a<<1}(0,c,d))}function CD(r,s,a){r.push(s<<1|1,a.name,a.value)}function Pm(r,s,a=-1){const c=Ut(),d=Me(),p=Ot+r,m=Ui(c.consts,s),b=zo();c.firstCreatePass&&function TI(r,s,a,c,d,p){const m=zo(),b=[],w=[],S=[[]];d=function Mm(r,s){if(function Oy(r){return-1===r}(s))return bD(r);{const a=r.indexOf(`:${s}${Ca}`)+2+s.toString().length,c=r.search(new RegExp(`${Ca}\\/\\*\\d+:${s}${Ca}`));return bD(r.substring(a,c))}}(d,p);const M=function yh(r){return r.replace(wI," ")}(d).split(vD);for(let L=0;L<M.length;L++){let Z=M[L];if(1&L){const ie=47===Z.charCodeAt(0),Ve=(Z.charCodeAt(ie?1:0),Ot+Number.parseInt(Z.substring(ie?2:1)));if(ie)S.shift(),Ms(zo(),!1);else{const nt=Da(r,S[0],Ve);S.unshift([]),Ms(nt,!0)}}else{const ie=Fu(Z);for(let Ee=0;Ee<ie.length;Ee++){let Ve=ie[Ee];if(1&Ee){const nt=Ve;if("object"!=typeof nt)throw new Error(`Unable to parse ICU expression in "${d}" message.`);xy(r,a,w,s,nt,np(r,m,S[0],a,b,"",!0).index)}else""!==Ve&&yD(r,m,S[0],b,w,a,Ve)}}}r.data[c]={create:b,update:w}}(c,null===b?0:b.index,d,p,m,a),2===c.type?d[Nn][bt]|=32:d[bt]|=32;const w=c.data[p],M=A_(c,b===d[di]?null:b,d);(function bI(r,s,a,c){const d=r[Dt];for(let p=0;p<s.length;p++){const m=s[p++],b=s[p],S=(m&Ar.APPEND_EAGERLY)===Ar.APPEND_EAGERLY,M=m>>>Ar.SHIFT;let L=r[M];null===L&&(L=r[M]=(m&Ar.COMMENT)===Ar.COMMENT?d.createComment(b):cs(d,b)),S&&null!==a&&ua(d,a,L,c,!1)}})(d,w.create,M,b&&8&b.type?d[b.index]:null),pd(!0)}function ID(r,s,a){Pm(r,s,a),function js(){pd(!1)}()}function Py(r,s,a,c,d){if(r=Pe(r),Array.isArray(r))for(let p=0;p<r.length;p++)Py(r[p],s,a,c,d);else{const p=Ut(),m=Me(),b=ai();let w=_u(r)?r:Pe(r.provide);const S=H_(r),M=1048575&b.providerIndexes,L=b.directiveStart,Z=b.providerIndexes>>20;if(_u(r)||!r.multi){const ie=new is(S,d,Zd),Ee=Bu(w,s,d?M:M+Z,L);-1===Ee?(Tr(jr(b,m),p,w),ky(p,r,s.length),s.push(w),b.directiveStart++,b.directiveEnd++,d&&(b.providerIndexes+=1048576),a.push(ie),m.push(ie)):(a[Ee]=ie,m[Ee]=ie)}else{const ie=Bu(w,s,M+Z,L),Ee=Bu(w,s,M,M+Z),nt=Ee>=0&&a[Ee];if(d&&!nt||!d&&!(ie>=0&&a[ie])){Tr(jr(b,m),p,w);const _t=function rp(r,s,a,c,d){const p=new is(r,a,Zd);return p.multi=[],p.index=s,p.componentProviders=0,Lu(p,d,c&&!a),p}(d?FI:kI,a.length,d,c,S);!d&&nt&&(a[Ee].providerFactory=_t),ky(p,r,s.length,0),s.push(w),b.directiveStart++,b.directiveEnd++,d&&(b.providerIndexes+=1048576),a.push(_t),m.push(_t)}else ky(p,r,ie>-1?ie:Ee,Lu(a[d?Ee:ie],S,!d&&c));!d&&c&&nt&&a[Ee].componentProviders++}}}function ky(r,s,a,c){const d=_u(s),p=function PC(r){return!!r.useClass}(s);if(d||p){const w=(p?Pe(s.useClass):s).prototype.ngOnDestroy;if(w){const S=r.destroyHooks||(r.destroyHooks=[]);if(!d&&s.multi){const M=S.indexOf(a);-1===M?S.push(a,[c,w]):S[M+1].push(c,w)}else S.push(a,w)}}}function Lu(r,s,a){return a&&r.componentProviders++,r.multi.push(s)-1}function Bu(r,s,a,c){for(let d=a;d<c;d++)if(s[d]===r)return d;return-1}function kI(r,s,a,c){return Vu(this.multi,[])}function FI(r,s,a,c){const d=this.multi;let p;if(this.providerFactory){const m=this.providerFactory.componentProviders,b=ho(a,a[tt],this.providerFactory.index,c);p=b.slice(0,m),Vu(d,p);for(let w=m;w<b.length;w++)p.push(b[w])}else p=[],Vu(d,p);return p}function Vu(r,s){for(let a=0;a<r.length;a++)s.push((0,r[a])());return s}function AD(r,s=[]){return a=>{a.providersResolver=(c,d)=>function km(r,s,a){const c=Ut();if(c.firstCreatePass){const d=Bi(r);Py(a,c.data,c.blueprint,d,!0),Py(s,c.data,c.blueprint,d,!1)}}(c,d?d(r):r,s)}}class Uu{}class ND{}function LI(r,s){return new Fy(r,s??null,[])}class Fy extends Uu{constructor(s,a,c){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cE(this);const d=Ai(s);this._bootstrapComponents=pa(d.bootstrap),this._r3Injector=Fb(s,a,[{provide:Uu,useValue:this},{provide:Hg,useValue:this.componentFactoryResolver},...c],ne(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class RD extends ND{constructor(s){super(),this.moduleType=s}create(s){return new Fy(this.moduleType,s,[])}}class Ly extends Uu{constructor(s){super(),this.componentFactoryResolver=new cE(this),this.instance=null;const a=new Og([...s.providers,{provide:Uu,useValue:this},{provide:Hg,useValue:this.componentFactoryResolver}],s.parent||yo(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function sp(r,s,a=null){return new Ly({providers:r,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}let Eh=(()=>{class r{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=vb(0,a.type),d=c.length>0?sp([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,d)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ct({token:r,providedIn:"environment",factory:()=>new r(Ct(Gr))})}return r})();function MD(r){r.getStandaloneInjector=s=>s.get(Eh).getOrCreateStandaloneInjector(r)}function VD(r,s,a,c){return UD(Me(),ji(),r,s,a,c)}function Fm(r,s,a,c,d){return jD(Me(),ji(),r,s,a,c,d)}function Hy(r,s,a,c,d,p){return function HD(r,s,a,c,d,p,m,b){const w=s+a;return function um(r,s,a,c,d){const p=wu(r,s,a,c);return Gi(r,s+2,d)||p}(r,w,d,p,m)?_s(r,w+3,b?c.call(b,d,p,m):c(d,p,m)):op(r,w+3)}(Me(),ji(),r,s,a,c,d,p)}function op(r,s){const a=r[s];return a===Pt?void 0:a}function UD(r,s,a,c,d,p){const m=s+a;return Gi(r,m,d)?_s(r,m+1,p?c.call(p,d):c(d)):op(r,m+1)}function jD(r,s,a,c,d,p,m){const b=s+a;return wu(r,b,d,p)?_s(r,b+2,m?c.call(m,d,p):c(d,p)):op(r,b+2)}function KI(r,s){const a=Ut();let c;const d=r+Ot;a.firstCreatePass?(c=function GD(r,s){if(s)for(let a=s.length-1;a>=0;a--){const c=s[a];if(r===c.name)return c}}(s,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks??=[]).push(d,c.onDestroy)):c=a.data[d];const p=c.factory||(c.factory=Qs(c.type)),b=Yt(Zd);try{const w=Ya(!1),S=p();return Ya(w),function FT(r,s,a,c){a>=r.data.length&&(r.data[a]=null,r.blueprint[a]=null),s[a]=c}(a,Me(),d,S),S}finally{Yt(b)}}function WD(r,s,a){const c=r+Ot,d=Me(),p=oo(d,c);return wh(d,c)?UD(d,ji(),s,p.transform,a,p):p.transform(a)}function zD(r,s,a,c){const d=r+Ot,p=Me(),m=oo(p,d);return wh(p,d)?jD(p,ji(),s,m.transform,a,c,m):m.transform(a,c)}function wh(r,s){return r[tt].data[s].pure}function Gy(){return this._results[Symbol.iterator]()}class _c{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new Vs)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=_c.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=Gy)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const c=this;c.dirty=!1;const d=function Yi(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function os(r,s,a){if(r.length!==s.length)return!1;for(let c=0;c<r.length;c++){let d=r[c],p=s[c];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function e1(r,s,a,c=!0){const d=s[tt];if(function I_(r,s,a,c){const d=fi+c,p=a.length;c>0&&(a[d-1][Ni]=s),c<p-fi?(s[Ni]=a[d],qh(a,fi+c,s)):(a.push(s),s[Ni]=null),s[An]=a;const m=s[Nc];null!==m&&a!==m&&function af(r,s){const a=r[ii];s[Nn]!==s[An][An][Nn]&&(r[Il]=!0),null===a?r[ii]=[s]:a.push(s)}(m,s);const b=s[ti];null!==b&&b.insertView(r),s[bt]|=128}(d,s,r,a),c){const p=uf(a,r),m=s[Dt],b=Md(m,r[ni]);null!==b&&function ec(r,s,a,c,d,p){c[Sn]=d,c[di]=s,da(r,c,a,1,d,p)}(d,r[di],m,s,b,p)}}let vc=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=n1}return r})();const ZD=vc,YD=class extends ZD{constructor(s,a,c){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,c){const d=function Wy(r,s,a,c){const d=s.tView,b=Xg(r,d,a,4096&r[bt]?4096:16,null,s,null,null,null,c?.injector??null,c?.hydrationInfo??null);b[Nc]=r[s.index];const S=r[ti];return null!==S&&(b[ti]=S.createEmbeddedView(d)),qd(d,b,a),b}(this._declarationLView,this._declarationTContainer,s,{injector:a,hydrationInfo:c});return new Jd(d)}};function n1(){return Bm(ai(),Me())}function Bm(r,s){return 4&r.type?new YD(s,r,Du(r,s)):null}let Um=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=Hs}return r})();function Hs(){return JD(ai(),Me())}const a1=Um,Zy=class extends a1{constructor(s,a,c){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=c}get element(){return Du(this._hostTNode,this._hostLView)}get injector(){return new _n(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ci(this._hostTNode,this._hostLView);if(qo(s)){const a=Zi(s,this._hostLView),c=co(s);return new _n(a[tt].data[c+8],a)}return new _n(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=cp(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-fi}createEmbeddedView(s,a,c){let d,p;"number"==typeof c?d=c:null!=c&&(d=c.index,p=c.injector);const b=s.createEmbeddedViewImpl(a||{},p,null);return this.insertImpl(b,d,false),b}createComponent(s,a,c,d,p){const m=s&&!function Ti(r){return"function"==typeof r}(s);let b;if(m)b=a;else{const Ve=a||{};b=Ve.index,c=Ve.injector,d=Ve.projectableNodes,p=Ve.environmentInjector||Ve.ngModuleRef}const w=m?s:new sm(Gt(s)),S=c||this.parentInjector;if(!p&&null==w.ngModule){const nt=(m?S:this.parentInjector).get(Gr,null);nt&&(p=nt)}Gt(w.componentType??{});const ie=w.create(S,d,null,p);return this.insertImpl(ie.hostView,b,false),ie}insert(s,a){return this.insertImpl(s,a,!1)}insertImpl(s,a,c){const d=s._lView;if(function Gh(r){return wi(r[An])}(d)){const w=this.indexOf(s);if(-1!==w)this.detach(w);else{const S=d[An],M=new Zy(S,S[di],S[An]);M.detach(M.indexOf(s))}}const m=this._adjustIndex(a),b=this._lContainer;return e1(b,d,m,!c),s.attachToViewContainerRef(),qh(Yy(b),m,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=cp(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),c=Nd(this._lContainer,a);c&&(bd(Yy(this._lContainer),a),S_(c[tt],c))}detach(s){const a=this._adjustIndex(s,-1),c=Nd(this._lContainer,a);return c&&null!=bd(Yy(this._lContainer),a)?new Jd(c):null}_adjustIndex(s,a=0){return s??this.length+a}};function cp(r){return r[8]}function Yy(r){return r[8]||(r[8]=[])}function JD(r,s){let a;const c=s[r.index];return wi(c)?a=c:(a=nE(c,s,null,r),s[r.index]=a,em(s,a)),l1(a,s,r,c),new Zy(a,r,s)}let l1=function c1(r,s,a,c){if(r[ni])return;let d;d=8&a.type?Xt(c):function QD(r,s){const a=r[Dt],c=a.createComment(""),d=pi(s,r);return ua(a,Md(a,d),c,function dC(r,s){return r.nextSibling(s)}(a,d),!1),c}(s,a),r[ni]=d};class jm{constructor(s){this.queryList=s,this.matches=null}clone(){return new jm(this.queryList)}setDirty(){this.queryList.setDirty()}}class XD{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const c=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let p=0;p<c;p++){const m=a.getByIndex(p);d.push(this.queries[m.indexInDeclarationView].clone())}return new XD(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==iw(s,a).matches&&this.queries[a].setDirty()}}class qy{constructor(s,a,c=null){this.predicate=s,this.flags=a,this.read=c}}class To{constructor(s=[]){this.queries=s}elementStart(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,p=this.getByIndex(c).embeddedTView(s,d);p&&(p.indexInDeclarationView=c,null!==a?a.push(p):a=[p])}return null!==a?new To(a):null}template(s,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Jy{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Jy(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(s,a,OA(a,p)),this.matchTNodeWithReadOption(s,a,tu(a,s,p,!1,!1))}else c===vc?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,tu(a,s,c,!1,!1))}matchTNodeWithReadOption(s,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Nf||d===Um||d===vc&&4&a.type)this.addMatch(a.index,-2);else{const p=tu(a,s,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,c)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function OA(r,s){const a=r.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===s)return a[c+1];return null}function PA(r,s,a,c){return-1===a?function xA(r,s){return 11&r.type?Du(r,s):4&r.type?Bm(r,s):null}(s,r):-2===a?function ew(r,s,a){return a===Nf?Du(s,r):a===vc?Bm(s,r):a===Um?JD(s,r):void 0}(r,s,c):ho(r,r[tt],a,s)}function Qy(r,s,a,c){const d=s[ti].queries[c];if(null===d.matches){const p=r.data,m=a.matches,b=[];for(let w=0;w<m.length;w+=2){const S=m[w];b.push(S<0?null:PA(s,p[S],m[w+1],a.metadata.read))}d.matches=b}return d.matches}function up(r,s,a,c){const d=r.queries.getByIndex(a),p=d.matches;if(null!==p){const m=Qy(r,s,d,a);for(let b=0;b<p.length;b+=2){const w=p[b];if(w>0)c.push(m[b/2]);else{const S=p[b+1],M=s[-w];for(let L=fi;L<M.length;L++){const Z=M[L];Z[Nc]===Z[An]&&up(Z[tt],Z,S,c)}if(null!==M[ii]){const L=M[ii];for(let Z=0;Z<L.length;Z++){const ie=L[Z];up(ie[tt],ie,S,c)}}}}}return c}function tw(r){const s=Me(),a=Ut(),c=jl();md(c+1);const d=iw(a,c);if(r.dirty&&function $h(r){return 4==(4&r[bt])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const p=d.crossesNgTemplate?up(a,s,c,[]):Qy(a,s,d,c);r.reset(p,$g),r.notifyOnChanges()}return!0}return!1}function nw(r,s,a){const c=Ut();c.firstCreatePass&&(p1(c,new qy(r,s,a),-1),2==(2&s)&&(c.staticViewQueries=!0)),f1(c,Me(),s)}function d1(r,s,a,c){const d=Ut();if(d.firstCreatePass){const p=ai();p1(d,new qy(s,a,c),p.index),function kA(r,s){const a=r.contentQueries||(r.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(r.queries.length-1,s)}(d,r),2==(2&a)&&(d.staticContentQueries=!0)}f1(d,Me(),a)}function Xy(){return function h1(r,s){return r[ti].queries[s].queryList}(Me(),jl())}function f1(r,s,a){const c=new _c(4==(4&a));(function yv(r,s,a,c){const d=Wr(s);d.push(a),r.firstCreatePass&&Kd(r).push(c,d.length-1)})(r,s,c,c.destroy),null===s[ti]&&(s[ti]=new XD),s[ti].queries.push(new jm(c))}function p1(r,s,a){null===r.queries&&(r.queries=new To),r.queries.track(new Jy(s,a))}function iw(r,s){return r.queries.getByIndex(s)}function g1(r,s){return Bm(r,s)}function e0(r){return!!Ai(r)}const _l=new rn("Application Initializer");let Zm=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=Mt(_l,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const d of this.appInits){const p=d();if(RE(p))a.push(p);else if(UT(p)){const m=new Promise((b,w)=>{p.subscribe({complete:b,error:w})});a.push(m)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),S1=(()=>{class r{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();const Ih=new rn("LocaleId",{providedIn:"root",factory:()=>Mt(Ih,qe.Optional|qe.SkipSelf)||function zA(){return typeof $localize<"u"&&$localize.locale||xu}()}),A1=new rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Ym=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new se.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();class R1{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let ZA=(()=>{class r{compileModuleSync(a){return new RD(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),p=pa(Ai(a).declarations).reduce((m,b)=>{const w=Gt(b);return w&&m.push(new sm(w)),m},[]);return new R1(c,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();const fp=new rn(""),pp=new rn("");let b0,gp=(()=>{class r{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,b0||(function Xm(r){b0=r}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==p),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}static#e=this.\u0275fac=function(c){return new(c||r)(Ct(Hi),Ct(mp),Ct(pp))};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac})}return r})(),mp=(()=>{class r{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return b0?.findTestabilityInTree(this,a,c)??null}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})(),Ia=null;const _p=new rn("AllowMultipleToken"),E0=new rn("PlatformDestroyListeners"),D0=new rn("appBootstrapListener");class nN{constructor(s,a){this.name=s,this.token=a}}function e_(r,s,a=[]){const c=`Platform: ${s}`,d=new rn(c);return(p=[])=>{let m=I0();if(!m||m.injector.get(_p,!1)){const b=[...a,...p,{provide:d,useValue:!0}];r?r(b):function F1(r){if(Ia&&!Ia.get(_p,!1))throw new oe(400,!1);(function w0(){!function Fh(r){rd=r}(()=>{throw new oe(600,!1)})})(),Ia=r;const s=r.get(V1);(function L1(r){r.get(W_,null)?.forEach(a=>a())})(r)}(function T0(r=[],s){return Bs.create({name:s,providers:[{provide:B_,useValue:"platform"},{provide:E0,useValue:new Set([()=>Ia=null])},...r]})}(b,c))}return function B1(r){const s=I0();if(!s)throw new oe(401,!1);return s}()}}function I0(){return Ia?.get(V1)??null}let V1=(()=>{class r{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function vp(r="zone.js",s){return"noop"===r?new GC:"zone.js"===r?new Hi(s):r}(c?.ngZone,function Tw(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const p=function BI(r,s,a){return new Fy(r,s,a)}(a.moduleType,this.injector,function j1(r){return[{provide:Hi,useFactory:r},{provide:Bd,multi:!0,useFactory:()=>{const s=Mt(iN,{optional:!0});return()=>s.initialize()}},{provide:Iw,useFactory:Sw},{provide:Kg,useFactory:jb}]}(()=>d)),m=p.injector.get(fa,null);return d.runOutsideAngular(()=>{const b=d.onError.subscribe({next:w=>{m.handleError(w)}});p.onDestroy(()=>{yp(this._modules,p),b.unsubscribe()})}),function t_(r,s,a){try{const c=a();return RE(c)?c.catch(d=>{throw s.runOutsideAngular(()=>r.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>r.handleError(c)),c}}(m,d,()=>{const b=p.injector.get(Zm);return b.runInitializers(),b.donePromise.then(()=>(Qf(p.injector.get(Ih,xu)||xu),this._moduleDoBootstrap(p),p))})})}bootstrapModule(a,c=[]){const d=S0({},c);return function ww(r,s,a){const c=new RD(a);return Promise.resolve(c)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const c=a.injector.get(Hu);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new oe(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(E0,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(c){return new(c||r)(Ct(Bs))};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac,providedIn:"platform"})}return r})();function S0(r,s){return Array.isArray(s)?s.reduce(S0,r):{...r,...s}}let Hu=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Mt(Iw),this.zoneIsStable=Mt(Kg),this.componentTypes=[],this.components=[],this.isStable=Mt(Ym).hasPendingTasks.pipe((0,Re.w)(a=>a?(0,de.of)(!1):this.zoneIsStable),(0,ue.x)(),(0,_e.B)()),this._injector=Mt(Gr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const d=a instanceof Ab;if(!this._injector.get(Zm).done)throw!d&&Ts(a),new oe(405,!1);let m;m=d?a:this._injector.get(Hg).resolveComponentFactory(a),this.componentTypes.push(m.componentType);const b=function k1(r){return r.isBoundToModule}(m)?void 0:this._injector.get(Uu),S=m.create(Bs.NULL,[],c||m.selector,b),M=S.location.nativeElement,L=S.injector.get(fp,null);return L?.registerApplication(M),S.onDestroy(()=>{this.detachView(S.hostView),yp(this.components,S),L?.unregisterApplication(M)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new oe(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;yp(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(D0,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>yp(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new oe(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function yp(r,s){const a=r.indexOf(s);a>-1&&r.splice(a,1)}const Iw=new rn("",{providedIn:"root",factory:()=>Mt(fa).handleError.bind(void 0)});function Sw(){const r=Mt(Hi),s=Mt(fa);return a=>r.runOutsideAngular(()=>s.handleError(a))}let iN=(()=>{class r{constructor(){this.zone=Mt(Hi),this.applicationRef=Mt(Hu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(c){return new(c||r)};static#t=this.\u0275prov=ct({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function H1(){return!1}let W1=(()=>{class r{static#e=this.__NG_ELEMENT_ID__=z1}return r})();function z1(r){return function A0(r,s,a){if(Js(r)&&!a){const c=gi(r.index,s);return new Jd(c,c)}return 47&r.type?new Jd(s[Nn],s):null}(ai(),Me(),16==(16&r))}class Nw{constructor(){}supports(s){return lm(s)}create(s){return new eS(s)}}const M0=(r,s)=>s;class eS{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||M0}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,c=this._removalsHead,d=0,p=null;for(;a||c;){const m=!c||a&&a.currentIndex<nS(c,d,p)?a:c,b=nS(m,d,p),w=m.currentIndex;if(m===c)d--,c=c._nextRemoved;else if(a=a._next,null==m.previousIndex)d++;else{p||(p=[]);const S=b-d,M=w-d;if(S!=M){for(let Z=0;Z<S;Z++){const ie=Z<p.length?p[Z]:p[Z]=0,Ee=ie+Z;M<=Ee&&Ee<S&&(p[Z]=ie+1)}p[m.previousIndex]=M-S}}b!==w&&s(m,b,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!lm(s))throw new oe(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,p,m,a=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)p=s[b],m=this._trackByFn(b,p),null!==a&&Object.is(a.trackById,m)?(c&&(a=this._verifyReinsertion(a,p,m,b)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,m,b),c=!0),a=a._next}else d=0,function cm(r,s){if(Array.isArray(r))for(let a=0;a<r.length;a++)s(r[a]);else{const a=r[Symbol.iterator]();let c;for(;!(c=a.next()).done;)s(c.value)}}(s,b=>{m=this._trackByFn(d,b),null!==a&&Object.is(a.trackById,m)?(c&&(a=this._verifyReinsertion(a,b,m,d)),Object.is(a.item,b)||this._addIdentityChange(a,b)):(a=this._mismatch(a,b,m,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,c,d){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,d)):s=this._addAfter(new tS(a,c),p,d),s}_verifyReinsertion(s,a,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?s=this._reinsertAfter(p,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,p=s._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(s,a,c),this._addToMoves(s,c),s}_moveAfter(s,a,c){return this._unlink(s),this._insertAfter(s,a,c),this._addToMoves(s,c),s}_addAfter(s,a,c){return this._insertAfter(s,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,c){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Mw),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,c=s._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mw),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class tS{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Rw{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const a=s._prevDup,c=s._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class Mw{constructor(){this.map=new Map}put(s){const a=s.trackById;let c=this.map.get(a);c||(c=new Rw,this.map.set(a,c)),c.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function nS(r,s,a){const c=r.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+s+d}class s_{constructor(){}supports(s){return s instanceof Map||Vf(s)}create(){return new iS}}class iS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Vf(s)))throw new oe(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const c=s._prev;return a._next=s,a._prev=c,s._prev=a,c&&(c._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const p=d._prev,m=d._next;return p&&(p._next=m),m&&(m._prev=p),d._next=null,d._prev=null,d}const c=new Ow(s);return this._records.set(s,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(c=>a(s[c],c))}}class Ow{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function O0(){return new vl([new Nw])}let vl=(()=>{class r{static#e=this.\u0275prov=ct({token:r,providedIn:"root",factory:O0});constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||O0()),deps:[[r,new Kl,new wd]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new oe(901,!1)}}return r})();function x0(){return new P0([new s_])}let P0=(()=>{class r{static#e=this.\u0275prov=ct({token:r,providedIn:"root",factory:x0});constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new r(a)}static extend(a){return{provide:r,useFactory:c=>r.create(a,c||x0()),deps:[[r,new Kl,new wd]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new oe(901,!1)}}return r})();const kw=e_(null,"core",[]);let sS=(()=>{class r{constructor(a){}static#e=this.\u0275fac=function(c){return new(c||r)(Ct(Hu))};static#t=this.\u0275mod=Na({type:r});static#n=this.\u0275inj=cn({})}return r})();function hS(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function gS(r,s){const a=Gt(r),c=s.elementInjector||yo();return new sm(a).create(c,s.projectableNodes,s.hostElement,s.environmentInjector)}function mS(r){const s=Gt(r);if(!s)return null;const a=new sm(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3399:(st,De,O)=>{O.d(De,{Z:()=>We});var l=O(9058),Q=O(4537),x=O(7592),te=O(7879);class se{constructor(Ye,Oe){this._delegate=Ye,this.firebase=Oe,(0,x._addComponent)(Ye,new Q.wA("app-compat",()=>this,"PUBLIC")),this.container=Ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ye){this._delegate.automaticDataCollectionEnabled=Ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ye=>{this._delegate.checkDestroyed(),Ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(Ye,Oe=x._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const lt=this._delegate.container.getProvider(Ye);return!lt.isInitialized()&&"EXPLICIT"===(null===(at=lt.getComponent())||void 0===at?void 0:at.instantiationMode)&&lt.initialize(),lt.getImmediate({identifier:Oe})}_removeServiceInstance(Ye,Oe=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ye).clearInstance(Oe)}_addComponent(Ye){(0,x._addComponent)(this._delegate,Ye)}_addOrOverwriteComponent(Ye){(0,x._addOrOverwriteComponent)(this._delegate,Ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _e=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function ue(){const Pe=function Re(Pe){const Ye={},Oe={__esModule:!0,initializeApp:function oe(xe,ae={}){const Y=x.initializeApp(xe,ae);if((0,l.r3)(Ye,Y.name))return Ye[Y.name];const je=new Pe(Y,Oe);return Ye[Y.name]=je,je},app:lt,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function re(xe){const ae=xe.name,Y=ae.replace("-compat","");if(x._registerComponent(xe)&&"PUBLIC"===xe.type){const je=(dt=lt())=>{if("function"!=typeof dt[Y])throw _e.create("invalid-app-argument",{appName:ae});return dt[Y]()};void 0!==xe.serviceProps&&(0,l.ZB)(je,xe.serviceProps),Oe[Y]=je,Pe.prototype[Y]=function(...dt){return this._getService.bind(this,ae).apply(this,xe.multipleInstances?dt:[])}}return"PUBLIC"===xe.type?Oe[Y]:null},removeApp:function at(xe){delete Ye[xe]},useAsService:function we(xe,ae){return"serverAuth"===ae?null:ae},modularAPIs:x}};function lt(xe){if(!(0,l.r3)(Ye,xe=xe||x._DEFAULT_ENTRY_NAME))throw _e.create("no-app",{appName:xe});return Ye[xe]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function me(){return Object.keys(Ye).map(xe=>Ye[xe])}}),lt.App=Pe,Oe}(se);return Pe.INTERNAL=Object.assign(Object.assign({},Pe.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function Ye(Oe){(0,l.ZB)(Pe,Oe)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Pe}(),$=new te.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Pe=self.firebase.SDK_VERSION;Pe&&Pe.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const We=V;!function Ae(Pe){(0,x.registerVersion)("@firebase/app-compat","0.2.13",Pe)}()},7592:(st,De,O)=>{O.r(De),O.d(De,{FirebaseError:()=>te.ZR,SDK_VERSION:()=>cn,_DEFAULT_ENTRY_NAME:()=>le,_addComponent:()=>Ce,_addOrOverwriteComponent:()=>Ne,_apps:()=>pe,_clearComponents:()=>gt,_components:()=>ye,_getProvider:()=>Ge,_registerComponent:()=>Je,_removeServiceInstance:()=>gn,deleteApp:()=>fe,getApp:()=>K,getApps:()=>q,initializeApp:()=>Tn,onLog:()=>Xe,registerVersion:()=>Be,setLogLevel:()=>un});var l=O(5861),Q=O(4537),x=O(7879),te=O(9058),se=O(1878);class de{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map(ve=>{if(function _e(be){const G=be.getComponent();return"VERSION"===G?.type}(ve)){const ze=ve.getImmediate();return`${ze.library}/${ze.version}`}return null}).filter(ve=>ve).join(" ")}}const Re="@firebase/app",V=new x.Yd("@firebase/app"),le="[DEFAULT]",he={[Re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pe=new Map,ye=new Map;function Ce(be,G){try{be.container.addComponent(G)}catch(ve){V.debug(`Component ${G.name} failed to register with FirebaseApp ${be.name}`,ve)}}function Ne(be,G){be.container.addOrOverwriteComponent(G)}function Je(be){const G=be.name;if(ye.has(G))return V.debug(`There were multiple attempts to register component ${G}.`),!1;ye.set(G,be);for(const ve of pe.values())Ce(ve,be);return!0}function Ge(be,G){const ve=be.container.getProvider("heartbeat").getImmediate({optional:!0});return ve&&ve.triggerHeartbeat(),be.container.getProvider(G)}function gn(be,G,ve=le){Ge(be,G).clearInstance(ve)}function gt(){ye.clear()}const ct=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class nn{constructor(G,ve,ze){this._isDeleted=!1,this._options=Object.assign({},G),this._config=Object.assign({},ve),this._name=ve.name,this._automaticDataCollectionEnabled=ve.automaticDataCollectionEnabled,this._container=ze,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this.checkDestroyed(),this._automaticDataCollectionEnabled=G}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(G){this._isDeleted=G}checkDestroyed(){if(this.isDeleted)throw ct.create("app-deleted",{appName:this._name})}}const cn="9.23.0";function Tn(be,G={}){let ve=be;"object"!=typeof G&&(G={name:G});const ze=Object.assign({name:le,automaticDataCollectionEnabled:!1},G),et=ze.name;if("string"!=typeof et||!et)throw ct.create("bad-app-name",{appName:String(et)});if(ve||(ve=(0,te.aH)()),!ve)throw ct.create("no-options");const mt=pe.get(et);if(mt){if((0,te.vZ)(ve,mt.options)&&(0,te.vZ)(ze,mt.config))return mt;throw ct.create("duplicate-app",{appName:et})}const Qt=new Q.H0(et);for(const U of ye.values())Qt.addComponent(U);const j=new nn(ve,ze,Qt);return pe.set(et,j),j}function K(be=le){const G=pe.get(be);if(!G&&be===le&&(0,te.aH)())return Tn();if(!G)throw ct.create("no-app",{appName:be});return G}function q(){return Array.from(pe.values())}function fe(be){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,l.Z)(function*(be){const G=be.name;pe.has(G)&&(pe.delete(G),yield Promise.all(be.container.getProviders().map(ve=>ve.delete())),be.isDeleted=!0)})).apply(this,arguments)}function Be(be,G,ve){var ze;let et=null!==(ze=he[be])&&void 0!==ze?ze:be;ve&&(et+=`-${ve}`);const mt=et.match(/\s|\//),Qt=G.match(/\s|\//);if(mt||Qt){const j=[`Unable to register library "${et}" with version "${G}":`];return mt&&j.push(`library name "${et}" contains illegal characters (whitespace or "/")`),mt&&Qt&&j.push("and"),Qt&&j.push(`version name "${G}" contains illegal characters (whitespace or "/")`),void V.warn(j.join(" "))}Je(new Q.wA(`${et}-version`,()=>({library:et,version:G}),"VERSION"))}function Xe(be,G){if(null!==be&&"function"!=typeof be)throw ct.create("invalid-log-argument");(0,x.Am)(be,G)}function un(be){(0,x.Ub)(be)}const Zt="firebase-heartbeat-database",qe=1,ot="firebase-heartbeat-store";let yt=null;function Yt(){return yt||(yt=(0,se.X3)(Zt,qe,{upgrade:(be,G)=>{0===G&&be.createObjectStore(ot)}}).catch(be=>{throw ct.create("idb-open",{originalErrorMessage:be.message})})),yt}function In(){return(In=(0,l.Z)(function*(be){try{return yield(yield Yt()).transaction(ot).objectStore(ot).get(an(be))}catch(G){if(G instanceof te.ZR)V.warn(G.message);else{const ve=ct.create("idb-get",{originalErrorMessage:G?.message});V.warn(ve.message)}}})).apply(this,arguments)}function Rt(be,G){return dn.apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*(be,G){try{const ze=(yield Yt()).transaction(ot,"readwrite");yield ze.objectStore(ot).put(G,an(be)),yield ze.done}catch(ve){if(ve instanceof te.ZR)V.warn(ve.message);else{const ze=ct.create("idb-set",{originalErrorMessage:ve?.message});V.warn(ze.message)}}})).apply(this,arguments)}function an(be){return`${be.name}!${be.options.appId}`}class Ht{constructor(G){this.container=G,this._heartbeatsCache=null;const ve=this.container.getProvider("app").getImmediate();this._storage=new Kr(ve),this._heartbeatsCachePromise=this._storage.read().then(ze=>(this._heartbeatsCache=ze,ze))}triggerHeartbeat(){var G=this;return(0,l.Z)(function*(){const ze=G.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),et=yi();if(null===G._heartbeatsCache&&(G._heartbeatsCache=yield G._heartbeatsCachePromise),G._heartbeatsCache.lastSentHeartbeatDate!==et&&!G._heartbeatsCache.heartbeats.some(mt=>mt.date===et))return G._heartbeatsCache.heartbeats.push({date:et,agent:ze}),G._heartbeatsCache.heartbeats=G._heartbeatsCache.heartbeats.filter(mt=>{const Qt=new Date(mt.date).valueOf();return Date.now()-Qt<=2592e6}),G._storage.overwrite(G._heartbeatsCache)})()}getHeartbeatsHeader(){var G=this;return(0,l.Z)(function*(){if(null===G._heartbeatsCache&&(yield G._heartbeatsCachePromise),null===G._heartbeatsCache||0===G._heartbeatsCache.heartbeats.length)return"";const ve=yi(),{heartbeatsToSend:ze,unsentEntries:et}=function Mr(be,G=1024){const ve=[];let ze=be.slice();for(const et of be){const mt=ve.find(Qt=>Qt.agent===et.agent);if(mt){if(mt.dates.push(et.date),bi(ve)>G){mt.dates.pop();break}}else if(ve.push({agent:et.agent,dates:[et.date]}),bi(ve)>G){ve.pop();break}ze=ze.slice(1)}return{heartbeatsToSend:ve,unsentEntries:ze}}(G._heartbeatsCache.heartbeats),mt=(0,te.L)(JSON.stringify({version:2,heartbeats:ze}));return G._heartbeatsCache.lastSentHeartbeatDate=ve,et.length>0?(G._heartbeatsCache.heartbeats=et,yield G._storage.overwrite(G._heartbeatsCache)):(G._heartbeatsCache.heartbeats=[],G._storage.overwrite(G._heartbeatsCache)),mt})()}}function yi(){return(new Date).toISOString().substring(0,10)}class Kr{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var G=this;return(0,l.Z)(function*(){return(yield G._canUseIndexedDBPromise)&&(yield function on(be){return In.apply(this,arguments)}(G.app))||{heartbeats:[]}})()}overwrite(G){var ve=this;return(0,l.Z)(function*(){var ze;if(yield ve._canUseIndexedDBPromise){const mt=yield ve.read();return Rt(ve.app,{lastSentHeartbeatDate:null!==(ze=G.lastSentHeartbeatDate)&&void 0!==ze?ze:mt.lastSentHeartbeatDate,heartbeats:G.heartbeats})}})()}add(G){var ve=this;return(0,l.Z)(function*(){var ze;if(yield ve._canUseIndexedDBPromise){const mt=yield ve.read();return Rt(ve.app,{lastSentHeartbeatDate:null!==(ze=G.lastSentHeartbeatDate)&&void 0!==ze?ze:mt.lastSentHeartbeatDate,heartbeats:[...mt.heartbeats,...G.heartbeats]})}})()}}function bi(be){return(0,te.L)(JSON.stringify({version:2,heartbeats:be})).length}!function Or(be){Je(new Q.wA("platform-logger",G=>new de(G),"PRIVATE")),Je(new Q.wA("heartbeat",G=>new Ht(G),"PRIVATE")),Be(Re,"0.9.13",be),Be(Re,"0.9.13","esm2017"),Be("fire-js","")}("")},4097:(st,De,O)=>{O.d(De,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=O(7592);(0,l.registerVersion)("firebase","9.23.0","app")},120:(st,De,O)=>{O.d(De,{Z:()=>l.Z});var l=O(3399);l.Z.registerVersion("firebase","9.23.0","app-compat")},8977:(st,De,O)=>{O.r(De);var l=O(5861),Q=O(3399),x=O(9058),te=O(7592),se=O(7582),de=O(7879),_e=O(4537);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const We=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Pe=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ye=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),at=new de.Yd("@firebase/auth");function oe(_,...f){at.logLevel<=de.in.ERROR&&at.error(`Auth (${te.SDK_VERSION}): ${_}`,...f)}function me(_,...f){throw ae(_,...f)}function re(_,...f){return ae(_,...f)}function we(_,f,g){const y=Object.assign(Object.assign({},Pe()),{[f]:g});return new x.LL("auth","Firebase",y).create(f,{appName:_.name})}function xe(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&me(_,"argument-error"),we(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ae(_,...f){if("string"!=typeof _){const g=f[0],y=[...f.slice(1)];return y[0]&&(y[0].appName=_.name),_._errorFactory.create(g,...y)}return Ye.create(_,...f)}function Y(_,f,...g){if(!_)throw ae(f,...g)}function je(_){const f="INTERNAL ASSERTION FAILED: "+_;throw oe(f),new Error(f)}function dt(_,f){_||je(f)}function zt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function ln(){return"http:"===sn()||"https:"===sn()}function sn(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Gn{constructor(f,g){this.shortDelay=f,this.longDelay=g,dt(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function fn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ln()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function le(_,f){dt(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class he{static initialize(f,g,y){this.fetchImpl=f,g&&(this.headersImpl=g),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void je("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void je("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void je("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ye=new Gn(3e4,6e4);function Ce(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Ne(_,f,g,y){return Je.apply(this,arguments)}function Je(){return(Je=(0,l.Z)(function*(_,f,g,y,I={}){return Ge(_,I,(0,l.Z)(function*(){let N={},H={};y&&("GET"===f?H=y:N={body:JSON.stringify(y)});const W=(0,x.xO)(Object.assign({key:_.config.apiKey},H)).slice(1),Fe=yield _._getAdditionalHeaders();return Fe["Content-Type"]="application/json",_.languageCode&&(Fe["X-Firebase-Locale"]=_.languageCode),he.fetch()(ct(_,_.config.apiHost,g,W),Object.assign({method:f,headers:Fe,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function Ge(_,f,g){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(_,f,g){_._canInitEmulator=!1;const y=Object.assign(Object.assign({},pe),f);try{const I=new nn(_),N=yield Promise.race([g(),I.promise]);I.clearNetworkTimeout();const H=yield N.json();if("needConfirmation"in H)throw cn(_,"account-exists-with-different-credential",H);if(N.ok&&!("errorMessage"in H))return H;{const W=N.ok?H.errorMessage:H.error.message,[Fe,Ue]=W.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Fe)throw cn(_,"credential-already-in-use",H);if("EMAIL_EXISTS"===Fe)throw cn(_,"email-already-in-use",H);if("USER_DISABLED"===Fe)throw cn(_,"user-disabled",H);const rt=y[Fe]||Fe.toLowerCase().replace(/[_\s]+/g,"-");if(Ue)throw we(_,rt,Ue);me(_,rt)}}catch(I){if(I instanceof x.ZR)throw I;me(_,"network-request-failed",{message:String(I)})}})).apply(this,arguments)}function gt(_,f,g,y){return jt.apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(_,f,g,y,I={}){const N=yield Ne(_,f,g,y,I);return"mfaPendingCredential"in N&&me(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function ct(_,f,g,y){const I=`${f}${g}?${y}`;return _.config.emulator?le(_.config,I):`${_.config.apiScheme}://${I}`}class nn{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,y)=>{this.timer=setTimeout(()=>y(re(this.auth,"network-request-failed")),ye.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cn(_,f,g){const y={appName:_.name};g.email&&(y.email=g.email),g.phoneNumber&&(y.phoneNumber=g.phoneNumber);const I=re(_,f,y);return I.customData._tokenResponse=g,I}function K(){return(K=(0,l.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function fe(){return(fe=(0,l.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Be(){return(Be=(0,l.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Xe(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function qe(){return(qe=(0,l.Z)(function*(_,f=!1){const g=(0,x.m9)(_),y=yield g.getIdToken(f),I=yt(y);Y(I&&I.exp&&I.auth_time&&I.iat,g.auth,"internal-error");const N="object"==typeof I.firebase?I.firebase:void 0,H=N?.sign_in_provider;return{claims:I,token:y,authTime:Xe(ot(I.auth_time)),issuedAtTime:Xe(ot(I.iat)),expirationTime:Xe(ot(I.exp)),signInProvider:H||null,signInSecondFactor:N?.sign_in_second_factor||null}})).apply(this,arguments)}function ot(_){return 1e3*Number(_)}function yt(_){const[f,g,y]=_.split(".");if(void 0===f||void 0===g||void 0===y)return oe("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,x.tV)(g);return I?JSON.parse(I):(oe("Failed to decode base64 JWT payload"),null)}catch(I){return oe("Caught error parsing JWT payload as JSON",I?.toString()),null}}function on(_,f){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(y){throw y instanceof x.ZR&&function Rt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(y)&&_.auth.currentUser===_&&(yield _.auth.signOut()),y}})).apply(this,arguments)}class dn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const I=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const y=this.getInterval(f);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),y)}iteration(){var f=this;return(0,l.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class an{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xe(this.lastLoginAt),this.creationTime=Xe(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xt(_){return ei.apply(this,arguments)}function ei(){return ei=(0,l.Z)(function*(_){var f;const g=_.auth,y=yield _.getIdToken(),I=yield on(_,function Ie(_,f){return Be.apply(this,arguments)}(g,{idToken:y}));Y(I?.users.length,g,"internal-error");const N=I.users[0];_._notifyReloadListener(N);const H=null!==(f=N.providerUserInfo)&&void 0!==f&&f.length?function Kr(_){return _.map(f=>{var{providerId:g}=f,y=(0,se._T)(f,["providerId"]);return{providerId:g,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}(N.providerUserInfo):[],W=function Mr(_,f){return[..._.filter(y=>!f.some(I=>I.providerId===y.providerId)),...f]}(_.providerData,H),rt=!!_.isAnonymous&&!(_.email&&N.passwordHash||W?.length),Ze={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:W,metadata:new an(N.createdAt,N.lastLoginAt),isAnonymous:rt};Object.assign(_,Ze)}),ei.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(_){const f=(0,x.m9)(_);yield xt(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Or(){return(Or=(0,l.Z)(function*(_,f){const g=yield Ge(_,{},(0,l.Z)(function*(){const y=(0,x.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:I,apiKey:N}=_.config,H=ct(_,I,"/v1/token",`key=${N}`),W=yield _._getAdditionalHeaders();return W["Content-Type"]="application/x-www-form-urlencoded",he.fetch()(H,{method:"POST",headers:W,body:y})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class be{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Y(f.idToken,"internal-error"),Y(typeof f.idToken<"u","internal-error"),Y(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Yt(_){const f=yt(_);return Y(f,"internal-error"),Y(typeof f.exp<"u","internal-error"),Y(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var y=this;return(0,l.Z)(function*(){return Y(!y.accessToken||y.refreshToken,f,"user-token-expired"),g||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(f,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var y=this;return(0,l.Z)(function*(){const{accessToken:I,refreshToken:N,expiresIn:H}=yield function bi(_,f){return Or.apply(this,arguments)}(f,g);y.updateTokensAndExpiration(I,N,Number(H))})()}updateTokensAndExpiration(f,g,y){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(f,g){const{refreshToken:y,accessToken:I,expirationTime:N}=g,H=new be;return y&&(Y("string"==typeof y,"internal-error",{appName:f}),H.refreshToken=y),I&&(Y("string"==typeof I,"internal-error",{appName:f}),H.accessToken=I),N&&(Y("number"==typeof N,"internal-error",{appName:f}),H.expirationTime=N),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new be,this.toJSON())}_performRefresh(){return je("not implemented")}}function G(_,f){Y("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class ve{constructor(f){var{uid:g,auth:y,stsTokenManager:I}=f,N=(0,se._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=y,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new an(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,l.Z)(function*(){const y=yield on(g,g.stsTokenManager.getToken(g.auth,f));return Y(y,g.auth,"internal-error"),g.accessToken!==y&&(g.accessToken=y,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),y})()}getIdTokenResult(f){return function Zt(_){return qe.apply(this,arguments)}(this,f)}reload(){return function Ht(_){return yi.apply(this,arguments)}(this)}_assign(f){this!==f&&(Y(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new ve(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var y=this;return(0,l.Z)(function*(){let I=!1;f.idToken&&f.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(f),I=!0),g&&(yield xt(y)),yield y.auth._persistUserIfCurrent(y),I&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var f=this;return(0,l.Z)(function*(){const g=yield f.getIdToken();return yield on(f,function Tn(_,f){return K.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var y,I,N,H,W,Fe,Ue,rt;const Ze=null!==(y=g.displayName)&&void 0!==y?y:void 0,Mn=null!==(I=g.email)&&void 0!==I?I:void 0,$r=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,il=null!==(H=g.photoURL)&&void 0!==H?H:void 0,la=null!==(W=g.tenantId)&&void 0!==W?W:void 0,cs=null!==(Fe=g._redirectEventId)&&void 0!==Fe?Fe:void 0,rl=null!==(Ue=g.createdAt)&&void 0!==Ue?Ue:void 0,ca=null!==(rt=g.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:Xl,emailVerified:Ad,isAnonymous:ec,providerData:sf,stsTokenManager:hu}=g;Y(Xl&&hu,f,"internal-error");const I_=be.fromJSON(this.name,hu);Y("string"==typeof Xl,f,"internal-error"),G(Ze,f.name),G(Mn,f.name),Y("boolean"==typeof Ad,f,"internal-error"),Y("boolean"==typeof ec,f,"internal-error"),G($r,f.name),G(il,f.name),G(la,f.name),G(cs,f.name),G(rl,f.name),G(ca,f.name);const af=new ve({uid:Xl,auth:f,email:Mn,emailVerified:Ad,displayName:Ze,isAnonymous:ec,photoURL:il,phoneNumber:$r,tenantId:la,stsTokenManager:I_,createdAt:rl,lastLoginAt:ca});return sf&&Array.isArray(sf)&&(af.providerData=sf.map(vg=>Object.assign({},vg))),cs&&(af._redirectEventId=cs),af}static _fromIdTokenResponse(f,g,y=!1){return(0,l.Z)(function*(){const I=new be;I.updateFromServerResponse(g);const N=new ve({uid:g.localId,auth:f,stsTokenManager:I,isAnonymous:y});return yield xt(N),N})()}}const ze=new Map;function et(_){dt(_ instanceof Function,"Expected a class definition");let f=ze.get(_);return f?(dt(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,ze.set(_,f),f)}const Qt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,y){var I=this;return(0,l.Z)(function*(){I.storage[g]=y})()}_get(g){var y=this;return(0,l.Z)(function*(){const I=y.storage[g];return void 0===I?null:I})()}_remove(g){var y=this;return(0,l.Z)(function*(){delete y.storage[g]})()}_addListener(g,y){}_removeListener(g,y){}}return _.type="NONE",_})();function j(_,f,g){return`firebase:${_}:${f}:${g}`}class U{constructor(f,g,y){this.persistence=f,this.auth=g,this.userKey=y;const{config:I,name:N}=this.auth;this.fullUserKey=j(this.userKey,I.apiKey,N),this.fullPersistenceKey=j("persistence",I.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?ve._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,l.Z)(function*(){if(g.persistence===f)return;const y=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,y?g.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,y="authUser"){return(0,l.Z)(function*(){if(!g.length)return new U(et(Qt),f,y);const I=(yield Promise.all(g.map(function(){var Ue=(0,l.Z)(function*(rt){if(yield rt._isAvailable())return rt});return function(rt){return Ue.apply(this,arguments)}}()))).filter(Ue=>Ue);let N=I[0]||et(Qt);const H=j(y,f.config.apiKey,f.name);let W=null;for(const Ue of g)try{const rt=yield Ue._get(H);if(rt){const Ze=ve._fromJSON(f,rt);Ue!==N&&(W=Ze),N=Ue;break}}catch{}const Fe=I.filter(Ue=>Ue._shouldAllowMigration);return N._shouldAllowMigration&&Fe.length?(N=Fe[0],W&&(yield N._set(H,W.toJSON())),yield Promise.all(g.map(function(){var Ue=(0,l.Z)(function*(rt){if(rt!==N)try{yield rt._remove(H)}catch{}});return function(rt){return Ue.apply(this,arguments)}}())),new U(N,f,y)):new U(N,f,y)})()}}function J(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(St(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Te(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ei(f))return"Blackberry";if(Mt(f))return"Webos";if(ce(f))return"Safari";if((f.includes("chrome/")||it(f))&&!f.includes("edge/"))return"Chrome";if(Ct(f))return"Android";{const y=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===y?.length)return y[1]}return"Other"}function Te(_=(0,x.z$)()){return/firefox\//i.test(_)}function ce(_=(0,x.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function it(_=(0,x.z$)()){return/crios\//i.test(_)}function St(_=(0,x.z$)()){return/iemobile/i.test(_)}function Ct(_=(0,x.z$)()){return/android/i.test(_)}function Ei(_=(0,x.z$)()){return/blackberry/i.test(_)}function Mt(_=(0,x.z$)()){return/webos/i.test(_)}function Wn(_=(0,x.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Ao(_=(0,x.z$)()){return Wn(_)||Ct(_)||Mt(_)||Ei(_)||/windows phone/i.test(_)||St(_)}function xr(_,f=[]){let g;switch(_){case"Browser":g=J((0,x.z$)());break;case"Worker":g=`${J((0,x.z$)())}-${_}`;break;default:g=_}const y=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${te.SDK_VERSION}/${y}`}function br(){return(br=(0,l.Z)(function*(_){return(yield Ne(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Er(_,f){return $t.apply(this,arguments)}function $t(){return($t=(0,l.Z)(function*(_,f){return Ne(_,"GET","/v2/recaptchaConfig",Ce(_,f))})).apply(this,arguments)}function ws(_){return void 0!==_&&void 0!==_.getResponse}function No(_){return void 0!==_&&void 0!==_.enterprise}class Aa{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Pr(_){return new Promise((f,g)=>{const y=document.createElement("script");y.setAttribute("src",_),y.onload=f,y.onerror=I=>{const N=re("internal-error");N.customData=I,g(N)},y.type="text/javascript",y.charset="UTF-8",function Wu(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(y)})}function Ro(_){return`__${_}${Math.floor(1e6*Math.random())}`}class wc{constructor(f){this.type="recaptcha-enterprise",this.auth=zn(f)}verify(f="verify",g=!1){var y=this;return(0,l.Z)(function*(){function N(){return N=(0,l.Z)(function*(W){if(!g){if(null==W.tenantId&&null!=W._agentRecaptchaConfig)return W._agentRecaptchaConfig.siteKey;if(null!=W.tenantId&&void 0!==W._tenantRecaptchaConfigs[W.tenantId])return W._tenantRecaptchaConfigs[W.tenantId].siteKey}return new Promise(function(){var Fe=(0,l.Z)(function*(Ue,rt){Er(W,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ze=>{if(void 0!==Ze.recaptchaKey){const Mn=new Aa(Ze);return null==W.tenantId?W._agentRecaptchaConfig=Mn:W._tenantRecaptchaConfigs[W.tenantId]=Mn,Ue(Mn.siteKey)}rt(new Error("recaptcha Enterprise site key undefined"))}).catch(Ze=>{rt(Ze)})});return function(Ue,rt){return Fe.apply(this,arguments)}}())}),N.apply(this,arguments)}function H(W,Fe,Ue){const rt=window.grecaptcha;No(rt)?rt.enterprise.ready(()=>{rt.enterprise.execute(W,{action:f}).then(Ze=>{Fe(Ze)}).catch(()=>{Fe("NO_RECAPTCHA")})}):Ue(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((W,Fe)=>{(function I(W){return N.apply(this,arguments)})(y.auth).then(Ue=>{if(!g&&No(window.grecaptcha))H(Ue,W,Fe);else{if(typeof window>"u")return void Fe(new Error("RecaptchaVerifier is only supported in browser"));Pr("https://www.google.com/recaptcha/enterprise.js?render="+Ue).then(()=>{H(Ue,W,Fe)}).catch(rt=>{Fe(rt)})}}).catch(Ue=>{Fe(Ue)})})})()}}function nr(_,f,g){return zs.apply(this,arguments)}function zs(){return(zs=(0,l.Z)(function*(_,f,g,y=!1){const I=new wc(_);let N;try{N=yield I.verify(g)}catch{N=yield I.verify(g,!0)}const H=Object.assign({},f);return Object.assign(H,y?{captchaResp:N}:{captchaResponse:N}),Object.assign(H,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(H,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),H})).apply(this,arguments)}class Fi{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const y=N=>new Promise((H,W)=>{try{H(f(N))}catch(Fe){W(Fe)}});y.onAbort=g,this.queue.push(y);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,l.Z)(function*(){if(g.auth.currentUser===f)return;const y=[];try{for(const I of g.queue)yield I(f),I.onAbort&&y.push(I.onAbort)}catch(I){y.reverse();for(const N of y)try{N()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:I?.message})}})()}}class Cc{constructor(f,g,y,I){this.app=f,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=y,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ir(this),this.idTokenSubscription=new ir(this),this.beforeStateQueue=new Fi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ye,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(f,g){var y=this;return g&&(this._popupRedirectResolver=et(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var I,N;if(!y._deleted&&(y.persistenceManager=yield U.create(y,f),!y._deleted)){if(null!==(I=y._popupRedirectResolver)&&void 0!==I&&I._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch{}yield y.initializeCurrentUser(g),y.lastNotifiedUid=(null===(N=y.currentUser)||void 0===N?void 0:N.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,l.Z)(function*(){var y;const I=yield g.assertedPersistence.getCurrentUser();let N=I,H=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const W=null===(y=g.redirectUser)||void 0===y?void 0:y._redirectEventId,Fe=N?._redirectEventId,Ue=yield g.tryRedirectSignIn(f);(!W||W===Fe)&&Ue?.user&&(N=Ue.user,H=!0)}if(!N)return g.directlySetCurrentUser(null);if(!N._redirectEventId){if(H)try{yield g.beforeStateQueue.runMiddleware(N)}catch(W){N=I,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(W))}return N?g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)}return Y(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(f){var g=this;return(0,l.Z)(function*(){let y=null;try{y=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,l.Z)(function*(){try{yield xt(f)}catch(y){if("auth/network-request-failed"!==y?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function pn(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,l.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,l.Z)(function*(){const y=f?(0,x.m9)(f):null;return y&&Y(y.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(y&&y._clone(g))})()}_updateCurrentUser(f,g=!1){var y=this;return(0,l.Z)(function*(){if(!y._deleted)return f&&Y(y.tenantId===f.tenantId,y,"tenant-id-mismatch"),g||(yield y.beforeStateQueue.runMiddleware(f)),y.queue((0,l.Z)(function*(){yield y.directlySetCurrentUser(f),y.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence(et(f))}))}initializeRecaptchaConfig(){var f=this;return(0,l.Z)(function*(){const g=yield Er(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),y=new Aa(g);null==f.tenantId?f._agentRecaptchaConfig=y:f._tenantRecaptchaConfigs[f.tenantId]=y,y.emailPasswordEnabled&&new wc(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new x.LL("auth","Firebase",f())}onAuthStateChanged(f,g,y){return this.registerStateListener(this.authStateSubscription,f,g,y)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,y){return this.registerStateListener(this.idTokenSubscription,f,g,y)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var y=this;return(0,l.Z)(function*(){const I=yield y.getOrInitRedirectPersistenceManager(g);return null===f?I.removeCurrentUser():I.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const y=f&&et(f)||g._popupRedirectResolver;Y(y,g,"argument-error"),g.redirectPersistenceManager=yield U.create(g,[et(y._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,l.Z)(function*(){var y,I;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(y=g._currentUser)||void 0===y?void 0:y._redirectEventId)===f?g._currentUser:(null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,l.Z)(function*(){if(f===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,y,I){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),H=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(H,this,"internal-error"),H.then(()=>N(this.currentUser)),"function"==typeof g?f.addObserver(g,y,I):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=xr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.Z)(function*(){var g;const y={"X-Client-Version":f.clientVersion};f.app.options.appId&&(y["X-Firebase-gmpid"]=f.app.options.appId);const I=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();I&&(y["X-Firebase-Client"]=I);const N=yield f._getAppCheckToken();return N&&(y["X-Firebase-AppCheck"]=N),y})()}_getAppCheckToken(){var f=this;return(0,l.Z)(function*(){var g;const y=yield null===(g=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return y?.error&&function lt(_,...f){at.logLevel<=de.in.WARN&&at.warn(`Auth (${te.SDK_VERSION}): ${_}`,...f)}(`Error while retrieving App Check token: ${y.error}`),y?.token})()}}function zn(_){return(0,x.m9)(_)}class ir{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,x.ne)(g=>this.observer=g)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xo(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function zu(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Zs{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return je("not implemented")}_getIdTokenResponse(f){return je("not implemented")}_linkToIdToken(f,g){return je("not implemented")}_getReauthenticationResolver(f){return je("not implemented")}}function Zu(_,f){return Po.apply(this,arguments)}function Po(){return(Po=(0,l.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:resetPassword",Ce(_,f))})).apply(this,arguments)}function Cs(_,f){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,l.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Dl(){return(Dl=(0,l.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:update",Ce(_,f))})).apply(this,arguments)}function Di(_,f){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,l.Z)(function*(_,f){return gt(_,"POST","/v1/accounts:signInWithPassword",Ce(_,f))})).apply(this,arguments)}function wl(_,f){return Na.apply(this,arguments)}function Na(){return(Na=(0,l.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:sendOobCode",Ce(_,f))})).apply(this,arguments)}function Cl(){return(Cl=(0,l.Z)(function*(_,f){return wl(_,f)})).apply(this,arguments)}function ko(_,f){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,l.Z)(function*(_,f){return wl(_,f)})).apply(this,arguments)}function Gt(_,f){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,l.Z)(function*(_,f){return wl(_,f)})).apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(_,f){return wl(_,f)})).apply(this,arguments)}function Ac(){return(Ac=(0,l.Z)(function*(_,f){return gt(_,"POST","/v1/accounts:signInWithEmailLink",Ce(_,f))})).apply(this,arguments)}function Fo(){return(Fo=(0,l.Z)(function*(_,f){return gt(_,"POST","/v1/accounts:signInWithEmailLink",Ce(_,f))})).apply(this,arguments)}class Tl extends Zs{constructor(f,g,y,I=null){super("password",y),this._email=f,this._password=g,this._tenantId=I}static _fromEmailAndPassword(f,g){return new Tl(f,g,"password")}static _fromEmailAndCode(f,g,y=null){return new Tl(f,g,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,l.Z)(function*(){var y;switch(g.signInMethod){case"password":const I={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=f._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const N=yield nr(f,I,"signInWithPassword");return Di(f,N)}return Di(f,I).catch(function(){var N=(0,l.Z)(function*(H){if("auth/missing-recaptcha-token"===H.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const W=yield nr(f,I,"signInWithPassword");return Di(f,W)}return Promise.reject(H)});return function(H){return N.apply(this,arguments)}}());case"emailLink":return function Ai(_,f){return Ac.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:me(f,"internal-error")}})()}_linkToIdToken(f,g){var y=this;return(0,l.Z)(function*(){switch(y.signInMethod){case"password":return Cs(f,{idToken:g,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Mh(_,f){return Fo.apply(this,arguments)}(f,{idToken:g,email:y._email,oobCode:y._password});default:me(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function sr(_,f){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(_,f){return gt(_,"POST","/v1/accounts:signInWithIdp",Ce(_,f))})).apply(this,arguments)}class bt extends Zs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new bt(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):me("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:y,signInMethod:I}=g,N=(0,se._T)(g,["providerId","signInMethod"]);if(!y||!I)return null;const H=new bt(y,I);return H.idToken=N.idToken||void 0,H.accessToken=N.accessToken||void 0,H.secret=N.secret,H.nonce=N.nonce,H.pendingToken=N.pendingToken||null,H}_getIdTokenResponse(f){return sr(f,this.buildRequest())}_linkToIdToken(f,g){const y=this.buildRequest();return y.idToken=g,sr(f,y)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,sr(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,x.xO)(g)}return f}}function Ni(){return(Ni=(0,l.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:sendVerificationCode",Ce(_,f))})).apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(_,f){return gt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ce(_,f))})).apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(_,f){const g=yield gt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ce(_,f));if(g.temporaryProof)throw cn(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const qr={USER_NOT_FOUND:"user-not-found"};function Dt(){return(Dt=(0,l.Z)(function*(_,f){return gt(_,"POST","/v1/accounts:signInWithPhoneNumber",Ce(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),qr)})).apply(this,arguments)}class hi extends Zs{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new hi({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new hi({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function Ys(_,f){return di.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Ra(_,f){return On.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Lo(_,f){return Dt.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:y,verificationCode:I}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:y,code:I}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:y,phoneNumber:I,temporaryProof:N}=f;return y||g||I||N?new hi({verificationId:g,verificationCode:y,phoneNumber:I,temporaryProof:N}):null}}class Nn{constructor(f){var g,y,I,N,H,W;const Fe=(0,x.zd)((0,x.pd)(f)),Ue=null!==(g=Fe.apiKey)&&void 0!==g?g:null,rt=null!==(y=Fe.oobCode)&&void 0!==y?y:null,Ze=function Oh(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=Fe.mode)&&void 0!==I?I:null);Y(Ue&&rt&&Ze,"argument-error"),this.apiKey=Ue,this.operation=Ze,this.code=rt,this.continueUrl=null!==(N=Fe.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(H=Fe.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(W=Fe.tenantId)&&void 0!==W?W:null}static parseLink(f){const g=function Is(_){const f=(0,x.zd)((0,x.pd)(_)).link,g=f?(0,x.zd)((0,x.pd)(f)).deep_link_id:null,y=(0,x.zd)((0,x.pd)(_)).deep_link_id;return(y?(0,x.zd)((0,x.pd)(y)).link:null)||y||g||f||_}(f);try{return new Nn(g)}catch{return null}}}let Ks=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,y){return Tl._fromEmailAndPassword(g,y)}static credentialWithLink(g,y){const I=Nn.parseLink(y);return Y(I,"argument-error"),Tl._fromEmailAndCode(g,I.code,I.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ti{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Jr extends ti{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Qr extends Jr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return Y("providerId"in g&&"signInMethod"in g,"argument-error"),bt._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Y(f.idToken||f.accessToken,"argument-error"),bt._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Qr.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Qr.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:y,oauthTokenSecret:I,pendingToken:N,nonce:H,providerId:W}=f;if(!y&&!I&&!g&&!N||!W)return null;try{return new Qr(W)._credential({idToken:g,accessToken:y,nonce:H,pendingToken:N})}catch{return null}}}let Ss=(()=>{class _ extends Jr{constructor(){super("facebook.com")}static credential(g){return bt._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),or=(()=>{class _ extends Jr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,y){return bt._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:y})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:I}=g;if(!y&&!I)return null;try{return _.credential(y,I)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Ma=(()=>{class _ extends Jr{constructor(){super("github.com")}static credential(g){return bt._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Ot extends Zs{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return sr(f,this.buildRequest())}_linkToIdToken(f,g){const y=this.buildRequest();return y.idToken=g,sr(f,y)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,sr(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:y,signInMethod:I,pendingToken:N}=g;return y&&I&&N&&y===I?new Ot(y,N):null}static _create(f,g){return new Ot(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bo extends ti{constructor(f){Y(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Bo.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Bo.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Ot.fromJSON(f);return Y(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:y}=f;if(!g||!y)return null;try{return Ot._create(y,g)}catch{return null}}}let Il=(()=>{class _ extends Jr{constructor(){super("twitter.com")}static credential(g,y){return bt._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:y})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:y,oauthTokenSecret:I}=g;if(!y||!I)return null;try{return _.credential(y,I)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function ni(_,f){return qs.apply(this,arguments)}function qs(){return(qs=(0,l.Z)(function*(_,f){return gt(_,"POST","/v1/accounts:signUp",Ce(_,f))})).apply(this,arguments)}class ii{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,y,I=!1){return(0,l.Z)(function*(){const N=yield ve._fromIdTokenResponse(f,y,I),H=Ns(y);return new ii({user:N,providerId:H,_tokenResponse:y,operationType:g})})()}static _forOperation(f,g,y){return(0,l.Z)(function*(){yield f._updateTokensIfNecessary(y,!0);const I=Ns(y);return new ii({user:f,providerId:I,_tokenResponse:y,operationType:g})})()}}function Ns(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function xh(){return(xh=(0,l.Z)(function*(_){var f;const g=zn(_);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new ii({user:g.currentUser,providerId:null,operationType:"signIn"});const y=yield ni(g,{returnSecureToken:!0}),I=yield ii._fromIdTokenResponse(g,"signIn",y,!0);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class ri extends x.ZR{constructor(f,g,y,I){var N;super(g.code,g.message),this.operationType=y,this.user=I,Object.setPrototypeOf(this,ri.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(f,g,y,I){return new ri(f,g,y,I)}}function wi(_,f,g,y){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?ri._fromErrorAndOperation(_,N,f,y):N})}function Sl(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function Wi(){return Wi=(0,l.Z)(function*(_,f){const g=(0,x.m9)(_);yield Uo(!0,g,f);const{providerUserInfo:y}=yield function q(_,f){return fe.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),I=Sl(y||[]);return g.providerData=g.providerData.filter(N=>I.has(N.providerId)),I.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Wi.apply(this,arguments)}function Bi(_,f){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,l.Z)(function*(_,f,g=!1){const y=yield on(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return ii._forOperation(_,"link",y)})).apply(this,arguments)}function Uo(_,f,g){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,l.Z)(function*(_,f,g){yield xt(f);const I=!1===_?"provider-already-linked":"no-such-provider";Y(Sl(f.providerData).has(g)===_,f.auth,I)})).apply(this,arguments)}function Hp(_,f){return Al.apply(this,arguments)}function Al(){return(Al=(0,l.Z)(function*(_,f,g=!1){const{auth:y}=_,I="reauthenticate";try{const N=yield on(_,wi(y,I,f,_),g);Y(N.idToken,y,"internal-error");const H=yt(N.idToken);Y(H,y,"internal-error");const{sub:W}=H;return Y(_.uid===W,y,"user-mismatch"),ii._forOperation(_,I,N)}catch(N){throw"auth/user-not-found"===N?.code&&me(y,"user-mismatch"),N}})).apply(this,arguments)}function Mc(_,f){return qu.apply(this,arguments)}function qu(){return(qu=(0,l.Z)(function*(_,f,g=!1){const y="signIn",I=yield wi(_,y,f),N=yield ii._fromIdTokenResponse(_,y,I);return g||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Oc(_,f){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,l.Z)(function*(_,f){return Mc(zn(_),f)})).apply(this,arguments)}function $p(_,f){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(_,f){const g=(0,x.m9)(_);return yield Uo(!1,g,f.providerId),Bi(g,f)})).apply(this,arguments)}function Gp(_,f){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,l.Z)(function*(_,f){return Hp((0,x.m9)(_),f)})).apply(this,arguments)}function kh(){return(kh=(0,l.Z)(function*(_,f){return gt(_,"POST","/v1/accounts:signInWithCustomToken",Ce(_,f))})).apply(this,arguments)}function Xr(){return Xr=(0,l.Z)(function*(_,f){const g=zn(_),y=yield function g_(_,f){return kh.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),I=yield ii._fromIdTokenResponse(g,"signIn",y);return yield g._updateCurrentUser(I.user),I}),Xr.apply(this,arguments)}class xc{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?jo._fromServerResponse(f,g):"totpInfo"in g?Pc._fromServerResponse(f,g):me(f,"internal-error")}}class jo extends xc{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new jo(g)}}class Pc extends xc{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new Pc(g)}}function Oa(_,f,g){var y;Y((null===(y=g.url)||void 0===y?void 0:y.length)>0,_,"invalid-continue-uri"),Y(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Y(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(Y(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function xa(){return xa=(0,l.Z)(function*(_,f,g){var y;const I=zn(_),N={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(y=I._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const H=yield nr(I,N,"getOobCode",!0);g&&Oa(I,H,g),yield ko(I,H)}else g&&Oa(I,N,g),yield ko(I,N).catch(function(){var H=(0,l.Z)(function*(W){if("auth/missing-recaptcha-token"!==W.code)return Promise.reject(W);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Fe=yield nr(I,N,"getOobCode",!0);g&&Oa(I,Fe,g),yield ko(I,Fe)}});return function(W){return H.apply(this,arguments)}}())}),xa.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(_,f,g){yield Zu((0,x.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function ar(){return ar=(0,l.Z)(function*(_,f){yield function rr(_,f){return Dl.apply(this,arguments)}((0,x.m9)(_),{oobCode:f})}),ar.apply(this,arguments)}function Yn(_,f){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,l.Z)(function*(_,f){const g=(0,x.m9)(_),y=yield Zu(g,{oobCode:f}),I=y.requestType;switch(Y(I,g,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(y.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(y.mfaInfo,g,"internal-error");default:Y(y.email,g,"internal-error")}let N=null;return y.mfaInfo&&(N=xc._fromServerResponse(zn(g),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:N},operation:I}})).apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(_,f){const{data:g}=yield Yn((0,x.m9)(_),f);return g.email})).apply(this,arguments)}function Pa(){return Pa=(0,l.Z)(function*(_,f,g){var y;const I=zn(_),N={returnSecureToken:!0,email:f,password:g,clientType:"CLIENT_TYPE_WEB"};let H;if(null!==(y=I._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const Ue=yield nr(I,N,"signUpPassword");H=ni(I,Ue)}else H=ni(I,N).catch(function(){var Ue=(0,l.Z)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ze=yield nr(I,N,"signUpPassword");return ni(I,Ze)}return Promise.reject(rt)});return function(rt){return Ue.apply(this,arguments)}}());const W=yield H.catch(Ue=>Promise.reject(Ue)),Fe=yield ii._fromIdTokenResponse(I,"signIn",W);return yield I._updateCurrentUser(Fe.user),Fe}),Pa.apply(this,arguments)}function ka(){return ka=(0,l.Z)(function*(_,f,g){var y;const I=zn(_),N={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function H(W,Fe){Y(Fe.handleCodeInApp,I,"argument-error"),Fe&&Oa(I,W,Fe)}if(null!==(y=I._getRecaptchaConfig())&&void 0!==y&&y.emailPasswordEnabled){const W=yield nr(I,N,"getOobCode",!0);H(W,g),yield Gt(I,W)}else H(N,g),yield Gt(I,N).catch(function(){var W=(0,l.Z)(function*(Fe){if("auth/missing-recaptcha-token"!==Fe.code)return Promise.reject(Fe);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ue=yield nr(I,N,"getOobCode",!0);H(Ue,g),yield Gt(I,Ue)}});return function(Fe){return W.apply(this,arguments)}}())}),ka.apply(this,arguments)}function Fc(){return(Fc=(0,l.Z)(function*(_,f,g){const y=(0,x.m9)(_),I=Ks.credentialWithLink(f,g||zt());return Y(I._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),Oc(y,I)})).apply(this,arguments)}function Bc(){return(Bc=(0,l.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:createAuthUri",Ce(_,f))})).apply(this,arguments)}function to(){return to=(0,l.Z)(function*(_,f){const y={identifier:f,continueUri:ln()?zt():"http://localhost"},{signinMethods:I}=yield function Lc(_,f){return Bc.apply(this,arguments)}((0,x.m9)(_),y);return I||[]}),to.apply(this,arguments)}function La(){return La=(0,l.Z)(function*(_,f){const g=(0,x.m9)(_),I={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Oa(g.auth,I,f);const{email:N}=yield function Ku(_,f){return Cl.apply(this,arguments)}(g.auth,I);N!==_.email&&(yield _.reload())}),La.apply(this,arguments)}function Nl(){return Nl=(0,l.Z)(function*(_,f,g){const y=(0,x.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&Oa(y.auth,N,g);const{email:H}=yield function Si(_,f){return Ts.apply(this,arguments)}(y.auth,N);H!==_.email&&(yield _.reload())}),Nl.apply(this,arguments)}function id(){return(id=(0,l.Z)(function*(_,f){return Ne(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Vc(){return Vc=(0,l.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const y=(0,x.m9)(_),N={idToken:yield y.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},H=yield on(y,function Wp(_,f){return id.apply(this,arguments)}(y.auth,N));y.displayName=H.displayName||null,y.photoURL=H.photoUrl||null;const W=y.providerData.find(({providerId:Fe})=>"password"===Fe);W&&(W.displayName=y.displayName,W.photoURL=y.photoURL),yield y._updateTokensIfNecessary(H)}),Vc.apply(this,arguments)}function Fh(_,f,g){return $o.apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(_,f,g){const{auth:y}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),g&&(N.password=g);const H=yield on(_,Cs(y,N));yield _._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class Go{constructor(f,g,y={}){this.isNewUser=f,this.providerId=g,this.profile=y}}class Ba extends Go{constructor(f,g,y,I){super(f,g,y),this.username=I}}class Uc extends Go{constructor(f,g){super(f,"facebook.com",g)}}class sd extends Ba{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Ml extends Go{constructor(f,g){super(f,"google.com",g)}}class Va extends Ba{constructor(f,g,y){super(f,"twitter.com",g,y)}}function Lh(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Zp(_){var f,g;if(!_)return null;const{providerId:y}=_,I=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!y&&_?.idToken){const H=null===(g=null===(f=yt(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(H)return new Go(N,"anonymous"!==H&&"custom"!==H?H:null)}if(!y)return null;switch(y){case"facebook.com":return new Uc(N,I);case"github.com":return new sd(N,I);case"google.com":return new Ml(N,I);case"twitter.com":return new Va(N,I,_.screenName||null);case"custom":case"anonymous":return new Go(N,null);default:return new Go(N,y,I)}}(g)}class Fr{constructor(f,g,y){this.type=f,this.credential=g,this.auth=y}static _fromIdtoken(f,g){return new Fr("enroll",f,g)}static _fromMfaPendingCredential(f){return new Fr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,y;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Fr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(y=f.multiFactorSession)&&void 0!==y&&y.idToken)return Fr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class io{constructor(f,g,y){this.session=f,this.hints=g,this.signInResolver=y}static _fromError(f,g){const y=zn(f),I=g.customData._serverResponse,N=(I.mfaInfo||[]).map(W=>xc._fromServerResponse(y,W));Y(I.mfaPendingCredential,y,"internal-error");const H=Fr._fromMfaPendingCredential(I.mfaPendingCredential);return new io(H,N,function(){var W=(0,l.Z)(function*(Fe){const Ue=yield Fe._process(y,H);delete I.mfaInfo,delete I.mfaPendingCredential;const rt=Object.assign(Object.assign({},I),{idToken:Ue.idToken,refreshToken:Ue.refreshToken});switch(g.operationType){case"signIn":const Ze=yield ii._fromIdTokenResponse(y,g.operationType,rt);return yield y._updateCurrentUser(Ze.user),Ze;case"reauthenticate":return Y(g.user,y,"internal-error"),ii._forOperation(g.user,g.operationType,rt);default:me(y,"internal-error")}});return function(Fe){return W.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,l.Z)(function*(){return g.signInResolver(f)})()}}class Xt{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(y=>xc._fromServerResponse(f.auth,y)))})}static _fromUser(f){return new Xt(f)}getSession(){var f=this;return(0,l.Z)(function*(){return Fr._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var y=this;return(0,l.Z)(function*(){const I=f,N=yield y.getSession(),H=yield on(y.user,I._process(y.user.auth,N,g));return yield y.user._updateTokensIfNecessary(H),y.user.reload()})()}unenroll(f){var g=this;return(0,l.Z)(function*(){const y="string"==typeof f?f:f.uid,I=yield g.user.getIdToken();try{const N=yield on(g.user,function ld(_,f){return Ne(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ce(_,f))}(g.user.auth,{idToken:I,mfaEnrollmentId:y}));g.enrolledFactors=g.enrolledFactors.filter(({uid:H})=>H!==y),yield g.user._updateTokensIfNecessary(N),yield g.user.reload()}catch(N){throw N}})()}}const ro=new WeakMap,pi="__sak";class Hh{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(pi,"1"),this.storage.removeItem(pi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Wo=(()=>{class _ extends Hh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,y)=>this.onStorageEvent(g,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Gc(){const _=(0,x.z$)();return ce(_)||Wn(_)}()&&function Ec(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ao(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const y of Object.keys(this.listeners)){const I=this.storage.getItem(y),N=this.localCache[y];I!==N&&g(y,N,I)}}onStorageEvent(g,y=!1){if(!g.key)return void this.forAllChangedKeys((W,Fe,Ue)=>{this.notifyListeners(W,Ue)});const I=g.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const W=this.storage.getItem(I);if(g.newValue!==W)null!==g.newValue?this.storage.setItem(I,g.newValue):this.storage.removeItem(I);else if(this.localCache[I]===g.newValue&&!y)return}const N=()=>{const W=this.storage.getItem(I);!y&&this.localCache[I]===W||this.notifyListeners(I,W)},H=this.storage.getItem(I);!function Es(){return(0,x.w1)()&&10===document.documentMode}()||H===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,y){this.localCache[g]=y;const I=this.listeners[g];if(I)for(const N of Array.from(I))N(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,y,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:y,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,y){var I=()=>super._set,N=this;return(0,l.Z)(function*(){yield I().call(N,g,y),N.localCache[g]=JSON.stringify(y)})()}_get(g){var y=()=>super._get,I=this;return(0,l.Z)(function*(){const N=yield y().call(I,g);return I.localCache[g]=JSON.stringify(N),N})()}_remove(g){var y=()=>super._remove,I=this;return(0,l.Z)(function*(){yield y().call(I,g),delete I.localCache[g]})()}}return _.type="LOCAL",_})(),Ui=(()=>{class _ extends Hh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,y){}_removeListener(g,y){}}return _.type="SESSION",_})();let Wc=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const y=this.receivers.find(N=>N.isListeningto(g));if(y)return y;const I=new _(g);return this.receivers.push(I),I}isListeningto(g){return this.eventTarget===g}handleEvent(g){var y=this;return(0,l.Z)(function*(){const I=g,{eventId:N,eventType:H,data:W}=I.data,Fe=y.handlersMap[H];if(!Fe?.size)return;I.ports[0].postMessage({status:"ack",eventId:N,eventType:H});const Ue=Array.from(Fe).map(function(){var Ze=(0,l.Z)(function*(Mn){return Mn(I.origin,W)});return function(Mn){return Ze.apply(this,arguments)}}()),rt=yield function Wh(_){return Promise.all(_.map(function(){var f=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(y){return{fulfilled:!1,reason:y}}});return function(g){return f.apply(this,arguments)}}()))}(Ue);I.ports[0].postMessage({status:"done",eventId:N,eventType:H,response:rt})})()}_subscribe(g,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(y)}_unsubscribe(g,y){this.handlersMap[g]&&y&&this.handlersMap[g].delete(y),(!y||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function xl(_="",f=10){let g="";for(let y=0;y<f;y++)g+=Math.floor(10*Math.random());return _+g}class Kp{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,y=50){var I=this;return(0,l.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let H,W;return new Promise((Fe,Ue)=>{const rt=xl("",20);N.port1.start();const Ze=setTimeout(()=>{Ue(new Error("unsupported_event"))},y);W={messageChannel:N,onMessage(Mn){const $r=Mn;if($r.data.eventId===rt)switch($r.data.status){case"ack":clearTimeout(Ze),H=setTimeout(()=>{Ue(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),Fe($r.data.response);break;default:clearTimeout(Ze),clearTimeout(H),Ue(new Error("invalid_response"))}}},I.handlers.add(W),N.port1.addEventListener("message",W.onMessage),I.target.postMessage({eventType:f,eventId:rt,data:g},[N.port2])}).finally(()=>{W&&I.removeMessageHandler(W)})})()}}function bn(){return window}function wt(){return typeof bn().WorkerGlobalScope<"u"&&"function"==typeof bn().importScripts}function ud(){return(ud=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const dd="firebaseLocalStorageDb",Lr="firebaseLocalStorage",zc="fbase_key";class kl{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Fl(_,f){return _.transaction([Lr],f?"readwrite":"readonly").objectStore(Lr)}function Zc(){const _=indexedDB.open(dd,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const y=_.result;try{y.createObjectStore(Lr,{keyPath:zc})}catch(I){g(I)}}),_.addEventListener("success",(0,l.Z)(function*(){const y=_.result;y.objectStoreNames.contains(Lr)?f(y):(y.close(),yield function Jp(){const _=indexedDB.deleteDatabase(dd);return new kl(_).toPromise()}(),f(yield Zc()))}))})}function Me(_,f,g){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,l.Z)(function*(_,f,g){const y=Fl(_,!0).put({[zc]:f,value:g});return new kl(y).toPromise()})).apply(this,arguments)}function Ll(){return(Ll=(0,l.Z)(function*(_,f){const g=Fl(_,!1).get(f),y=yield new kl(g).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function ai(_,f){const g=Fl(_,!0).delete(f);return new kl(g).toPromise()}const ao=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield Zc()),g.db})()}_withRetries(g){var y=this;return(0,l.Z)(function*(){let I=0;for(;;)try{const N=yield y._openDb();return yield g(N)}catch(N){if(I++>3)throw N;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return wt()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=Wc._getInstance(function oi(){return wt()?self:null}()),g.receiver._subscribe("keyChanged",function(){var y=(0,l.Z)(function*(I,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(I,N){return y.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var y=(0,l.Z)(function*(I,N){return["keyChanged"]});return function(I,N){return y.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var y,I;if(g.activeServiceWorker=yield function cd(){return ud.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Kp(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);N&&null!==(y=N[0])&&void 0!==y&&y.fulfilled&&null!==(I=N[0])&&void 0!==I&&I.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var y=this;return(0,l.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function Pl(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:g},y.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Zc();return yield Me(g,pi,"1"),yield ai(g,pi),!0}catch{}return!1})()}_withPendingWrite(g){var y=this;return(0,l.Z)(function*(){y.pendingWrites++;try{yield g()}finally{y.pendingWrites--}})()}_set(g,y){var I=this;return(0,l.Z)(function*(){return I._withPendingWrite((0,l.Z)(function*(){return yield I._withRetries(N=>Me(N,g,y)),I.localCache[g]=y,I.notifyServiceWorker(g)}))})()}_get(g){var y=this;return(0,l.Z)(function*(){const I=yield y._withRetries(N=>function wr(_,f){return Ll.apply(this,arguments)}(N,g));return y.localCache[g]=I,I})()}_remove(g){var y=this;return(0,l.Z)(function*(){return y._withPendingWrite((0,l.Z)(function*(){return yield y._withRetries(I=>ai(I,g)),delete y.localCache[g],y.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const y=yield g._withRetries(H=>{const W=Fl(H,!1).getAll();return new kl(W).toPromise()});if(!y)return[];if(0!==g.pendingWrites)return[];const I=[],N=new Set;for(const{fbase_key:H,value:W}of y)N.add(H),JSON.stringify(g.localCache[H])!==JSON.stringify(W)&&(g.notifyListeners(H,W),I.push(H));for(const H of Object.keys(g.localCache))g.localCache[H]&&!N.has(H)&&(g.notifyListeners(H,null),I.push(H));return I})()}notifyListeners(g,y){this.localCache[g]=y;const I=this.listeners[g];if(I)for(const N of Array.from(I))N(y)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(y)}_removeListener(g,y){this.listeners[g]&&(this.listeners[g].delete(y),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),zi=1e12;class hd{constructor(f){this.auth=f,this.counter=zi,this._widgets=new Map}render(f,g){const y=this.counter;return this._widgets.set(y,new lo(f,this.auth.name,g||{})),this.counter++,y}reset(f){var g;const y=f||zi;null===(g=this._widgets.get(y))||void 0===g||g.delete(),this._widgets.delete(y)}getResponse(f){var g;return(null===(g=this._widgets.get(f||zi))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,l.Z)(function*(){var y;return null===(y=g._widgets.get(f||zi))||void 0===y||y.execute(),""})()}}class lo{constructor(f,g,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof f?document.getElementById(f):f;Y(I,"argument-error",{appName:g}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Os(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<_;y++)f.push(g.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const fd=Ro("rcb"),pd=new Gn(3e4,6e4);class Qp{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=bn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return Y(function Ul(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(g),f,"argument-error"),this.shouldResolveImmediately(g)&&ws(bn().grecaptcha)?Promise.resolve(bn().grecaptcha):new Promise((y,I)=>{const N=bn().setTimeout(()=>{I(re(f,"network-request-failed"))},pd.get());bn()[fd]=()=>{bn().clearTimeout(N),delete bn()[fd];const W=bn().grecaptcha;if(!W||!ws(W))return void I(re(f,"internal-error"));const Fe=W.render;W.render=(Ue,rt)=>{const Ze=Fe(Ue,rt);return this.counter++,Ze},this.hostLanguage=g,y(W)},Pr(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:fd,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),I(re(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=bn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class gd{load(f){return(0,l.Z)(function*(){return new hd(f)})()}clearedOneInstance(){}}const jl="recaptcha",md={theme:"light",type:"image"};class _d{constructor(f,g=Object.assign({},md),y){this.parameters=g,this.type=jl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zn(y),this.isInvisible="invisible"===this.parameters.size,Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof f?document.getElementById(f):f;Y(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gd:new Qp,this.validateStartingState()}verify(){var f=this;return(0,l.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),y=f.getAssertedRecaptcha();return y.getResponse(g)||new Promise(N=>{const H=W=>{W&&(f.tokenChangeListeners.delete(H),N(W))};f.tokenChangeListeners.add(H),f.isInvisible&&y.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(y=>y(g)),"function"==typeof f)f(g);else if("string"==typeof f){const y=bn()[f];"function"==typeof y&&y(g)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const y=document.createElement("div");g.appendChild(y),g=y}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.Z)(function*(){Y(ln()&&!wt(),f.auth,"internal-error"),yield function Zh(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Ds(_){return br.apply(this,arguments)}(f.auth);Y(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _i{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=hi._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Kn(){return(Kn=(0,l.Z)(function*(_,f,g){const y=zn(_),I=yield xn(y,f,(0,x.m9)(g));return new _i(I,N=>Oc(y,N))})).apply(this,arguments)}function es(){return(es=(0,l.Z)(function*(_,f,g){const y=(0,x.m9)(_);yield Uo(!1,y,"phone");const I=yield xn(y.auth,f,(0,x.m9)(g));return new _i(I,N=>$p(y,N))})).apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(_,f,g){const y=(0,x.m9)(_),I=yield xn(y.auth,f,(0,x.m9)(g));return new _i(I,N=>Gp(y,N))})).apply(this,arguments)}function xn(_,f,g){return en.apply(this,arguments)}function en(){return en=(0,l.Z)(function*(_,f,g){var y;const I=yield g.verify();try{let N;if(Y("string"==typeof I,_,"argument-error"),Y(g.type===jl,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const H=N.session;if("phoneNumber"in N)return Y("enroll"===H.type,_,"internal-error"),(yield function ja(_,f){return Ne(_,"POST","/v2/accounts/mfaEnrollment:start",Ce(_,f))}(_,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{Y("signin"===H.type,_,"internal-error");const W=(null===(y=N.multiFactorHint)||void 0===y?void 0:y.uid)||N.multiFactorUid;return Y(W,_,"missing-multi-factor-info"),(yield function Yc(_,f){return Ne(_,"POST","/v2/accounts/mfaSignIn:start",Ce(_,f))}(_,{mfaPendingCredential:H.credential,mfaEnrollmentId:W,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield function An(_,f){return Ni.apply(this,arguments)}(_,{phoneNumber:N.phoneNumber,recaptchaToken:I});return H}}finally{g._reset()}}),en.apply(this,arguments)}function En(){return(En=(0,l.Z)(function*(_,f){yield Bi((0,x.m9)(_),f)})).apply(this,arguments)}let ts=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=zn(g)}verifyPhoneNumber(g,y){return xn(this.auth,g,(0,x.m9)(y))}static credential(g,y){return hi._fromVerification(g,y)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:y,temporaryProof:I}=g;return y&&I?hi._fromTokenResponse(y,I):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function xs(_,f){return f?et(f):(Y(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Ln extends Zs{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return sr(f,this._buildIdpRequest())}_linkToIdToken(f,g){return sr(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return sr(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Zo(_){return Mc(_.auth,new Ln(_),_.bypassAuthState)}function $a(_){const{auth:f,user:g}=_;return Y(g,f,"internal-error"),Hp(g,new Ln(_),_.bypassAuthState)}function Cr(_){return Br.apply(this,arguments)}function Br(){return(Br=(0,l.Z)(function*(_){const{auth:f,user:g}=_;return Y(g,f,"internal-error"),Bi(g,new Ln(_),_.bypassAuthState)})).apply(this,arguments)}class Vr{constructor(f,g,y,I,N=!1){this.auth=f,this.resolver=y,this.user=I,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,l.Z)(function*(y,I){f.pendingPromise={resolve:y,reject:I};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(y,I){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,l.Z)(function*(){const{urlResponse:y,sessionId:I,postBody:N,tenantId:H,error:W,type:Fe}=f;if(W)return void g.reject(W);const Ue={auth:g.auth,requestUri:y,sessionId:I,tenantId:H||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Fe)(Ue))}catch(rt){g.reject(rt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Zo;case"linkViaPopup":case"linkViaRedirect":return Cr;case"reauthViaPopup":case"reauthViaRedirect":return $a;default:me(this.auth,"internal-error")}}resolve(f){dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){dt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bn=new Gn(2e3,1e4);function Wa(){return(Wa=(0,l.Z)(function*(_,f,g){const y=zn(_);xe(_,f,ti);const I=xs(y,g);return new Yo(y,"signInViaPopup",f,I).executeNotNull()})).apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(_,f,g){const y=(0,x.m9)(_);xe(y.auth,f,ti);const I=xs(y.auth,g);return new Yo(y.auth,"reauthViaPopup",f,I,y).executeNotNull()})).apply(this,arguments)}function F(){return(F=(0,l.Z)(function*(_,f,g){const y=(0,x.m9)(_);xe(y.auth,f,ti);const I=xs(y.auth,g);return new Yo(y.auth,"linkViaPopup",f,I,y).executeNotNull()})).apply(this,arguments)}let Yo=(()=>{class _ extends Vr{constructor(g,y,I,N,H){super(g,y,N,H),this.provider=I,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const y=yield g.execute();return Y(y,g.auth,"internal-error"),y})()}onExecution(){var g=this;return(0,l.Z)(function*(){dt(1===g.filter.length,"Popup operations only handle one event");const y=xl();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],y),g.authWindow.associatedEvent=y,g.resolver._originValidation(g.auth).catch(I=>{g.reject(I)}),g.resolver._isIframeWebStorageSupported(g.auth,I=>{I||g.reject(re(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var y,I;this.pollId=null!==(I=null===(y=this.authWindow)||void 0===y?void 0:y.window)&&void 0!==I&&I.closed?window.setTimeout(()=>{this.pollId=null,this.reject(re(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Bn.get())};g()}}return _.currentPopupAction=null,_})();const ns="pendingRedirect",is=new Map;class vd extends Vr{constructor(f,g,y=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,y),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,l.Z)(function*(){let y=is.get(g.auth._key());if(!y){try{const N=(yield function qc(_,f){return Gl.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;y=()=>Promise.resolve(N)}catch(I){y=()=>Promise.reject(I)}is.set(g.auth._key(),y)}return g.bypassAuthState||is.set(g.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,y=this;return(0,l.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(y,f);if("unknown"!==f.type){if(f.eventId){const I=yield y.auth._redirectUserForId(f.eventId);if(I)return y.user=I,g().call(y,f);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Gl(){return(Gl=(0,l.Z)(function*(_,f){const g=qo(f),y=za(_);if(!(yield y._isAvailable()))return!1;const I="true"===(yield y._get(g));return yield y._remove(g),I})).apply(this,arguments)}function Yh(_,f){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,l.Z)(function*(_,f){return za(_)._set(qo(f),"true")})).apply(this,arguments)}function Wl(_,f){is.set(_._key(),f)}function za(_){return et(_._redirectPersistence)}function qo(_){return j(ns,_.config.apiKey,_.name)}function co(_,f,g){return function Za(_,f,g){return Zi.apply(this,arguments)}(_,f,g)}function Zi(){return(Zi=(0,l.Z)(function*(_,f,g){const y=zn(_);xe(_,f,ti),yield y._initializationPromise;const I=xs(y,g);return yield Yh(I,y),I._openRedirect(y,f,"signInViaRedirect")})).apply(this,arguments)}function zl(_,f,g){return function Ya(_,f,g){return qn.apply(this,arguments)}(_,f,g)}function qn(){return(qn=(0,l.Z)(function*(_,f,g){const y=(0,x.m9)(_);xe(y.auth,f,ti),yield y.auth._initializationPromise;const I=xs(y.auth,g);yield Yh(I,y.auth);const N=yield ur(y);return I._openRedirect(y.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Jo(_,f,g){return function Qc(_,f,g){return cr.apply(this,arguments)}(_,f,g)}function cr(){return(cr=(0,l.Z)(function*(_,f,g){const y=(0,x.m9)(_);xe(y.auth,f,ti),yield y.auth._initializationPromise;const I=xs(y.auth,g);yield Uo(!1,y,f.providerId),yield Yh(I,y.auth);const N=yield ur(y);return I._openRedirect(y.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function Xc(){return(Xc=(0,l.Z)(function*(_,f){return yield zn(_)._initializationPromise,jr(_,f,!1)})).apply(this,arguments)}function jr(_,f){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,l.Z)(function*(_,f,g=!1){const y=zn(_),I=xs(y,f),H=yield new vd(y,I,g).execute();return H&&!g&&(delete H.user._redirectEventId,yield y._persistUserIfCurrent(H.user),yield y._setRedirectUser(null,f)),H})).apply(this,arguments)}function ur(_){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,l.Z)(function*(_){const f=xl(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Zl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(f,y)&&(g=!0,this.sendToConsumer(f,y),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function qa(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uo(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var y;if(f.error&&!uo(f)){const I=(null===(y=f.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";g.onError(re(this.auth,I))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const y=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&y}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rs(f))}saveEventToCache(f){this.cachedEventUids.add(rs(f)),this.lastProcessedEventTime=Date.now()}}function rs(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function uo({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===f?.code}function Jn(_){return eu.apply(this,arguments)}function eu(){return(eu=(0,l.Z)(function*(_,f={}){return Ne(_,"GET","/v1/projects",f)})).apply(this,arguments)}const tu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ho=/^https?/;function ss(){return(ss=(0,l.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Jn(_);for(const g of f)try{if(nu(g))return}catch{}me(_,"unauthorized-domain")})).apply(this,arguments)}function nu(_){const f=zt(),{protocol:g,hostname:y}=new URL(f);if(_.startsWith("chrome-extension://")){const H=new URL(_);return""===H.hostname&&""===y?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&H.hostname===y}if(!ho.test(g))return!1;if(tu.test(_))return y===_;const I=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(y)}const Ja=new Gn(3e4,6e4);function iu(){const _=bn().___jsl;if(_?.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Yl=null;const yd=new Gn(5e3,15e3),Xp="__/auth/iframe",fo="emulator/auth/iframe",Qo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},po=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xo(_){const f=_.config;Y(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?le(f,fo):`https://${_.config.authDomain}/${Xp}`,y={apiKey:f.apiKey,appName:_.name,v:te.SDK_VERSION},I=po.get(_.config.apiHost);I&&(y.eid=I);const N=_._getFrameworks();return N.length&&(y.fw=N.join(",")),`${g}?${(0,x.xO)(y).slice(1)}`}function C(){return C=(0,l.Z)(function*(_){const f=yield function dr(_){return Yl=Yl||function _n(_){return new Promise((f,g)=>{var y,I,N;function H(){iu(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{iu(),g(re(_,"network-request-failed"))},timeout:Ja.get()})}if(null!==(I=null===(y=bn().gapi)||void 0===y?void 0:y.iframes)&&void 0!==I&&I.Iframe)f(gapi.iframes.getContext());else{if(null===(N=bn().gapi)||void 0===N||!N.load){const W=Ro("iframefcb");return bn()[W]=()=>{gapi.load?H():g(re(_,"network-request-failed"))},Pr(`https://apis.google.com/js/api.js?onload=${W}`).catch(Fe=>g(Fe))}H()}}).catch(f=>{throw Yl=null,f})}(_),Yl}(_),g=bn().gapi;return Y(g,_,"internal-error"),f.open({where:document.body,url:Xo(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qo,dontclear:!0},y=>new Promise(function(){var I=(0,l.Z)(function*(N,H){yield y.restyle({setHideOnLeave:!1});const W=re(_,"network-request-failed"),Fe=bn().setTimeout(()=>{H(W)},yd.get());function Ue(){bn().clearTimeout(Fe),N(y)}y.ping(Ue).then(Ue,()=>{H(W)})});return function(N,H){return I.apply(this,arguments)}}()))}),C.apply(this,arguments)}const A={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Qe{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const It="__/auth/handler",At="emulator/auth/handler",Qn=encodeURIComponent("fac");function Vn(_,f,g,y,I,N){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,l.Z)(function*(_,f,g,y,I,N){Y(_.config.authDomain,_,"auth-domain-config-required"),Y(_.config.apiKey,_,"invalid-api-key");const H={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:y,v:te.SDK_VERSION,eventId:I};if(f instanceof ti){f.setDefaultLanguage(_.languageCode),H.providerId=f.providerId||"",(0,x.xb)(f.getCustomParameters())||(H.customParameters=JSON.stringify(f.getCustomParameters()));for(const[rt,Ze]of Object.entries(N||{}))H[rt]=Ze}if(f instanceof Jr){const rt=f.getScopes().filter(Ze=>""!==Ze);rt.length>0&&(H.scopes=rt.join(","))}_.tenantId&&(H.tid=_.tenantId);const W=H;for(const rt of Object.keys(W))void 0===W[rt]&&delete W[rt];const Fe=yield _._getAppCheckToken(),Ue=Fe?`#${Qn}=${encodeURIComponent(Fe)}`:"";return`${function Un({config:_}){return _.emulator?le(_,At):`https://${_.authDomain}/${It}`}(_)}?${(0,x.xO)(W).slice(1)}${Ue}`})).apply(this,arguments)}const go="webStorageSupport",os=class Ti{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ui,this._completeRedirectFn=jr,this._overrideRedirectResult=Wl}_openPopup(f,g,y,I){var N=this;return(0,l.Z)(function*(){var H;dt(null===(H=N.eventManagers[f._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const W=yield Vn(f,g,y,zt(),I);return function Ke(_,f,g,y=500,I=600){const N=Math.max((window.screen.availHeight-I)/2,0).toString(),H=Math.max((window.screen.availWidth-y)/2,0).toString();let W="";const Fe=Object.assign(Object.assign({},A),{width:y.toString(),height:I.toString(),top:N,left:H}),Ue=(0,x.z$)().toLowerCase();g&&(W=it(Ue)?"_blank":g),Te(Ue)&&(f=f||"http://localhost",Fe.scrollbars="yes");const rt=Object.entries(Fe).reduce((Mn,[$r,il])=>`${Mn}${$r}=${il},`,"");if(function ui(_=(0,x.z$)()){var f;return Wn(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Ue)&&"_self"!==W)return function ht(_,f){const g=document.createElement("a");g.href=_,g.target=f;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(y)}(f||"",W),new Qe(null);const Ze=window.open(f||"",W,rt);Y(Ze,_,"popup-blocked");try{Ze.focus()}catch{}return new Qe(Ze)}(f,W,xl())})()}_openRedirect(f,g,y,I){var N=this;return(0,l.Z)(function*(){return yield N._originValidation(f),function qp(_){bn().location.href=_}(yield Vn(f,g,y,zt(),I)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:I,promise:N}=this.eventManagers[g];return I?Promise.resolve(I):(dt(N,"If manager is not set, promise should be"),N)}const y=this.initAndGetManager(f);return this.eventManagers[g]={promise:y},y.catch(()=>{delete this.eventManagers[g]}),y}initAndGetManager(f){var g=this;return(0,l.Z)(function*(){const y=yield function E(_){return C.apply(this,arguments)}(f),I=new Zl(f);return y.register("authEvent",N=>(Y(N?.authEvent,f,"invalid-auth-event"),{status:I.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:I},g.iframes[f._key()]=y,I})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(go,{type:go},I=>{var N;const H=null===(N=I?.[0])||void 0===N?void 0:N[go];void 0!==H&&g(!!H),me(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Kh(_){return ss.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ao()||ce()||Wn()}};class Yi{constructor(f){this.factorId=f}_process(f,g,y){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,y);case"signin":return this._finalizeSignIn(f,g.credential);default:return je("unexpected MultiFactorSessionType")}}}class ea extends Yi{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ea(f)}_finalizeEnroll(f,g,y){return function jh(_,f){return Ne(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ce(_,f))}(f,{idToken:g,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function zh(_,f){return Ne(_,"POST","/v2/accounts/mfaSignIn:finalize",Ce(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qh=(()=>{class _{constructor(){}static assertion(g){return ea._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var tg="@firebase/auth";class Ir{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(y=>{f(y?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Xa(){return window}(0,x.Pz)("authIdTokenMaxAge"),function Qa(_){(0,te._registerComponent)(new _e.wA("auth",(f,{options:g})=>{const y=f.getProvider("app").getImmediate(),I=f.getProvider("heartbeat"),N=f.getProvider("app-check-internal"),{apiKey:H,authDomain:W}=y.options;Y(H&&!H.includes(":"),"invalid-api-key",{appName:y.name});const Fe={apiKey:H,authDomain:W,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xr(_)},Ue=new Cc(y,I,N,Fe);return function Rh(_,f){const g=f?.persistence||[],y=(Array.isArray(g)?g:[g]).map(et);f?.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(y,f?.popupRedirectResolver)}(Ue,g),Ue},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,y)=>{f.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new _e.wA("auth-internal",f=>{const g=zn(f.getProvider("auth").getImmediate());return new Ir(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(tg,"0.23.2",function Ed(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,te.registerVersion)(tg,"0.23.2","esm2017")}("Browser");function ks(){return ks=(0,l.Z)(function*(_,f,g){var y;const{BuildInfo:I}=Xa();dt(f.sessionId,"AuthEvent did not contain a session ID");const N=yield function ef(_){return su.apply(this,arguments)}(f.sessionId),H={};return Wn()?H.ibi=I.packageName:Ct()?H.apn=I.packageName:me(_,"operation-not-supported-in-this-environment"),I.displayName&&(H.appDisplayName=I.displayName),H.sessionId=N,Vn(_,g,f.type,void 0,null!==(y=f.eventId)&&void 0!==y?y:void 0,H)}),ks.apply(this,arguments)}function Qh(){return(Qh=(0,l.Z)(function*(_){const{BuildInfo:f}=Xa(),g={};Wn()?g.iosBundleId=f.packageName:Ct()?g.androidPackageName=f.packageName:me(_,"operation-not-supported-in-this-environment"),yield Jn(_,g)})).apply(this,arguments)}function Kl(){return(Kl=(0,l.Z)(function*(_,f,g){const{cordova:y}=Xa();let I=()=>{};try{yield new Promise((N,H)=>{let W=null;function Fe(){var Ze;N();const Mn=null===(Ze=y.plugins.browsertab)||void 0===Ze?void 0:Ze.close;"function"==typeof Mn&&Mn(),"function"==typeof g?.close&&g.close()}function Ue(){W||(W=window.setTimeout(()=>{H(re(_,"redirect-cancelled-by-user"))},2e3))}function rt(){"visible"===document?.visibilityState&&Ue()}f.addPassiveListener(Fe),document.addEventListener("resume",Ue,!1),Ct()&&document.addEventListener("visibilitychange",rt,!1),I=()=>{f.removePassiveListener(Fe),document.removeEventListener("resume",Ue,!1),document.removeEventListener("visibilitychange",rt,!1),W&&window.clearTimeout(W)}})}finally{I()}})).apply(this,arguments)}function su(){return(su=(0,l.Z)(function*(_){const f=function ou(_){if(dt(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let y=0;y<_.length;y++)g[y]=_.charCodeAt(y);return g}(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class og extends Zl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,l.Z)(function*(){yield f.initPromise})()}}function tl(_){return tf.apply(this,arguments)}function tf(){return(tf=(0,l.Z)(function*(_){const f=yield Cd()._get(au(_));return f&&(yield Cd()._remove(au(_))),f})).apply(this,arguments)}function nf(){const _=[];for(let g=0;g<20;g++){const y=Math.floor(62*Math.random());_.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(y))}return _.join("")}function Cd(){return et(Wo)}function au(_){return j("authEvent",_.config.apiKey,_.name)}function tn(_){if(!_?.includes("?"))return{};const[f,...g]=_.split("?");return(0,x.zd)(g.join("?"))}const ia=class Lt{constructor(){this._redirectPersistence=Ui,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=jr,this._overrideRedirectResult=Wl}_initialize(f){var g=this;return(0,l.Z)(function*(){const y=f._key();let I=g.eventManagers.get(y);return I||(I=new og(f),g.eventManagers.set(y,I),g.attachCallbackListeners(f,I)),I})()}_openPopup(f){me(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,y,I){var N=this;return(0,l.Z)(function*(){!function Xh(_){var f,g,y,I,N,H,W,Fe,Ue,rt;const Ze=Xa();Y("function"==typeof(null===(f=Ze?.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Y(typeof(null===(g=Ze?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Y("function"==typeof(null===(N=null===(I=null===(y=Ze?.cordova)||void 0===y?void 0:y.plugins)||void 0===I?void 0:I.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(Fe=null===(W=null===(H=Ze?.cordova)||void 0===H?void 0:H.plugins)||void 0===W?void 0:W.browsertab)||void 0===Fe?void 0:Fe.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Y("function"==typeof(null===(rt=null===(Ue=Ze?.cordova)||void 0===Ue?void 0:Ue.InAppBrowser)||void 0===rt?void 0:rt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const H=yield N._initialize(f);yield H.initialized(),H.resetRedirect(),function Ko(){is.clear()}(),yield N._originValidation(f);const W=function ag(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:nf(),postBody:null,tenantId:_.tenantId,error:re(_,"no-auth-event")}}(f,y,I);yield function el(_,f){return Cd()._set(au(_),f)}(f,W);const Fe=yield function Dd(_,f,g){return ks.apply(this,arguments)}(f,W,g),Ue=yield function wd(_){const{cordova:f}=Xa();return new Promise(g=>{f.plugins.browsertab.isAvailable(y=>{let I=null;y?f.plugins.browsertab.openUrl(_):I=f.InAppBrowser.open(_,function Kt(_=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(I)})})}(Fe);return function b_(_,f,g){return Kl.apply(this,arguments)}(f,H,Ue)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ru(_){return Qh.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:y,handleOpenURL:I,BuildInfo:N}=Xa(),H=setTimeout((0,l.Z)(function*(){yield tl(f),g.onEvent(hn())}),500),W=function(){var rt=(0,l.Z)(function*(Ze){clearTimeout(H);const Mn=yield tl(f);let $r=null;Mn&&Ze?.url&&($r=function E_(_,f){var g,y;const I=function cg(_){const f=tn(_),g=f.link?decodeURIComponent(f.link):void 0,y=tn(g).link,I=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return tn(I).link||I||y||g||_}(f);if(I.includes("/__/auth/callback")){const N=tn(I),H=N.firebaseError?function lg(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(N.firebaseError)):null,W=null===(y=null===(g=H?.code)||void 0===g?void 0:g.split("auth/"))||void 0===y?void 0:y[1],Fe=W?re(W):null;return Fe?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Fe,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:I,postBody:null}}return null}(Mn,Ze.url)),g.onEvent($r||hn())});return function(Mn){return rt.apply(this,arguments)}}();typeof y<"u"&&"function"==typeof y.subscribe&&y.subscribe(null,W);const Fe=I,Ue=`${N.packageName.toLowerCase()}://`;Xa().handleOpenURL=function(){var rt=(0,l.Z)(function*(Ze){if(Ze.toLowerCase().startsWith(Ue)&&W({url:Ze}),"function"==typeof Fe)try{Fe(Ze)}catch(Mn){console.error(Mn)}});return function(Ze){return rt.apply(this,arguments)}}()}};function hn(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:re("no-auth-event")}}function vn(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function Ki(_=(0,x.z$)()){return!("file:"!==vn()&&"ionic:"!==vn()&&"capacitor:"!==vn()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function D_(){try{const _=self.localStorage,f=xl();if(_)return _.setItem(f,"1"),_.removeItem(f),!function X0(_=(0,x.z$)()){return function lu(){return(0,x.w1)()&&11===document?.documentMode}()||function as(_=(0,x.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,x.hl)()}catch{return fg()&&(0,x.hl)()}return!1}function fg(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function rf(){return(function kt(){return"http:"===vn()||"https:"===vn()}()||(0,x.ru)()||Ki())&&!function Q0(){return(0,x.b$)()||(0,x.UG)()}()&&D_()&&!fg()}function ra(){return Ki()&&typeof document<"u"}function Fs(){return(Fs=(0,l.Z)(function*(){return!!ra()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const qi={LOCAL:"local",NONE:"none",SESSION:"session"},Jl=Y,nl="persistence";function cu(_){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(_){yield _._initializationPromise;const f=sa(),g=j(nl,_.config.apiKey,_.name);f&&f.setItem(g,_._getPersistence())})).apply(this,arguments)}function sa(){var _;try{return(null===(_=function pg(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const Id=Y;class mo{constructor(){this.browserResolver=et(os),this.cordovaResolver=et(ia),this.underlyingResolver=null,this._redirectPersistence=Ui,this._completeRedirectFn=jr,this._overrideRedirectResult=Wl}_initialize(f){var g=this;return(0,l.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,y,I){var N=this;return(0,l.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,g,y,I)})()}_openRedirect(f,g,y,I){var N=this;return(0,l.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,g,y,I)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ra()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Id(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,l.Z)(function*(){if(f.underlyingResolver)return;const g=yield function ql(){return Fs.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function ls(_){return _.unwrap()}function Sr(_){return Ji(_)}function Ji(_){const{_tokenResponse:f}=_ instanceof x.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof x.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return ts.credentialFromResult(_);const g=f.providerId;if(!g||g===ue.PASSWORD)return null;let y;switch(g){case ue.GOOGLE:y=or;break;case ue.FACEBOOK:y=Ss;break;case ue.GITHUB:y=Ma;break;case ue.TWITTER:y=Il;break;default:const{oauthIdToken:I,oauthAccessToken:N,oauthTokenSecret:H,pendingToken:W,nonce:Fe}=f;return N||H||I||W?W?g.startsWith("saml.")?Ot._create(g,W):bt._fromParams({providerId:g,signInMethod:g,pendingToken:W,idToken:I,accessToken:N}):new Qr(g).credential({idToken:I,accessToken:N,rawNonce:Fe}):null}return _ instanceof x.ZR?y.credentialFromError(_):y.credentialFromResult(_)}function hr(_,f){return f.catch(g=>{throw g instanceof x.ZR&&function w_(_,f){var g;const y=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new C_(_,function od(_,f){var g;const y=(0,x.m9)(_),I=f;return Y(f.customData.operationType,y,"argument-error"),Y(null===(g=I.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,y,"argument-error"),io._fromError(y,I)}(_,f));else if(y){const I=Ji(f),N=f;I&&(N.credential=I,N.tenantId=y.tenantId||void 0,N.email=y.email||void 0,N.phoneNumber=y.phoneNumber||void 0)}}(_,g),g}).then(g=>{const I=g.user;return{operationType:g.operationType,credential:Sr(g),additionalUserInfo:Lh(g),user:jn.getOrCreate(I)}})}function Ql(_,f){return du.apply(this,arguments)}function du(){return(du=(0,l.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:y=>hr(_,g.confirm(y))}})).apply(this,arguments)}class C_{constructor(f,g){this.resolver=g,this.auth=function uu(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return hr(ls(this.auth),this.resolver.resolveSignIn(f))}}class jn{constructor(f){this._delegate=f,this.multiFactor=function so(_){const f=(0,x.m9)(_);return ro.has(f)||ro.set(f,Xt._fromUser(f)),ro.get(f)}(f)}static getOrCreate(f){return jn.USER_MAP.has(f)||jn.USER_MAP.set(f,new jn(f)),jn.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,l.Z)(function*(){return hr(g.auth,$p(g._delegate,f))})()}linkWithPhoneNumber(f,g){var y=this;return(0,l.Z)(function*(){return Ql(y.auth,function vt(_,f,g){return es.apply(this,arguments)}(y._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,l.Z)(function*(){return hr(g.auth,function $l(_,f,g){return F.apply(this,arguments)}(g._delegate,f,mo))})()}linkWithRedirect(f){var g=this;return(0,l.Z)(function*(){return yield cu(zn(g.auth)),Jo(g._delegate,f,mo)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,l.Z)(function*(){return hr(g.auth,Gp(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Ql(this.auth,function Tt(_,f,g){return Ha.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return hr(this.auth,function Ur(_,f,g){return lr.apply(this,arguments)}(this._delegate,f,mo))}reauthenticateWithRedirect(f){var g=this;return(0,l.Z)(function*(){return yield cu(zn(g.auth)),zl(g._delegate,f,mo)})()}sendEmailVerification(f){return function Rs(_,f){return La.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,l.Z)(function*(){return yield function Js(_,f){return Wi.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function rd(_,f){return Fh((0,x.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function Rl(_,f){return Fh((0,x.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function mn(_,f){return En.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function zp(_,f){return Vc.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function nd(_,f,g){return Nl.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}jn.USER_MAP=new WeakMap;const oa=Y;let Sd=(()=>{class _{constructor(g,y){if(this.app=g,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=g.options;oa(I,"invalid-api-key",{appName:g.name}),oa(I,"invalid-api-key",{appName:g.name});const N=typeof window<"u"?mo:void 0;this._delegate=y.initialize({options:{persistence:Ri(I,g.name),popupRedirectResolver:N}}),this._delegate._updateErrorMap(We),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?jn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,y){!function Li(_,f,g){const y=zn(_);Y(y._canInitEmulator,y,"emulator-config-failed"),Y(/^https?:\/\//.test(f),y,"invalid-emulator-scheme");const I=!!g?.disableWarnings,N=xo(f),{host:H,port:W}=function Tc(_){const f=xo(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const y=g[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(y);if(I){const N=I[1];return{host:N,port:zu(y.substr(N.length+1))}}{const[N,H]=y.split(":");return{host:N,port:zu(H)}}}(f);y.config.emulator={url:`${N}//${H}${null===W?"":`:${W}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:H,port:W,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function Up(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,y)}applyActionCode(g){return function Xu(_,f){return ar.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Yn(this._delegate,g)}confirmPasswordReset(g,y){return function Qs(_,f,g){return kr.apply(this,arguments)}(this._delegate,g,y)}createUserWithEmailAndPassword(g,y){var I=this;return(0,l.Z)(function*(){return hr(I._delegate,function kc(_,f,g){return Pa.apply(this,arguments)}(I._delegate,g,y))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Fa(_,f){return to.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function td(_,f){const g=Nn.parseLink(f);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,l.Z)(function*(){oa(rf(),g._delegate,"operation-not-supported-in-this-environment");const y=yield function Dn(_,f){return Xc.apply(this,arguments)}(g._delegate,mo);return y?hr(g._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function ug(_,f){zn(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,y,I){const{next:N,error:H,complete:W}=_o(g,y,I);return this._delegate.onAuthStateChanged(N,H,W)}onIdTokenChanged(g,y,I){const{next:N,error:H,complete:W}=_o(g,y,I);return this._delegate.onIdTokenChanged(N,H,W)}sendSignInLinkToEmail(g,y){return function Ho(_,f,g){return ka.apply(this,arguments)}(this._delegate,g,y)}sendPasswordResetEmail(g,y){return function m_(_,f,g){return xa.apply(this,arguments)}(this._delegate,g,y||void 0)}setPersistence(g){var y=this;return(0,l.Z)(function*(){let I;switch(function gg(_,f){Jl(Object.values(qi).includes(f),_,"invalid-persistence-type"),(0,x.b$)()?Jl(f!==qi.SESSION,_,"unsupported-persistence-type"):(0,x.UG)()?Jl(f===qi.NONE,_,"unsupported-persistence-type"):fg()?Jl(f===qi.NONE||f===qi.LOCAL&&(0,x.hl)(),_,"unsupported-persistence-type"):Jl(f===qi.NONE||D_(),_,"unsupported-persistence-type")}(y._delegate,g),g){case qi.SESSION:I=Ui;break;case qi.LOCAL:I=(yield et(ao)._isAvailable())?ao:Wo;break;case qi.NONE:I=Qt;break;default:return me("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return hr(this._delegate,function fi(_){return xh.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return hr(this._delegate,Oc(this._delegate,g))}signInWithCustomToken(g){return hr(this._delegate,function Qu(_,f){return Xr.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,y){return hr(this._delegate,function ed(_,f,g){return Oc((0,x.m9)(_),Ks.credential(f,g))}(this._delegate,g,y))}signInWithEmailLink(g,y){return hr(this._delegate,function si(_,f,g){return Fc.apply(this,arguments)}(this._delegate,g,y))}signInWithPhoneNumber(g,y){return Ql(this._delegate,function Hl(_,f,g){return Kn.apply(this,arguments)}(this._delegate,g,y))}signInWithPopup(g){var y=this;return(0,l.Z)(function*(){return oa(rf(),y._delegate,"operation-not-supported-in-this-environment"),hr(y._delegate,function Ga(_,f,g){return Wa.apply(this,arguments)}(y._delegate,g,mo))})()}signInWithRedirect(g){var y=this;return(0,l.Z)(function*(){return oa(rf(),y._delegate,"operation-not-supported-in-this-environment"),yield cu(y._delegate),co(y._delegate,g,mo)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Vi(_,f){return eo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=qi,_})();function _o(_,f,g){let y=_;"function"!=typeof _&&({next:y,error:f,complete:g}=_);const I=y;return{next:H=>I(H&&jn.getOrCreate(H)),error:f,complete:g}}function Ri(_,f){const g=function Ft(_,f){const g=sa();if(!g)return[];const y=j(nl,_,f);switch(g.getItem(y)){case qi.NONE:return[Qt];case qi.LOCAL:return[ao,Ui];case qi.SESSION:return[Ui];default:return[]}}(_,f);if(typeof self<"u"&&!g.includes(ao)&&g.push(ao),typeof window<"u")for(const y of[Wo,Ui])g.includes(y)||g.push(y);return g.includes(Qt)||g.push(Qt),g}class aa{constructor(){this.providerId="phone",this._delegate=new ts(ls(Q.Z.auth()))}static credential(f,g){return ts.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}aa.PHONE_SIGN_IN_METHOD=ts.PHONE_SIGN_IN_METHOD,aa.PROVIDER_ID=ts.PROVIDER_ID;const mg=Y;class _g{constructor(f,g,y=Q.Z.app()){var I;mg(null===(I=y.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new _d(f,g,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function wn(_){_.INTERNAL.registerComponent(new _e.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),y=f.getProvider("auth");return new Sd(g,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ks,FacebookAuthProvider:Ss,GithubAuthProvider:Ma,GoogleAuthProvider:or,OAuthProvider:Qr,SAMLAuthProvider:Bo,PhoneAuthProvider:aa,PhoneMultiFactorGenerator:qh,RecaptchaVerifier:_g,TwitterAuthProvider:Il,Auth:Sd,AuthCredential:Zs,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.2")}(Q.Z)},2614:()=>{const st=":";const nn=function(K,...q){if(nn.translate){const Ie=nn.translate(K,q);K=Ie[0],q=Ie[1]}let fe=Tn(K[0],K.raw[0]);for(let Ie=1;Ie<K.length;Ie++)fe+=q[Ie-1]+Tn(K[Ie],K.raw[Ie]);return fe},cn=":";function Tn(K,q){return q.charAt(0)===cn?K.substring(function he(K,q){for(let fe=1,Ie=1;fe<K.length;fe++,Ie++)if("\\"===q[Ie])Ie++;else if(K[fe]===st)return fe;throw new Error(`Unterminated $localize metadata block in "${q}".`)}(K,q)+1):K}globalThis.$localize=nn},4303:(st,De,O)=>{O.d(De,{Jn:()=>cn,KN:()=>Be,Xd:()=>Je,qX:()=>Ge});var l=O(5861),Q=O(4537),x=O(7879),te=O(9058),se=O(1878);class de{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map(ve=>{if(function _e(be){const G=be.getComponent();return"VERSION"===G?.type}(ve)){const ze=ve.getImmediate();return`${ze.library}/${ze.version}`}return null}).filter(ve=>ve).join(" ")}}const Re="@firebase/app",V=new x.Yd("@firebase/app"),he={[Re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pe=new Map,ye=new Map;function Ce(be,G){try{be.container.addComponent(G)}catch(ve){V.debug(`Component ${G.name} failed to register with FirebaseApp ${be.name}`,ve)}}function Je(be){const G=be.name;if(ye.has(G))return V.debug(`There were multiple attempts to register component ${G}.`),!1;ye.set(G,be);for(const ve of pe.values())Ce(ve,be);return!0}function Ge(be,G){const ve=be.container.getProvider("heartbeat").getImmediate({optional:!0});return ve&&ve.triggerHeartbeat(),be.container.getProvider(G)}const ct=new te.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."}),cn="10.4.0";function Be(be,G,ve){var ze;let et=null!==(ze=he[be])&&void 0!==ze?ze:be;ve&&(et+=`-${ve}`);const mt=et.match(/\s|\//),Qt=G.match(/\s|\//);if(mt||Qt){const j=[`Unable to register library "${et}" with version "${G}":`];return mt&&j.push(`library name "${et}" contains illegal characters (whitespace or "/")`),mt&&Qt&&j.push("and"),Qt&&j.push(`version name "${G}" contains illegal characters (whitespace or "/")`),void V.warn(j.join(" "))}Je(new Q.wA(`${et}-version`,()=>({library:et,version:G}),"VERSION"))}const Zt="firebase-heartbeat-database",qe=1,ot="firebase-heartbeat-store";let yt=null;function Yt(){return yt||(yt=(0,se.X3)(Zt,qe,{upgrade:(be,G)=>{0===G&&be.createObjectStore(ot)}}).catch(be=>{throw ct.create("idb-open",{originalErrorMessage:be.message})})),yt}function In(){return(In=(0,l.Z)(function*(be){try{return yield(yield Yt()).transaction(ot).objectStore(ot).get(an(be))}catch(G){if(G instanceof te.ZR)V.warn(G.message);else{const ve=ct.create("idb-get",{originalErrorMessage:G?.message});V.warn(ve.message)}}})).apply(this,arguments)}function Rt(be,G){return dn.apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*(be,G){try{const ze=(yield Yt()).transaction(ot,"readwrite");yield ze.objectStore(ot).put(G,an(be)),yield ze.done}catch(ve){if(ve instanceof te.ZR)V.warn(ve.message);else{const ze=ct.create("idb-set",{originalErrorMessage:ve?.message});V.warn(ze.message)}}})).apply(this,arguments)}function an(be){return`${be.name}!${be.options.appId}`}class Ht{constructor(G){this.container=G,this._heartbeatsCache=null;const ve=this.container.getProvider("app").getImmediate();this._storage=new Kr(ve),this._heartbeatsCachePromise=this._storage.read().then(ze=>(this._heartbeatsCache=ze,ze))}triggerHeartbeat(){var G=this;return(0,l.Z)(function*(){const ze=G.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),et=yi();if(null===G._heartbeatsCache&&(G._heartbeatsCache=yield G._heartbeatsCachePromise),G._heartbeatsCache.lastSentHeartbeatDate!==et&&!G._heartbeatsCache.heartbeats.some(mt=>mt.date===et))return G._heartbeatsCache.heartbeats.push({date:et,agent:ze}),G._heartbeatsCache.heartbeats=G._heartbeatsCache.heartbeats.filter(mt=>{const Qt=new Date(mt.date).valueOf();return Date.now()-Qt<=2592e6}),G._storage.overwrite(G._heartbeatsCache)})()}getHeartbeatsHeader(){var G=this;return(0,l.Z)(function*(){if(null===G._heartbeatsCache&&(yield G._heartbeatsCachePromise),null===G._heartbeatsCache||0===G._heartbeatsCache.heartbeats.length)return"";const ve=yi(),{heartbeatsToSend:ze,unsentEntries:et}=function Mr(be,G=1024){const ve=[];let ze=be.slice();for(const et of be){const mt=ve.find(Qt=>Qt.agent===et.agent);if(mt){if(mt.dates.push(et.date),bi(ve)>G){mt.dates.pop();break}}else if(ve.push({agent:et.agent,dates:[et.date]}),bi(ve)>G){ve.pop();break}ze=ze.slice(1)}return{heartbeatsToSend:ve,unsentEntries:ze}}(G._heartbeatsCache.heartbeats),mt=(0,te.L)(JSON.stringify({version:2,heartbeats:ze}));return G._heartbeatsCache.lastSentHeartbeatDate=ve,et.length>0?(G._heartbeatsCache.heartbeats=et,yield G._storage.overwrite(G._heartbeatsCache)):(G._heartbeatsCache.heartbeats=[],G._storage.overwrite(G._heartbeatsCache)),mt})()}}function yi(){return(new Date).toISOString().substring(0,10)}class Kr{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,te.hl)()&&(0,te.eu)().then(()=>!0).catch(()=>!1)})()}read(){var G=this;return(0,l.Z)(function*(){return(yield G._canUseIndexedDBPromise)&&(yield function on(be){return In.apply(this,arguments)}(G.app))||{heartbeats:[]}})()}overwrite(G){var ve=this;return(0,l.Z)(function*(){var ze;if(yield ve._canUseIndexedDBPromise){const mt=yield ve.read();return Rt(ve.app,{lastSentHeartbeatDate:null!==(ze=G.lastSentHeartbeatDate)&&void 0!==ze?ze:mt.lastSentHeartbeatDate,heartbeats:G.heartbeats})}})()}add(G){var ve=this;return(0,l.Z)(function*(){var ze;if(yield ve._canUseIndexedDBPromise){const mt=yield ve.read();return Rt(ve.app,{lastSentHeartbeatDate:null!==(ze=G.lastSentHeartbeatDate)&&void 0!==ze?ze:mt.lastSentHeartbeatDate,heartbeats:[...mt.heartbeats,...G.heartbeats]})}})()}}function bi(be){return(0,te.L)(JSON.stringify({version:2,heartbeats:be})).length}!function Or(be){Je(new Q.wA("platform-logger",G=>new de(G),"PRIVATE")),Je(new Q.wA("heartbeat",G=>new Ht(G),"PRIVATE")),Be(Re,"0.9.19",be),Be(Re,"0.9.19","esm2017"),Be("fire-js","")}("")},4537:(st,De,O)=>{O.d(De,{H0:()=>Re,wA:()=>x,zt:()=>se});var l=O(5861),Q=O(9058);class x{constructor(V,$,ne){this.name=V,this.instanceFactory=$,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const te="[DEFAULT]";class se{constructor(V,$){this.name=V,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const $=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has($)){const ne=new Q.BH;if(this.instancesDeferred.set($,ne),this.isInitialized($)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:$});Le&&ne.resolve(Le)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(V){var $;const ne=this.normalizeInstanceIdentifier(V?.identifier),Le=null!==($=V?.optional)&&void 0!==$&&$;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Ae){if(Le)return null;throw Ae}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function _e(ue){return"EAGER"===ue.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:te})}catch{}for(const[$,ne]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier($);try{const Ae=this.getOrInitializeService({instanceIdentifier:Le});ne.resolve(Ae)}catch{}}}}clearInstance(V=te){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,l.Z)(function*(){const $=Array.from(V.instances.values());yield Promise.all([...$.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...$.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=te){return this.instances.has(V)}getOptions(V=te){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:$={}}=V,ne=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:ne,options:$});for(const[Ae,We]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Ae)&&We.resolve(Le);return Le}onInit(V,$){var ne;const Le=this.normalizeInstanceIdentifier($),Ae=null!==(ne=this.onInitCallbacks.get(Le))&&void 0!==ne?ne:new Set;Ae.add(V),this.onInitCallbacks.set(Le,Ae);const We=this.instances.get(Le);return We&&V(We,Le),()=>{Ae.delete(V)}}invokeOnInitCallbacks(V,$){const ne=this.onInitCallbacks.get($);if(ne)for(const Le of ne)try{Le(V,$)}catch{}}getOrInitializeService({instanceIdentifier:V,options:$={}}){let ne=this.instances.get(V);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=V,ue===te?void 0:ue),options:$}),this.instances.set(V,ne),this.instancesOptions.set(V,$),this.invokeOnInitCallbacks(ne,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,ne)}catch{}var ue;return ne||null}normalizeInstanceIdentifier(V=te){return this.component?this.component.multipleInstances?V:te:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Re{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const $=this.getProvider(V.name);if($.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);$.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const $=new se(V,this);return this.providers.set(V,$),$}getProviders(){return Array.from(this.providers.values())}}},7879:(st,De,O)=>{O.d(De,{Am:()=>ue,Ub:()=>Re,Yd:()=>_e,in:()=>Q});const l=[];var Q=function(V){return V[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",V}(Q||{});const x={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},te=Q.INFO,se={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},de=(V,$,...ne)=>{if($<V.logLevel)return;const Le=(new Date).toISOString(),Ae=se[$];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Ae](`[${Le}]  ${V.name}:`,...ne)};class _e{constructor($){this.name=$,this._logLevel=te,this._logHandler=de,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in Q))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?x[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...$),this._logHandler(this,Q.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...$),this._logHandler(this,Q.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...$),this._logHandler(this,Q.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...$),this._logHandler(this,Q.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...$),this._logHandler(this,Q.ERROR,...$)}}function Re(V){l.forEach($=>{$.setLogLevel(V)})}function ue(V,$){for(const ne of l){let Le=null;$&&$.level&&(Le=x[$.level]),ne.userLogHandler=null===V?null:(Ae,We,...Pe)=>{const Ye=Pe.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch{return null}}).filter(Oe=>Oe).join(" ");We>=(Le??Ae.logLevel)&&V({level:Q[We].toLowerCase(),message:Ye,args:Pe,type:Ae.name})}}}},1878:(st,De,O)=>{O.d(De,{X3:()=>lt});var l=O(5861);const Q=(ae,Y)=>Y.some(je=>ae instanceof je);let x,te;const _e=new WeakMap,Re=new WeakMap,ue=new WeakMap,V=new WeakMap,$=new WeakMap;let Ae={get(ae,Y,je){if(ae instanceof IDBTransaction){if("done"===Y)return Re.get(ae);if("objectStoreNames"===Y)return ae.objectStoreNames||ue.get(ae);if("store"===Y)return je.objectStoreNames[1]?void 0:je.objectStore(je.objectStoreNames[0])}return Oe(ae[Y])},set:(ae,Y,je)=>(ae[Y]=je,!0),has:(ae,Y)=>ae instanceof IDBTransaction&&("done"===Y||"store"===Y)||Y in ae};function Ye(ae){return"function"==typeof ae?function Pe(ae){return ae!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return te||(te=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ae)?function(...Y){return ae.apply(at(this),Y),Oe(_e.get(this))}:function(...Y){return Oe(ae.apply(at(this),Y))}:function(Y,...je){const dt=ae.call(at(this),Y,...je);return ue.set(dt,Y.sort?Y.sort():[Y]),Oe(dt)}}(ae):(ae instanceof IDBTransaction&&function Le(ae){if(Re.has(ae))return;const Y=new Promise((je,dt)=>{const zt=()=>{ae.removeEventListener("complete",ln),ae.removeEventListener("error",sn),ae.removeEventListener("abort",sn)},ln=()=>{je(),zt()},sn=()=>{dt(ae.error||new DOMException("AbortError","AbortError")),zt()};ae.addEventListener("complete",ln),ae.addEventListener("error",sn),ae.addEventListener("abort",sn)});Re.set(ae,Y)}(ae),Q(ae,function se(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ae,Ae):ae)}function Oe(ae){if(ae instanceof IDBRequest)return function ne(ae){const Y=new Promise((je,dt)=>{const zt=()=>{ae.removeEventListener("success",ln),ae.removeEventListener("error",sn)},ln=()=>{je(Oe(ae.result)),zt()},sn=()=>{dt(ae.error),zt()};ae.addEventListener("success",ln),ae.addEventListener("error",sn)});return Y.then(je=>{je instanceof IDBCursor&&_e.set(je,ae)}).catch(()=>{}),$.set(Y,ae),Y}(ae);if(V.has(ae))return V.get(ae);const Y=Ye(ae);return Y!==ae&&(V.set(ae,Y),$.set(Y,ae)),Y}const at=ae=>$.get(ae);function lt(ae,Y,{blocked:je,upgrade:dt,blocking:zt,terminated:ln}={}){const sn=indexedDB.open(ae,Y),fn=Oe(sn);return dt&&sn.addEventListener("upgradeneeded",pn=>{dt(Oe(sn.result),pn.oldVersion,pn.newVersion,Oe(sn.transaction),pn)}),je&&sn.addEventListener("blocked",pn=>je(pn.oldVersion,pn.newVersion,pn)),fn.then(pn=>{ln&&pn.addEventListener("close",()=>ln()),zt&&pn.addEventListener("versionchange",Gn=>zt(Gn.oldVersion,Gn.newVersion,Gn))}).catch(()=>{}),fn}const me=["get","getKey","getAll","getAllKeys","count"],re=["put","add","delete","clear"],we=new Map;function xe(ae,Y){if(!(ae instanceof IDBDatabase)||Y in ae||"string"!=typeof Y)return;if(we.get(Y))return we.get(Y);const je=Y.replace(/FromIndex$/,""),dt=Y!==je,zt=re.includes(je);if(!(je in(dt?IDBIndex:IDBObjectStore).prototype)||!zt&&!me.includes(je))return;const ln=function(){var sn=(0,l.Z)(function*(fn,...pn){const Gn=this.transaction(fn,zt?"readwrite":"readonly");let le=Gn.store;return dt&&(le=le.index(pn.shift())),(yield Promise.all([le[je](...pn),zt&&Gn.done]))[0]});return function(pn){return sn.apply(this,arguments)}}();return we.set(Y,ln),ln}!function We(ae){Ae=ae(Ae)}(ae=>({...ae,get:(Y,je,dt)=>xe(Y,je)||ae.get(Y,je,dt),has:(Y,je)=>!!xe(Y,je)||ae.has(Y,je)}))},5861:(st,De,O)=>{function l(x,te,se,de,_e,Re,ue){try{var V=x[Re](ue),$=V.value}catch(ne){return void se(ne)}V.done?te($):Promise.resolve($).then(de,_e)}function Q(x){return function(){var te=this,se=arguments;return new Promise(function(de,_e){var Re=x.apply(te,se);function ue($){l(Re,de,_e,ue,V,"next",$)}function V($){l(Re,de,_e,ue,V,"throw",$)}ue(void 0)})}}O.d(De,{Z:()=>Q})},7582:(st,De,O)=>{function te(le,he){var pe={};for(var ye in le)Object.prototype.hasOwnProperty.call(le,ye)&&he.indexOf(ye)<0&&(pe[ye]=le[ye]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var Ce=0;for(ye=Object.getOwnPropertySymbols(le);Ce<ye.length;Ce++)he.indexOf(ye[Ce])<0&&Object.prototype.propertyIsEnumerable.call(le,ye[Ce])&&(pe[ye[Ce]]=le[ye[Ce]])}return pe}function ne(le,he,pe,ye){return new(pe||(pe=Promise))(function(Ne,Je){function Ge(jt){try{gt(ye.next(jt))}catch(ct){Je(ct)}}function gn(jt){try{gt(ye.throw(jt))}catch(ct){Je(ct)}}function gt(jt){jt.done?Ne(jt.value):function Ce(Ne){return Ne instanceof pe?Ne:new pe(function(Je){Je(Ne)})}(jt.value).then(Ge,gn)}gt((ye=ye.apply(le,he||[])).next())})}function oe(le){return this instanceof oe?(this.v=le,this):new oe(le)}function me(le,he,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,ye=pe.apply(le,he||[]),Ne=[];return Ce={},Je("next"),Je("throw"),Je("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce;function Je(nn){ye[nn]&&(Ce[nn]=function(cn){return new Promise(function(Tn,K){Ne.push([nn,cn,Tn,K])>1||Ge(nn,cn)})})}function Ge(nn,cn){try{!function gn(nn){nn.value instanceof oe?Promise.resolve(nn.value.v).then(gt,jt):ct(Ne[0][2],nn)}(ye[nn](cn))}catch(Tn){ct(Ne[0][3],Tn)}}function gt(nn){Ge("next",nn)}function jt(nn){Ge("throw",nn)}function ct(nn,cn){nn(cn),Ne.shift(),Ne.length&&Ge(Ne[0][0],Ne[0][1])}}function we(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,he=le[Symbol.asyncIterator];return he?he.call(le):(le=function Pe(le){var he="function"==typeof Symbol&&Symbol.iterator,pe=he&&le[he],ye=0;if(pe)return pe.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&ye>=le.length&&(le=void 0),{value:le&&le[ye++],done:!le}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(le),pe={},ye("next"),ye("throw"),ye("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function ye(Ne){pe[Ne]=le[Ne]&&function(Je){return new Promise(function(Ge,gn){!function Ce(Ne,Je,Ge,gn){Promise.resolve(gn).then(function(gt){Ne({value:gt,done:Ge})},Je)}(Ge,gn,(Je=le[Ne](Je)).done,Je.value)})}}}O.d(De,{FC:()=>me,KL:()=>we,_T:()=>te,mG:()=>ne,qq:()=>oe}),"function"==typeof SuppressedError&&SuppressedError}},st=>{var De=l=>st(st.s=l);De(2614),De(4469)}]);